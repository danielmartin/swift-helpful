<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.6, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Enumerations with Cases of Any Type (The Swift Programming Reference (Swift 5.1))</title>

<meta name="description" content="Enumerations with Cases of Any Type (The Swift Programming Reference (Swift 5.1))">
<meta name="keywords" content="Enumerations with Cases of Any Type (The Swift Programming Reference (Swift 5.1))">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Index.html#Index" rel="index" title="Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Enumeration-Declaration.html#Enumeration-Declaration" rel="up" title="Enumeration Declaration">
<link href="Enumerations-with-Cases-of-a-Raw_002dValue-Type.html#Enumerations-with-Cases-of-a-Raw_002dValue-Type" rel="next" title="Enumerations with Cases of a Raw-Value Type">
<link href="Enumeration-Declaration.html#Enumeration-Declaration" rel="prev" title="Enumeration Declaration">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="https://gnu.org/software/emacs/manual.css">


</head>

<body lang="en">
<span id="Enumerations-with-Cases-of-Any-Type"></span><div class="header">
<p>
Next: <a href="Enumerations-with-Cases-of-a-Raw_002dValue-Type.html#Enumerations-with-Cases-of-a-Raw_002dValue-Type" accesskey="n" rel="next">Enumerations with Cases of a Raw-Value Type</a>, Up: <a href="Enumeration-Declaration.html#Enumeration-Declaration" accesskey="u" rel="up">Enumeration Declaration</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html#Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="Enumerations-with-Cases-of-Any-Type-1"></span><h4 class="subsection">7.8.1 Enumerations with Cases of Any Type</h4>

<p>The following form declares an enumeration type that contains
enumeration cases of any type:
</p>
<ol>
<li> enum enumeration name: adopted protocols {
</li><li> case enumeration case 1
</li><li> case enumeration case 2(associated value types)
</li><li> }
</li></ol>

<p>Enumerations declared in this form are sometimes called <em>discriminated
unions</em> in other programming languages.
</p>
<p>In this form, each case block consists of the &lsquo;<samp>case</samp>&rsquo; keyword followed by
one or more enumeration cases, separated by commas. The name of each
case must be unique. Each case can also specify that it stores values of
a given type. These types are specified in the <em>associated value types</em>
tuple, immediately following the name of the case.
</p>
<p>Enumeration cases that store associated values can be used as functions
that create instances of the enumeration with the specified associated
values. And just like functions, you can get a reference to an
enumeration case and apply it later in your code.
</p>
<ol>
<li> enum Number {
</li><li> case integer(Int)
</li><li> case real(Double)
</li><li> }
</li><li> let f = Number.integer
</li><li> // f is a function of type (Int) -&gt; Number
</li><li> // Apply f to create an array of Number instances with integer values
</li><li> let evenInts: [Number] = [0, 2, 4, 6].map(f)
</li></ol>

<p>For more information and to see examples of cases with associated value
types, see <a href="../swift/Associated-Values.html#Associated-Values">(swift)Associated
Values</a>.
</p>
<ol>
<li> Enumerations with Indirection


<p>Enumerations can have a recursive structure, that is, they can have
cases with associated values that are instances of the enumeration type
itself. However, instances of enumeration types have value semantics,
which means they have a fixed layout in memory. To support recursion,
the compiler must insert a layer of indirection.
</p>
<p>To enable indirection for a particular enumeration case, mark it with
the &lsquo;<samp>indirect</samp>&rsquo; declaration modifier. An indirect case must have an
associated value.
</p>
<ol>
<li> enum Tree&lt;T&gt; {
</li><li> case empty
</li><li> indirect case node(value: T, left: Tree, right: Tree)
</li><li> }
</li></ol>

<p>To enable indirection for all the cases of an enumeration that have an
associated value, mark the entire enumeration with the &lsquo;<samp>indirect</samp>&rsquo;
modifier&mdash;this is convenient when the enumeration contains many cases
that would each need to be marked with the &lsquo;<samp>indirect</samp>&rsquo; modifier.
</p>
<p>An enumeration that is marked with the &lsquo;<samp>indirect</samp>&rsquo; modifier can contain a
mixture of cases that have associated values and cases those that don&rsquo;t.
That said, it can&rsquo;t contain any cases that are also marked with the
&lsquo;<samp>indirect</samp>&rsquo; modifier.
</p></li></ol>

<hr>
<div class="header">
<p>
Next: <a href="Enumerations-with-Cases-of-a-Raw_002dValue-Type.html#Enumerations-with-Cases-of-a-Raw_002dValue-Type" accesskey="n" rel="next">Enumerations with Cases of a Raw-Value Type</a>, Up: <a href="Enumeration-Declaration.html#Enumeration-Declaration" accesskey="u" rel="up">Enumeration Declaration</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Index.html#Index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
