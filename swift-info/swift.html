<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.6, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>The Swift Programming Language Guide (Swift 5.1)</title>

<meta name="description" content="The Swift Programming Language Guide (Swift 5.1)">
<meta name="keywords" content="The Swift Programming Language Guide (Swift 5.1)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="#Top" rel="start" title="Top">
<link href="#Index" rel="index" title="Index">
<link href="#SEC_Contents" rel="contents" title="Table of Contents">
<link href="dir.html#Top" rel="up" title="(dir)">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="https://gnu.org/software/emacs/manual.css">


</head>

<body lang="en">
<h1 class="settitle" align="center">The Swift Programming Language Guide (Swift 5.1)</h1>



<span id="SEC_Contents"></span>
<h2 class="contents-heading">Table of Contents</h2>

<div class="contents">

<ul class="no-bullet">
  <li><a id="toc-Welcome-to-Swift-1" href="#Welcome-to-Swift">1 Welcome to Swift</a></li>
  <li><a id="toc-About-Swift-1" href="#About-Swift">2 About Swift</a></li>
  <li><a id="toc-Version-Compatibility-1" href="#Version-Compatibility">3 Version Compatibility</a></li>
  <li><a id="toc-A-Swift-Tour-1" href="#A-Swift-Tour">4 A Swift Tour</a>
  <ul class="no-bullet">
    <li><a id="toc-Simple-Values-1" href="#Simple-Values">4.1 Simple Values</a></li>
    <li><a id="toc-Control-Flow-2" href="#Control-Flow">4.2 Control Flow</a></li>
    <li><a id="toc-Functions-and-Closures-1" href="#Functions-and-Closures">4.3 Functions and Closures</a></li>
    <li><a id="toc-Objects-and-Classes-1" href="#Objects-and-Classes">4.4 Objects and Classes</a></li>
    <li><a id="toc-Enumerations-and-Structures-1" href="#Enumerations-and-Structures">4.5 Enumerations and Structures</a></li>
    <li><a id="toc-Protocols-and-Extensions-1" href="#Protocols-and-Extensions">4.6 Protocols and Extensions</a></li>
    <li><a id="toc-Error-Handling-3" href="#Error-Handling">4.7 Error Handling</a></li>
    <li><a id="toc-Generics-3" href="#Generics">4.8 Generics</a></li>
  </ul></li>
  <li><a id="toc-Language-Guide-1" href="#Language-Guide">5 Language Guide</a></li>
  <li><a id="toc-The-Basics-1" href="#The-Basics">6 The Basics</a>
  <ul class="no-bullet">
    <li><a id="toc-Constants-and-Variables-1" href="#Constants-and-Variables">6.1 Constants and Variables</a>
    <ul class="no-bullet">
      <li><a id="toc-Declaring-Constants-and-Variables-1" href="#Declaring-Constants-and-Variables">6.1.1 Declaring Constants and Variables</a></li>
      <li><a id="toc-Type-Annotations-1" href="#Type-Annotations">6.1.2 Type Annotations</a></li>
      <li><a id="toc-Naming-Constants-and-Variables-1" href="#Naming-Constants-and-Variables">6.1.3 Naming Constants and Variables</a></li>
      <li><a id="toc-Printing-Constants-and-Variables-1" href="#Printing-Constants-and-Variables">6.1.4 Printing Constants and Variables</a></li>
    </ul></li>
    <li><a id="toc-Comments-1" href="#Comments">6.2 Comments</a></li>
    <li><a id="toc-Semicolons-1" href="#Semicolons">6.3 Semicolons</a></li>
    <li><a id="toc-Integers-1" href="#Integers">6.4 Integers</a>
    <ul class="no-bullet">
      <li><a id="toc-Integer-Bounds-1" href="#Integer-Bounds">6.4.1 Integer Bounds</a></li>
      <li><a id="toc-Int-1" href="#Int">6.4.2 Int</a></li>
      <li><a id="toc-UInt-1" href="#UInt">6.4.3 UInt</a></li>
    </ul></li>
    <li><a id="toc-Floating_002dPoint-Numbers-1" href="#Floating_002dPoint-Numbers">6.5 Floating-Point Numbers</a></li>
    <li><a id="toc-Type-Safety-and-Type-Inference-1" href="#Type-Safety-and-Type-Inference">6.6 Type Safety and Type Inference</a></li>
    <li><a id="toc-Numeric-Literals-1" href="#Numeric-Literals">6.7 Numeric Literals</a></li>
    <li><a id="toc-Numeric-Type-Conversion-1" href="#Numeric-Type-Conversion">6.8 Numeric Type Conversion</a>
    <ul class="no-bullet">
      <li><a id="toc-Integer-Conversion-1" href="#Integer-Conversion">6.8.1 Integer Conversion</a></li>
      <li><a id="toc-Integer-and-Floating_002dPoint-Conversion-1" href="#Integer-and-Floating_002dPoint-Conversion">6.8.2 Integer and Floating-Point Conversion</a></li>
    </ul></li>
    <li><a id="toc-Type-Aliases-2" href="#Type-Aliases">6.9 Type Aliases</a></li>
    <li><a id="toc-Booleans-1" href="#Booleans">6.10 Booleans</a></li>
    <li><a id="toc-Tuples-1" href="#Tuples">6.11 Tuples</a></li>
    <li><a id="toc-Optionals-1" href="#Optionals">6.12 Optionals</a>
    <ul class="no-bullet">
      <li><a id="toc-nil-1" href="#nil">6.12.1 nil</a></li>
      <li><a id="toc-If-Statements-and-Forced-Unwrapping-1" href="#If-Statements-and-Forced-Unwrapping">6.12.2 If Statements and Forced Unwrapping</a></li>
      <li><a id="toc-Optional-Binding-1" href="#Optional-Binding">6.12.3 Optional Binding</a></li>
      <li><a id="toc-Implicitly-Unwrapped-Optionals-1" href="#Implicitly-Unwrapped-Optionals">6.12.4 Implicitly Unwrapped Optionals</a></li>
    </ul></li>
    <li><a id="toc-Error-Handling-4" href="#Error-Handling-1">6.13 Error Handling</a></li>
    <li><a id="toc-Assertions-and-Preconditions-1" href="#Assertions-and-Preconditions">6.14 Assertions and Preconditions</a>
    <ul class="no-bullet">
      <li><a id="toc-Debugging-with-Assertions-1" href="#Debugging-with-Assertions">6.14.1 Debugging with Assertions</a></li>
      <li><a id="toc-Enforcing-Preconditions-1" href="#Enforcing-Preconditions">6.14.2 Enforcing Preconditions</a></li>
    </ul></li>
  </ul></li>
  <li><a id="toc-Basic-Operators-1" href="#Basic-Operators">7 Basic Operators</a>
  <ul class="no-bullet">
    <li><a id="toc-Terminology-1" href="#Terminology">7.1 Terminology</a></li>
    <li><a id="toc-Assignment-Operator-1" href="#Assignment-Operator">7.2 Assignment Operator</a></li>
    <li><a id="toc-Arithmetic-Operators-1" href="#Arithmetic-Operators">7.3 Arithmetic Operators</a>
    <ul class="no-bullet">
      <li><a id="toc-Remainder-Operator-1" href="#Remainder-Operator">7.3.1 Remainder Operator</a></li>
      <li><a id="toc-Unary-Minus-Operator-1" href="#Unary-Minus-Operator">7.3.2 Unary Minus Operator</a></li>
      <li><a id="toc-Unary-Plus-Operator-1" href="#Unary-Plus-Operator">7.3.3 Unary Plus Operator</a></li>
    </ul></li>
    <li><a id="toc-Compound-Assignment-Operators-2" href="#Compound-Assignment-Operators">7.4 Compound Assignment Operators</a></li>
    <li><a id="toc-Comparison-Operators-1" href="#Comparison-Operators">7.5 Comparison Operators</a></li>
    <li><a id="toc-Ternary-Conditional-Operator-1" href="#Ternary-Conditional-Operator">7.6 Ternary Conditional Operator</a></li>
    <li><a id="toc-Nil_002dCoalescing-Operator-1" href="#Nil_002dCoalescing-Operator">7.7 Nil-Coalescing Operator</a></li>
    <li><a id="toc-Range-Operators-1" href="#Range-Operators">7.8 Range Operators</a>
    <ul class="no-bullet">
      <li><a id="toc-Closed-Range-Operator-1" href="#Closed-Range-Operator">7.8.1 Closed Range Operator</a></li>
      <li><a id="toc-Half_002dOpen-Range-Operator-1" href="#Half_002dOpen-Range-Operator">7.8.2 Half-Open Range Operator</a></li>
      <li><a id="toc-One_002dSided-Ranges-1" href="#One_002dSided-Ranges">7.8.3 One-Sided Ranges</a></li>
    </ul></li>
    <li><a id="toc-Logical-Operators-1" href="#Logical-Operators">7.9 Logical Operators</a>
    <ul class="no-bullet">
      <li><a id="toc-Logical-NOT-Operator-1" href="#Logical-NOT-Operator">7.9.1 Logical NOT Operator</a></li>
      <li><a id="toc-Logical-AND-Operator-1" href="#Logical-AND-Operator">7.9.2 Logical AND Operator</a></li>
      <li><a id="toc-Logical-OR-Operator-1" href="#Logical-OR-Operator">7.9.3 Logical OR Operator</a></li>
      <li><a id="toc-Combining-Logical-Operators-1" href="#Combining-Logical-Operators">7.9.4 Combining Logical Operators</a></li>
      <li><a id="toc-Explicit-Parentheses-1" href="#Explicit-Parentheses">7.9.5 Explicit Parentheses</a></li>
    </ul></li>
  </ul></li>
  <li><a id="toc-Strings-and-Characters-1" href="#Strings-and-Characters">8 Strings and Characters</a>
  <ul class="no-bullet">
    <li><a id="toc-String-Literals-1" href="#String-Literals">8.1 String Literals</a>
    <ul class="no-bullet">
      <li><a id="toc-Multiline-String-Literals-1" href="#Multiline-String-Literals">8.1.1 Multiline String Literals</a></li>
      <li><a id="toc-Special-Characters-in-String-Literals-1" href="#Special-Characters-in-String-Literals">8.1.2 Special Characters in String Literals</a></li>
      <li><a id="toc-Extended-String-Delimiters-1" href="#Extended-String-Delimiters">8.1.3 Extended String Delimiters</a></li>
    </ul></li>
    <li><a id="toc-Initializing-an-Empty-String-1" href="#Initializing-an-Empty-String">8.2 Initializing an Empty String</a></li>
    <li><a id="toc-String-Mutability-1" href="#String-Mutability">8.3 String Mutability</a></li>
    <li><a id="toc-Strings-Are-Value-Types-1" href="#Strings-Are-Value-Types">8.4 Strings Are Value Types</a></li>
    <li><a id="toc-Working-with-Characters-1" href="#Working-with-Characters">8.5 Working with Characters</a></li>
    <li><a id="toc-Concatenating-Strings-and-Characters-1" href="#Concatenating-Strings-and-Characters">8.6 Concatenating Strings and Characters</a></li>
    <li><a id="toc-String-Interpolation-1" href="#String-Interpolation">8.7 String Interpolation</a></li>
    <li><a id="toc-Unicode-1" href="#Unicode">8.8 Unicode</a>
    <ul class="no-bullet">
      <li><a id="toc-Unicode-Scalar-Values-1" href="#Unicode-Scalar-Values">8.8.1 Unicode Scalar Values</a></li>
      <li><a id="toc-Extended-Grapheme-Clusters-1" href="#Extended-Grapheme-Clusters">8.8.2 Extended Grapheme Clusters</a></li>
    </ul></li>
    <li><a id="toc-Counting-Characters-1" href="#Counting-Characters">8.9 Counting Characters</a></li>
    <li><a id="toc-Accessing-and-Modifying-a-String-1" href="#Accessing-and-Modifying-a-String">8.10 Accessing and Modifying a String</a>
    <ul class="no-bullet">
      <li><a id="toc-String-Indices-1" href="#String-Indices">8.10.1 String Indices</a></li>
      <li><a id="toc-Inserting-and-Removing-1" href="#Inserting-and-Removing">8.10.2 Inserting and Removing</a></li>
    </ul></li>
    <li><a id="toc-Substrings-1" href="#Substrings">8.11 Substrings</a></li>
    <li><a id="toc-Comparing-Strings-1" href="#Comparing-Strings">8.12 Comparing Strings</a>
    <ul class="no-bullet">
      <li><a id="toc-String-and-Character-Equality-1" href="#String-and-Character-Equality">8.12.1 String and Character Equality</a></li>
      <li><a id="toc-Prefix-and-Suffix-Equality-1" href="#Prefix-and-Suffix-Equality">8.12.2 Prefix and Suffix Equality</a></li>
    </ul></li>
    <li><a id="toc-Unicode-Representations-of-Strings-1" href="#Unicode-Representations-of-Strings">8.13 Unicode Representations of Strings</a>
    <ul class="no-bullet">
      <li><a id="toc-UTF_002d8-Representation-1" href="#UTF_002d8-Representation">8.13.1 UTF-8 Representation</a></li>
      <li><a id="toc-UTF_002d16-Representation-1" href="#UTF_002d16-Representation">8.13.2 UTF-16 Representation</a></li>
      <li><a id="toc-Unicode-Scalar-Representation-1" href="#Unicode-Scalar-Representation">8.13.3 Unicode Scalar Representation</a></li>
    </ul></li>
  </ul></li>
  <li><a id="toc-Collection-Types-1" href="#Collection-Types">9 Collection Types</a>
  <ul class="no-bullet">
    <li><a id="toc-Mutability-of-Collections-1" href="#Mutability-of-Collections">9.1 Mutability of Collections</a></li>
    <li><a id="toc-Arrays-1" href="#Arrays">9.2 Arrays</a>
    <ul class="no-bullet">
      <li><a id="toc-Array-Type-Shorthand-Syntax-1" href="#Array-Type-Shorthand-Syntax">9.2.1 Array Type Shorthand Syntax</a></li>
      <li><a id="toc-Creating-an-Empty-Array-1" href="#Creating-an-Empty-Array">9.2.2 Creating an Empty Array</a></li>
      <li><a id="toc-Creating-an-Array-with-a-Default-Value-1" href="#Creating-an-Array-with-a-Default-Value">9.2.3 Creating an Array with a Default Value</a></li>
      <li><a id="toc-Creating-an-Array-by-Adding-Two-Arrays-Together-1" href="#Creating-an-Array-by-Adding-Two-Arrays-Together">9.2.4 Creating an Array by Adding Two Arrays Together</a></li>
      <li><a id="toc-Creating-an-Array-with-an-Array-Literal-1" href="#Creating-an-Array-with-an-Array-Literal">9.2.5 Creating an Array with an Array Literal</a></li>
      <li><a id="toc-Accessing-and-Modifying-an-Array-1" href="#Accessing-and-Modifying-an-Array">9.2.6 Accessing and Modifying an Array</a></li>
      <li><a id="toc-Iterating-Over-an-Array-1" href="#Iterating-Over-an-Array">9.2.7 Iterating Over an Array</a></li>
    </ul></li>
    <li><a id="toc-Sets-1" href="#Sets">9.3 Sets</a>
    <ul class="no-bullet">
      <li><a id="toc-Hash-Values-for-Set-Types-1" href="#Hash-Values-for-Set-Types">9.3.1 Hash Values for Set Types</a></li>
      <li><a id="toc-Set-Type-Syntax-1" href="#Set-Type-Syntax">9.3.2 Set Type Syntax</a></li>
      <li><a id="toc-Creating-and-Initializing-an-Empty-Set-1" href="#Creating-and-Initializing-an-Empty-Set">9.3.3 Creating and Initializing an Empty Set</a></li>
      <li><a id="toc-Creating-a-Set-with-an-Array-Literal-1" href="#Creating-a-Set-with-an-Array-Literal">9.3.4 Creating a Set with an Array Literal</a></li>
      <li><a id="toc-Accessing-and-Modifying-a-Set-1" href="#Accessing-and-Modifying-a-Set">9.3.5 Accessing and Modifying a Set</a></li>
      <li><a id="toc-Iterating-Over-a-Set-1" href="#Iterating-Over-a-Set">9.3.6 Iterating Over a Set</a></li>
    </ul></li>
    <li><a id="toc-Performing-Set-Operations-1" href="#Performing-Set-Operations">9.4 Performing Set Operations</a>
    <ul class="no-bullet">
      <li><a id="toc-Fundamental-Set-Operations-1" href="#Fundamental-Set-Operations">9.4.1 Fundamental Set Operations</a></li>
      <li><a id="toc-Set-Membership-and-Equality-1" href="#Set-Membership-and-Equality">9.4.2 Set Membership and Equality</a></li>
    </ul></li>
    <li><a id="toc-Dictionaries-1" href="#Dictionaries">9.5 Dictionaries</a>
    <ul class="no-bullet">
      <li><a id="toc-Dictionary-Type-Shorthand-Syntax-1" href="#Dictionary-Type-Shorthand-Syntax">9.5.1 Dictionary Type Shorthand Syntax</a></li>
      <li><a id="toc-Creating-an-Empty-Dictionary-1" href="#Creating-an-Empty-Dictionary">9.5.2 Creating an Empty Dictionary</a></li>
      <li><a id="toc-Creating-a-Dictionary-with-a-Dictionary-Literal-1" href="#Creating-a-Dictionary-with-a-Dictionary-Literal">9.5.3 Creating a Dictionary with a Dictionary Literal</a></li>
      <li><a id="toc-Accessing-and-Modifying-a-Dictionary-1" href="#Accessing-and-Modifying-a-Dictionary">9.5.4 Accessing and Modifying a Dictionary</a></li>
      <li><a id="toc-Iterating-Over-a-Dictionary-1" href="#Iterating-Over-a-Dictionary">9.5.5 Iterating Over a Dictionary</a></li>
    </ul></li>
  </ul></li>
  <li><a id="toc-Control-Flow-3" href="#Control-Flow-1">10 Control Flow</a>
  <ul class="no-bullet">
    <li><a id="toc-For_002dIn-Loops-1" href="#For_002dIn-Loops">10.1 For-In Loops</a></li>
    <li><a id="toc-While-Loops-1" href="#While-Loops">10.2 While Loops</a>
    <ul class="no-bullet">
      <li><a id="toc-While-1" href="#While">10.2.1 While</a></li>
      <li><a id="toc-Repeat_002dWhile-1" href="#Repeat_002dWhile">10.2.2 Repeat-While</a></li>
    </ul></li>
    <li><a id="toc-Conditional-Statements-1" href="#Conditional-Statements">10.3 Conditional Statements</a>
    <ul class="no-bullet">
      <li><a id="toc-If-1" href="#If">10.3.1 If</a></li>
      <li><a id="toc-Switch-1" href="#Switch">10.3.2 Switch</a></li>
    </ul></li>
    <li><a id="toc-Control-Transfer-Statements-1" href="#Control-Transfer-Statements">10.4 Control Transfer Statements</a>
    <ul class="no-bullet">
      <li><a id="toc-Continue-1" href="#Continue">10.4.1 Continue</a></li>
      <li><a id="toc-Break-1" href="#Break">10.4.2 Break</a></li>
      <li><a id="toc-Fallthrough-1" href="#Fallthrough">10.4.3 Fallthrough</a></li>
      <li><a id="toc-Labeled-Statements-1" href="#Labeled-Statements">10.4.4 Labeled Statements</a></li>
    </ul></li>
    <li><a id="toc-Early-Exit-1" href="#Early-Exit">10.5 Early Exit</a></li>
    <li><a id="toc-Checking-API-Availability-1" href="#Checking-API-Availability">10.6 Checking API Availability</a></li>
  </ul></li>
  <li><a id="toc-Functions-1" href="#Functions">11 Functions</a>
  <ul class="no-bullet">
    <li><a id="toc-Defining-and-Calling-Functions-1" href="#Defining-and-Calling-Functions">11.1 Defining and Calling Functions</a></li>
    <li><a id="toc-Function-Parameters-and-Return-Values-1" href="#Function-Parameters-and-Return-Values">11.2 Function Parameters and Return Values</a>
    <ul class="no-bullet">
      <li><a id="toc-Functions-Without-Parameters-1" href="#Functions-Without-Parameters">11.2.1 Functions Without Parameters</a></li>
      <li><a id="toc-Functions-With-Multiple-Parameters-1" href="#Functions-With-Multiple-Parameters">11.2.2 Functions With Multiple Parameters</a></li>
      <li><a id="toc-Functions-Without-Return-Values-1" href="#Functions-Without-Return-Values">11.2.3 Functions Without Return Values</a></li>
      <li><a id="toc-Functions-with-Multiple-Return-Values-1" href="#Functions-with-Multiple-Return-Values">11.2.4 Functions with Multiple Return Values</a></li>
      <li><a id="toc-Functions-With-an-Implicit-Return-1" href="#Functions-With-an-Implicit-Return">11.2.5 Functions With an Implicit Return</a></li>
    </ul></li>
    <li><a id="toc-Function-Argument-Labels-and-Parameter-Names-1" href="#Function-Argument-Labels-and-Parameter-Names">11.3 Function Argument Labels and Parameter Names</a>
    <ul class="no-bullet">
      <li><a id="toc-Specifying-Argument-Labels-1" href="#Specifying-Argument-Labels">11.3.1 Specifying Argument Labels</a></li>
      <li><a id="toc-Omitting-Argument-Labels-1" href="#Omitting-Argument-Labels">11.3.2 Omitting Argument Labels</a></li>
      <li><a id="toc-Default-Parameter-Values-1" href="#Default-Parameter-Values">11.3.3 Default Parameter Values</a></li>
      <li><a id="toc-Variadic-Parameters-1" href="#Variadic-Parameters">11.3.4 Variadic Parameters</a></li>
      <li><a id="toc-In_002dOut-Parameters-1" href="#In_002dOut-Parameters">11.3.5 In-Out Parameters</a></li>
    </ul></li>
    <li><a id="toc-Function-Types-2" href="#Function-Types">11.4 Function Types</a>
    <ul class="no-bullet">
      <li><a id="toc-Using-Function-Types-1" href="#Using-Function-Types">11.4.1 Using Function Types</a></li>
      <li><a id="toc-Function-Types-as-Parameter-Types-1" href="#Function-Types-as-Parameter-Types">11.4.2 Function Types as Parameter Types</a></li>
      <li><a id="toc-Function-Types-as-Return-Types-1" href="#Function-Types-as-Return-Types">11.4.3 Function Types as Return Types</a></li>
    </ul></li>
    <li><a id="toc-Nested-Functions-1" href="#Nested-Functions">11.5 Nested Functions</a></li>
  </ul></li>
  <li><a id="toc-Closures-1" href="#Closures">12 Closures</a>
  <ul class="no-bullet">
    <li><a id="toc-Closure-Expressions-1" href="#Closure-Expressions">12.1 Closure Expressions</a>
    <ul class="no-bullet">
      <li><a id="toc-The-Sorted-Method-1" href="#The-Sorted-Method">12.1.1 The Sorted Method</a></li>
      <li><a id="toc-Closure-Expression-Syntax-1" href="#Closure-Expression-Syntax">12.1.2 Closure Expression Syntax</a></li>
      <li><a id="toc-Inferring-Type-From-Context-1" href="#Inferring-Type-From-Context">12.1.3 Inferring Type From Context</a></li>
      <li><a id="toc-Implicit-Returns-from-Single_002dExpression-Closures-1" href="#Implicit-Returns-from-Single_002dExpression-Closures">12.1.4 Implicit Returns from Single-Expression Closures</a></li>
      <li><a id="toc-Shorthand-Argument-Names-1" href="#Shorthand-Argument-Names">12.1.5 Shorthand Argument Names</a></li>
      <li><a id="toc-Operator-Methods-2" href="#Operator-Methods">12.1.6 Operator Methods</a></li>
    </ul></li>
    <li><a id="toc-Trailing-Closures-1" href="#Trailing-Closures">12.2 Trailing Closures</a></li>
    <li><a id="toc-Capturing-Values-1" href="#Capturing-Values">12.3 Capturing Values</a></li>
    <li><a id="toc-Closures-Are-Reference-Types-1" href="#Closures-Are-Reference-Types">12.4 Closures Are Reference Types</a></li>
    <li><a id="toc-Escaping-Closures-1" href="#Escaping-Closures">12.5 Escaping Closures</a></li>
    <li><a id="toc-Autoclosures-1" href="#Autoclosures">12.6 Autoclosures</a></li>
  </ul></li>
  <li><a id="toc-Enumeration-1" href="#Enumeration">13 Enumeration</a>
  <ul class="no-bullet">
    <li><a id="toc-Enumeration-Syntax-1" href="#Enumeration-Syntax">13.1 Enumeration Syntax</a></li>
    <li><a id="toc-Matching-Enumeration-Values-with-a-Switch-Statement-1" href="#Matching-Enumeration-Values-with-a-Switch-Statement">13.2 Matching Enumeration Values with a Switch Statement</a></li>
    <li><a id="toc-Iterating-over-Enumeration-Cases-1" href="#Iterating-over-Enumeration-Cases">13.3 Iterating over Enumeration Cases</a></li>
    <li><a id="toc-Associated-Values-1" href="#Associated-Values">13.4 Associated Values</a></li>
    <li><a id="toc-Raw-Values-1" href="#Raw-Values">13.5 Raw Values</a>
    <ul class="no-bullet">
      <li><a id="toc-Implicitly-Assigned-Raw-Values-1" href="#Implicitly-Assigned-Raw-Values">13.5.1 Implicitly Assigned Raw Values</a></li>
      <li><a id="toc-Initializing-from-a-Raw-Value-1" href="#Initializing-from-a-Raw-Value">13.5.2 Initializing from a Raw Value</a></li>
    </ul></li>
    <li><a id="toc-Recursive-Enumerations-1" href="#Recursive-Enumerations">13.6 Recursive Enumerations</a></li>
  </ul></li>
  <li><a id="toc-Structures-and-Classes-1" href="#Structures-and-Classes">14 Structures and Classes</a>
  <ul class="no-bullet">
    <li><a id="toc-Comparing-Structures-and-Classes-1" href="#Comparing-Structures-and-Classes">14.1 Comparing Structures and Classes</a>
    <ul class="no-bullet">
      <li><a id="toc-Definition-Syntax-1" href="#Definition-Syntax">14.1.1 Definition Syntax</a></li>
      <li><a id="toc-Structure-and-Class-Instances-1" href="#Structure-and-Class-Instances">14.1.2 Structure and Class Instances</a></li>
      <li><a id="toc-Accessing-Properties-1" href="#Accessing-Properties">14.1.3 Accessing Properties</a></li>
      <li><a id="toc-Memberwise-Initializers-for-Structure-Types-2" href="#Memberwise-Initializers-for-Structure-Types">14.1.4 Memberwise Initializers for Structure Types</a></li>
    </ul></li>
    <li><a id="toc-Structures-and-Enumerations-Are-Value-Types-1" href="#Structures-and-Enumerations-Are-Value-Types">14.2 Structures and Enumerations Are Value Types</a></li>
    <li><a id="toc-Classes-Are-Reference-Types-1" href="#Classes-Are-Reference-Types">14.3 Classes Are Reference Types</a>
    <ul class="no-bullet">
      <li><a id="toc-Identity-Operators-1" href="#Identity-Operators">14.3.1 Identity Operators</a></li>
      <li><a id="toc-Pointers-1" href="#Pointers">14.3.2 Pointers</a></li>
    </ul></li>
  </ul></li>
  <li><a id="toc-Properties-1" href="#Properties">15 Properties</a>
  <ul class="no-bullet">
    <li><a id="toc-Stored-Properties-1" href="#Stored-Properties">15.1 Stored Properties</a>
    <ul class="no-bullet">
      <li><a id="toc-Stored-Properties-of-Constant-Structure-Instances-1" href="#Stored-Properties-of-Constant-Structure-Instances">15.1.1 Stored Properties of Constant Structure Instances</a></li>
      <li><a id="toc-Lazy-Stored-Properties-1" href="#Lazy-Stored-Properties">15.1.2 Lazy Stored Properties</a></li>
      <li><a id="toc-Stored-Properties-and-Instance-Variables-1" href="#Stored-Properties-and-Instance-Variables">15.1.3 Stored Properties and Instance Variables</a></li>
    </ul></li>
    <li><a id="toc-Computed-Properties-2" href="#Computed-Properties">15.2 Computed Properties</a>
    <ul class="no-bullet">
      <li><a id="toc-Shorthand-Setter-Declaration-1" href="#Shorthand-Setter-Declaration">15.2.1 Shorthand Setter Declaration</a></li>
      <li><a id="toc-Shorthand-Getter-Declaration-1" href="#Shorthand-Getter-Declaration">15.2.2 Shorthand Getter Declaration</a></li>
      <li><a id="toc-Read_002dOnly-Computed-Properties-1" href="#Read_002dOnly-Computed-Properties">15.2.3 Read-Only Computed Properties</a></li>
    </ul></li>
    <li><a id="toc-Property-Observers-1" href="#Property-Observers">15.3 Property Observers</a></li>
    <li><a id="toc-Global-and-Local-Variables-1" href="#Global-and-Local-Variables">15.4 Global and Local Variables</a></li>
    <li><a id="toc-Type-Properties-1" href="#Type-Properties">15.5 Type Properties</a>
    <ul class="no-bullet">
      <li><a id="toc-Type-Property-Syntax-1" href="#Type-Property-Syntax">15.5.1 Type Property Syntax</a></li>
      <li><a id="toc-Querying-and-Setting-Type-Properties-1" href="#Querying-and-Setting-Type-Properties">15.5.2 Querying and Setting Type Properties</a></li>
    </ul></li>
  </ul></li>
  <li><a id="toc-Methods-2" href="#Methods">16 Methods</a>
  <ul class="no-bullet">
    <li><a id="toc-Instance-Methods-1" href="#Instance-Methods">16.1 Instance Methods</a>
    <ul class="no-bullet">
      <li><a id="toc-The-self-Property-1" href="#The-self-Property">16.1.1 The self Property</a></li>
      <li><a id="toc-Modifying-Value-Types-from-Within-Instance-Methods-1" href="#Modifying-Value-Types-from-Within-Instance-Methods">16.1.2 Modifying Value Types from Within Instance Methods</a></li>
      <li><a id="toc-Assigning-to-self-Within-a-Mutating-Method-1" href="#Assigning-to-self-Within-a-Mutating-Method">16.1.3 Assigning to self Within a Mutating Method</a></li>
    </ul></li>
    <li><a id="toc-Type-Methods-1" href="#Type-Methods">16.2 Type Methods</a></li>
  </ul></li>
  <li><a id="toc-Subscripts-2" href="#Subscripts">17 Subscripts</a>
  <ul class="no-bullet">
    <li><a id="toc-Subscript-Syntax-1" href="#Subscript-Syntax">17.1 Subscript Syntax</a></li>
    <li><a id="toc-Subscript-Usage-1" href="#Subscript-Usage">17.2 Subscript Usage</a></li>
    <li><a id="toc-Subscript-Options-1" href="#Subscript-Options">17.3 Subscript Options</a></li>
    <li><a id="toc-Type-Subscripts-1" href="#Type-Subscripts">17.4 Type Subscripts</a></li>
  </ul></li>
  <li><a id="toc-Inheritance-1" href="#Inheritance">18 Inheritance</a>
  <ul class="no-bullet">
    <li><a id="toc-Defining-a-Base-Class-1" href="#Defining-a-Base-Class">18.1 Defining a Base Class</a></li>
    <li><a id="toc-Subclassing-2" href="#Subclassing">18.2 Subclassing</a></li>
    <li><a id="toc-Overriding-1" href="#Overriding">18.3 Overriding</a>
    <ul class="no-bullet">
      <li><a id="toc-Accessing-Superclass-Methods_002c-Properties_002c-and-Subscripts" href="#Accessing-Superclass-Methods-Properties-and-Subscripts">18.3.1 Accessing Superclass Methods, Properties, and Subscripts</a></li>
      <li><a id="toc-Overriding-Methods-1" href="#Overriding-Methods">18.3.2 Overriding Methods</a></li>
      <li><a id="toc-Overriding-Properties-1" href="#Overriding-Properties">18.3.3 Overriding Properties</a></li>
    </ul></li>
    <li><a id="toc-Preventing-Overrides-1" href="#Preventing-Overrides">18.4 Preventing Overrides</a></li>
  </ul></li>
  <li><a id="toc-Initialization-1" href="#Initialization">19 Initialization</a>
  <ul class="no-bullet">
    <li><a id="toc-Setting-Initial-Values-for-Stored-Properties-1" href="#Setting-Initial-Values-for-Stored-Properties">19.1 Setting Initial Values for Stored Properties</a>
    <ul class="no-bullet">
      <li><a id="toc-Initializers-3" href="#Initializers">19.1.1 Initializers</a></li>
      <li><a id="toc-Default-Property-Values-1" href="#Default-Property-Values">19.1.2 Default Property Values</a></li>
    </ul></li>
    <li><a id="toc-Customizing-Initialization-1" href="#Customizing-Initialization">19.2 Customizing Initialization</a>
    <ul class="no-bullet">
      <li><a id="toc-Initialization-Parameters-1" href="#Initialization-Parameters">19.2.1 Initialization Parameters</a></li>
      <li><a id="toc-Parameter-Names-and-Argument-Labels-1" href="#Parameter-Names-and-Argument-Labels">19.2.2 Parameter Names and Argument Labels</a></li>
      <li><a id="toc-Initializer-Parameters-Without-Argument-Labels-1" href="#Initializer-Parameters-Without-Argument-Labels">19.2.3 Initializer Parameters Without Argument Labels</a></li>
      <li><a id="toc-Optional-Property-Types-1" href="#Optional-Property-Types">19.2.4 Optional Property Types</a></li>
      <li><a id="toc-Assigning-Constant-Properties-During-Initialization-1" href="#Assigning-Constant-Properties-During-Initialization">19.2.5 Assigning Constant Properties During Initialization</a></li>
    </ul></li>
    <li><a id="toc-Default-Initializers-2" href="#Default-Initializers">19.3 Default Initializers</a>
    <ul class="no-bullet">
      <li><a id="toc-Memberwise-Initializers-for-Structure-Types-3" href="#Memberwise-Initializers-for-Structure-Types-1">19.3.1 Memberwise Initializers for Structure Types</a></li>
    </ul></li>
    <li><a id="toc-Initializer-Delegation-for-Value-Types-1" href="#Initializer-Delegation-for-Value-Types">19.4 Initializer Delegation for Value Types</a></li>
    <li><a id="toc-Class-Inheritance-and-Initialization-1" href="#Class-Inheritance-and-Initialization">19.5 Class Inheritance and Initialization</a>
    <ul class="no-bullet">
      <li><a id="toc-Designated-Initializers-and-Convenience-Initializers-1" href="#Designated-Initializers-and-Convenience-Initializers">19.5.1 Designated Initializers and Convenience Initializers</a></li>
      <li><a id="toc-Syntax-for-Designated-and-Convenience-Initializers-1" href="#Syntax-for-Designated-and-Convenience-Initializers">19.5.2 Syntax for Designated and Convenience Initializers</a></li>
      <li><a id="toc-Initializer-Delegation-for-Class-Types-1" href="#Initializer-Delegation-for-Class-Types">19.5.3 Initializer Delegation for Class Types</a></li>
      <li><a id="toc-Two_002dPhase-Initialization-1" href="#Two_002dPhase-Initialization">19.5.4 Two-Phase Initialization</a></li>
      <li><a id="toc-Initializer-Inheritance-and-Overriding-1" href="#Initializer-Inheritance-and-Overriding">19.5.5 Initializer Inheritance and Overriding</a></li>
      <li><a id="toc-Automatic-Initializer-Inheritance-1" href="#Automatic-Initializer-Inheritance">19.5.6 Automatic Initializer Inheritance</a></li>
      <li><a id="toc-Designated-and-Convenience-Initializers-in-Action-1" href="#Designated-and-Convenience-Initializers-in-Action">19.5.7 Designated and Convenience Initializers in Action</a></li>
    </ul></li>
    <li><a id="toc-Failable-Initializers-1" href="#Failable-Initializers">19.6 Failable Initializers</a>
    <ul class="no-bullet">
      <li><a id="toc-Failable-Initializers-for-Enumerations-1" href="#Failable-Initializers-for-Enumerations">19.6.1 Failable Initializers for Enumerations</a></li>
      <li><a id="toc-Failable-Initializers-for-Enumerations-with-Raw-Values-1" href="#Failable-Initializers-for-Enumerations-with-Raw-Values">19.6.2 Failable Initializers for Enumerations with Raw Values</a></li>
      <li><a id="toc-Propagation-of-Initialization-Failure-1" href="#Propagation-of-Initialization-Failure">19.6.3 Propagation of Initialization Failure</a></li>
      <li><a id="toc-Overriding-a-Failable-Initializer-1" href="#Overriding-a-Failable-Initializer">19.6.4 Overriding a Failable Initializer</a></li>
      <li><a id="toc-The-init_0021-Failable-Initializer-1" href="#The-init_0021-Failable-Initializer">19.6.5 The init! Failable Initializer</a></li>
    </ul></li>
    <li><a id="toc-Required-Initializers-1" href="#Required-Initializers">19.7 Required Initializers</a></li>
    <li><a id="toc-Setting-a-Default-Property-Value-with-a-Closure-or-Function-1" href="#Setting-a-Default-Property-Value-with-a-Closure-or-Function">19.8 Setting a Default Property Value with a Closure or Function</a></li>
  </ul></li>
  <li><a id="toc-Deinitialization-1" href="#Deinitialization">20 Deinitialization</a>
  <ul class="no-bullet">
    <li><a id="toc-How-Deinitialization-Works-1" href="#How-Deinitialization-Works">20.1 How Deinitialization Works</a></li>
    <li><a id="toc-Deinitializers-in-Action-1" href="#Deinitializers-in-Action">20.2 Deinitializers in Action</a></li>
  </ul></li>
  <li><a id="toc-Optional-Chaining-1" href="#Optional-Chaining">21 Optional Chaining</a>
  <ul class="no-bullet">
    <li><a id="toc-Optional-Chaining-as-an-Alternative-to-Forced-Unwrapping-1" href="#Optional-Chaining-as-an-Alternative-to-Forced-Unwrapping">21.1 Optional Chaining as an Alternative to Forced Unwrapping</a></li>
    <li><a id="toc-Defining-Model-Classes-for-Optional-Chaining-1" href="#Defining-Model-Classes-for-Optional-Chaining">21.2 Defining Model Classes for Optional Chaining</a></li>
    <li><a id="toc-Accessing-Properties-Through-Optional-Chaining-1" href="#Accessing-Properties-Through-Optional-Chaining">21.3 Accessing Properties Through Optional Chaining</a></li>
    <li><a id="toc-Calling-Methods-Through-Optional-Chaining-1" href="#Calling-Methods-Through-Optional-Chaining">21.4 Calling Methods Through Optional Chaining</a></li>
    <li><a id="toc-Accessing-Subscripts-Through-Optional-Chaining-1" href="#Accessing-Subscripts-Through-Optional-Chaining">21.5 Accessing Subscripts Through Optional Chaining</a>
    <ul class="no-bullet">
      <li><a id="toc-Accessing-Subscripts-of-Optional-Type-1" href="#Accessing-Subscripts-of-Optional-Type">21.5.1 Accessing Subscripts of Optional Type</a></li>
    </ul></li>
    <li><a id="toc-Linking-Multiple-Levels-of-Chaining-1" href="#Linking-Multiple-Levels-of-Chaining">21.6 Linking Multiple Levels of Chaining</a></li>
    <li><a id="toc-Chaining-on-Methods-with-Optional-Return-Values-1" href="#Chaining-on-Methods-with-Optional-Return-Values">21.7 Chaining on Methods with Optional Return Values</a></li>
  </ul></li>
  <li><a id="toc-Error-Handling-5" href="#Error-Handling-2">22 Error Handling</a>
  <ul class="no-bullet">
    <li><a id="toc-Representing-and-Throwing-Errors-1" href="#Representing-and-Throwing-Errors">22.1 Representing and Throwing Errors</a></li>
    <li><a id="toc-Handling-Errors-1" href="#Handling-Errors">22.2 Handling Errors</a>
    <ul class="no-bullet">
      <li><a id="toc-Propagating-Errors-Using-Throwing-Functions-1" href="#Propagating-Errors-Using-Throwing-Functions">22.2.1 Propagating Errors Using Throwing Functions</a></li>
      <li><a id="toc-Handling-Errors-Using-Do_002dCatch-1" href="#Handling-Errors-Using-Do_002dCatch">22.2.2 Handling Errors Using Do-Catch</a></li>
      <li><a id="toc-Converting-Errors-to-Optional-Values-1" href="#Converting-Errors-to-Optional-Values">22.2.3 Converting Errors to Optional Values</a></li>
      <li><a id="toc-Disabling-Error-Propagation-1" href="#Disabling-Error-Propagation">22.2.4 Disabling Error Propagation</a></li>
    </ul></li>
    <li><a id="toc-Specifying-Cleanup-Actions-1" href="#Specifying-Cleanup-Actions">22.3 Specifying Cleanup Actions</a></li>
  </ul></li>
  <li><a id="toc-Type-Casting-1" href="#Type-Casting">23 Type Casting</a>
  <ul class="no-bullet">
    <li><a id="toc-Defining-a-Class-Hierarchy-for-Type-Casting-1" href="#Defining-a-Class-Hierarchy-for-Type-Casting">23.1 Defining a Class Hierarchy for Type Casting</a></li>
    <li><a id="toc-Checking-Type-1" href="#Checking-Type">23.2 Checking Type</a></li>
    <li><a id="toc-Downcasting-1" href="#Downcasting">23.3 Downcasting</a></li>
    <li><a id="toc-Type-Casting-for-Any-and-AnyObject-1" href="#Type-Casting-for-Any-and-AnyObject">23.4 Type Casting for Any and AnyObject</a></li>
  </ul></li>
  <li><a id="toc-Nested-Types-3" href="#Nested-Types">24 Nested Types</a>
  <ul class="no-bullet">
    <li><a id="toc-Nested-Types-in-Action-1" href="#Nested-Types-in-Action">24.1 Nested Types in Action</a></li>
    <li><a id="toc-Referring-to-Nested-Types-1" href="#Referring-to-Nested-Types">24.2 Referring to Nested Types</a></li>
  </ul></li>
  <li><a id="toc-Extensions-2" href="#Extensions">25 Extensions</a>
  <ul class="no-bullet">
    <li><a id="toc-Extension-Syntax-1" href="#Extension-Syntax">25.1 Extension Syntax</a></li>
    <li><a id="toc-Computed-Properties-3" href="#Computed-Properties-1">25.2 Computed Properties</a></li>
    <li><a id="toc-Initializers-4" href="#Initializers-1">25.3 Initializers</a></li>
    <li><a id="toc-Methods-3" href="#Methods-1">25.4 Methods</a>
    <ul class="no-bullet">
      <li><a id="toc-Mutating-Instance-Methods-1" href="#Mutating-Instance-Methods">25.4.1 Mutating Instance Methods</a></li>
    </ul></li>
    <li><a id="toc-Subscripts-3" href="#Subscripts-1">25.5 Subscripts</a></li>
    <li><a id="toc-Nested-Types-4" href="#Nested-Types-1">25.6 Nested Types</a></li>
  </ul></li>
  <li><a id="toc-Protocols-2" href="#Protocols">26 Protocols</a>
  <ul class="no-bullet">
    <li><a id="toc-Protocol-Syntax-1" href="#Protocol-Syntax">26.1 Protocol Syntax</a></li>
    <li><a id="toc-Property-Requirements-1" href="#Property-Requirements">26.2 Property Requirements</a></li>
    <li><a id="toc-Method-Requirements-1" href="#Method-Requirements">26.3 Method Requirements</a></li>
    <li><a id="toc-Mutating-Method-Requirements-1" href="#Mutating-Method-Requirements">26.4 Mutating Method Requirements</a></li>
    <li><a id="toc-Initializer-Requirements-1" href="#Initializer-Requirements">26.5 Initializer Requirements</a>
    <ul class="no-bullet">
      <li><a id="toc-Class-Implementations-of-Protocol-Initializer-Requirements-1" href="#Class-Implementations-of-Protocol-Initializer-Requirements">26.5.1 Class Implementations of Protocol Initializer Requirements</a></li>
      <li><a id="toc-Failable-Initializer-Requirements-1" href="#Failable-Initializer-Requirements">26.5.2 Failable Initializer Requirements</a></li>
    </ul></li>
    <li><a id="toc-Protocols-as-Types-1" href="#Protocols-as-Types">26.6 Protocols as Types</a></li>
    <li><a id="toc-Delegation-1" href="#Delegation">26.7 Delegation</a></li>
    <li><a id="toc-Adding-Protocol-Conformance-with-an-Extension-1" href="#Adding-Protocol-Conformance-with-an-Extension">26.8 Adding Protocol Conformance with an Extension</a>
    <ul class="no-bullet">
      <li><a id="toc-Conditionally-Conforming-to-a-Protocol-1" href="#Conditionally-Conforming-to-a-Protocol">26.8.1 Conditionally Conforming to a Protocol</a></li>
      <li><a id="toc-Declaring-Protocol-Adoption-with-an-Extension-1" href="#Declaring-Protocol-Adoption-with-an-Extension">26.8.2 Declaring Protocol Adoption with an Extension</a></li>
    </ul></li>
    <li><a id="toc-Collections-of-Protocol-Types-1" href="#Collections-of-Protocol-Types">26.9 Collections of Protocol Types</a></li>
    <li><a id="toc-Protocol-Inheritance-2" href="#Protocol-Inheritance">26.10 Protocol Inheritance</a></li>
    <li><a id="toc-Class_002dOnly-Protocols-1" href="#Class_002dOnly-Protocols">26.11 Class-Only Protocols</a></li>
    <li><a id="toc-Protocol-Composition-1" href="#Protocol-Composition">26.12 Protocol Composition</a></li>
    <li><a id="toc-Checking-for-Protocol-Conformance-1" href="#Checking-for-Protocol-Conformance">26.13 Checking for Protocol Conformance</a></li>
    <li><a id="toc-Optional-Protocol-Requirements-1" href="#Optional-Protocol-Requirements">26.14 Optional Protocol Requirements</a></li>
    <li><a id="toc-Protocol-Extensions-1" href="#Protocol-Extensions">26.15 Protocol Extensions</a>
    <ul class="no-bullet">
      <li><a id="toc-Providing-Default-Implementations-1" href="#Providing-Default-Implementations">26.15.1 Providing Default Implementations</a></li>
      <li><a id="toc-Adding-Constraints-to-Protocol-Extensions-1" href="#Adding-Constraints-to-Protocol-Extensions">26.15.2 Adding Constraints to Protocol Extensions</a></li>
    </ul></li>
  </ul></li>
  <li><a id="toc-Generics-4" href="#Generics-1">27 Generics</a>
  <ul class="no-bullet">
    <li><a id="toc-The-Problem-That-Generics-Solve-1" href="#The-Problem-That-Generics-Solve">27.1 The Problem That Generics Solve</a></li>
    <li><a id="toc-Generic-Functions-1" href="#Generic-Functions">27.2 Generic Functions</a></li>
    <li><a id="toc-Type-Parameters-1" href="#Type-Parameters">27.3 Type Parameters</a></li>
    <li><a id="toc-Naming-Type-Parameters-1" href="#Naming-Type-Parameters">27.4 Naming Type Parameters</a></li>
    <li><a id="toc-Generic-Types-1" href="#Generic-Types">27.5 Generic Types</a></li>
    <li><a id="toc-Extending-a-Generic-Type-1" href="#Extending-a-Generic-Type">27.6 Extending a Generic Type</a></li>
    <li><a id="toc-Type-Constraints-1" href="#Type-Constraints">27.7 Type Constraints</a>
    <ul class="no-bullet">
      <li><a id="toc-Type-Constraint-Syntax-1" href="#Type-Constraint-Syntax">27.7.1 Type Constraint Syntax</a></li>
      <li><a id="toc-Type-Constraints-in-Action-1" href="#Type-Constraints-in-Action">27.7.2 Type Constraints in Action</a></li>
    </ul></li>
    <li><a id="toc-Associated-Types-1" href="#Associated-Types">27.8 Associated Types</a>
    <ul class="no-bullet">
      <li><a id="toc-Associated-Types-in-Action-1" href="#Associated-Types-in-Action">27.8.1 Associated Types in Action</a></li>
      <li><a id="toc-Extending-an-Existing-Type-to-Specify-an-Associated-Type-1" href="#Extending-an-Existing-Type-to-Specify-an-Associated-Type">27.8.2 Extending an Existing Type to Specify an Associated Type</a></li>
      <li><a id="toc-Adding-Constraints-to-an-Associated-Type-1" href="#Adding-Constraints-to-an-Associated-Type">27.8.3 Adding Constraints to an Associated Type</a></li>
      <li><a id="toc-Using-a-Protocol-in-Its-Associated-Type_0027s-Constraints-1" href="#Using-a-Protocol-in-Its-Associated-Type_0027s-Constraints">27.8.4 Using a Protocol in Its Associated Type&rsquo;s Constraints</a></li>
    </ul></li>
    <li><a id="toc-Generic-Where-Clauses-1" href="#Generic-Where-Clauses">27.9 Generic Where Clauses</a></li>
    <li><a id="toc-Extensions-with-a-Generic-Where-Clause-1" href="#Extensions-with-a-Generic-Where-Clause">27.10 Extensions with a Generic Where Clause</a></li>
    <li><a id="toc-Associated-Types-with-a-Generic-Where-Clause-1" href="#Associated-Types-with-a-Generic-Where-Clause">27.11 Associated Types with a Generic Where Clause</a></li>
    <li><a id="toc-Generic-Subscripts-1" href="#Generic-Subscripts">27.12 Generic Subscripts</a></li>
  </ul></li>
  <li><a id="toc-Opaque-Types-1" href="#Opaque-Types">28 Opaque Types</a>
  <ul class="no-bullet">
    <li><a id="toc-The-Problem-That-Opaque-Types-Solve-1" href="#The-Problem-That-Opaque-Types-Solve">28.1 The Problem That Opaque Types Solve</a></li>
    <li><a id="toc-Returning-an-Opaque-Type-1" href="#Returning-an-Opaque-Type">28.2 Returning an Opaque Type</a></li>
    <li><a id="toc-Differences-Between-Opaque-Types-and-Protocol-Types-1" href="#Differences-Between-Opaque-Types-and-Protocol-Types">28.3 Differences Between Opaque Types and Protocol Types</a></li>
  </ul></li>
  <li><a id="toc-Automatic-Reference-Counting-1" href="#Automatic-Reference-Counting">29 Automatic Reference Counting</a>
  <ul class="no-bullet">
    <li><a id="toc-How-ARC-Works-1" href="#How-ARC-Works">29.1 How ARC Works</a></li>
    <li><a id="toc-ARC-in-Action-1" href="#ARC-in-Action">29.2 ARC in Action</a></li>
    <li><a id="toc-Strong-Reference-Cycles-Between-Class-Instances-1" href="#Strong-Reference-Cycles-Between-Class-Instances">29.3 Strong Reference Cycles Between Class Instances</a></li>
    <li><a id="toc-Resolving-Strong-Reference-Cycles-Between-Class-Instances-1" href="#Resolving-Strong-Reference-Cycles-Between-Class-Instances">29.4 Resolving Strong Reference Cycles Between Class Instances</a>
    <ul class="no-bullet">
      <li><a id="toc-Weak-References-1" href="#Weak-References">29.4.1 Weak References</a></li>
      <li><a id="toc-Unowned-References-1" href="#Unowned-References">29.4.2 Unowned References</a></li>
      <li><a id="toc-Unowned-References-and-Implicitly-Unwrapped-Optional-Properties-1" href="#Unowned-References-and-Implicitly-Unwrapped-Optional-Properties">29.4.3 Unowned References and Implicitly Unwrapped Optional Properties</a></li>
    </ul></li>
    <li><a id="toc-Strong-Reference-Cycles-for-Closures-1" href="#Strong-Reference-Cycles-for-Closures">29.5 Strong Reference Cycles for Closures</a></li>
    <li><a id="toc-Resolving-Strong-Reference-Cycles-for-Closures-1" href="#Resolving-Strong-Reference-Cycles-for-Closures">29.6 Resolving Strong Reference Cycles for Closures</a>
    <ul class="no-bullet">
      <li><a id="toc-Defining-a-Capture-List-1" href="#Defining-a-Capture-List">29.6.1 Defining a Capture List</a></li>
      <li><a id="toc-Weak-and-Unowned-References-1" href="#Weak-and-Unowned-References">29.6.2 Weak and Unowned References</a></li>
    </ul></li>
  </ul></li>
  <li><a id="toc-Memory-Safety-1" href="#Memory-Safety">30 Memory Safety</a>
  <ul class="no-bullet">
    <li><a id="toc-Understanding-Conflicting-Access-to-Memory-1" href="#Understanding-Conflicting-Access-to-Memory">30.1 Understanding Conflicting Access to Memory</a>
    <ul class="no-bullet">
      <li><a id="toc-Characteristics-of-Memory-Access-1" href="#Characteristics-of-Memory-Access">30.1.1 Characteristics of Memory Access</a></li>
    </ul></li>
    <li><a id="toc-Conflicting-Access-to-In_002dOut-Parameters-1" href="#Conflicting-Access-to-In_002dOut-Parameters">30.2 Conflicting Access to In-Out Parameters</a></li>
    <li><a id="toc-Conflicting-Access-to-self-in-Methods-1" href="#Conflicting-Access-to-self-in-Methods">30.3 Conflicting Access to self in Methods</a></li>
    <li><a id="toc-Conflicting-Access-to-Properties-1" href="#Conflicting-Access-to-Properties">30.4 Conflicting Access to Properties</a></li>
  </ul></li>
  <li><a id="toc-Access-Control-1" href="#Access-Control">31 Access Control</a>
  <ul class="no-bullet">
    <li><a id="toc-Modules-and-Source-Files-1" href="#Modules-and-Source-Files">31.1 Modules and Source Files</a></li>
    <li><a id="toc-Access-Levels-1" href="#Access-Levels">31.2 Access Levels</a>
    <ul class="no-bullet">
      <li><a id="toc-Guiding-Principle-of-Access-Levels-1" href="#Guiding-Principle-of-Access-Levels">31.2.1 Guiding Principle of Access Levels</a></li>
      <li><a id="toc-Default-Access-Levels-1" href="#Default-Access-Levels">31.2.2 Default Access Levels</a></li>
      <li><a id="toc-Access-Levels-for-Single_002dTarget-Apps-1" href="#Access-Levels-for-Single_002dTarget-Apps">31.2.3 Access Levels for Single-Target Apps</a></li>
      <li><a id="toc-Access-Levels-for-Frameworks-1" href="#Access-Levels-for-Frameworks">31.2.4 Access Levels for Frameworks</a></li>
      <li><a id="toc-Access-Levels-for-Unit-Test-Targets-1" href="#Access-Levels-for-Unit-Test-Targets">31.2.5 Access Levels for Unit Test Targets</a></li>
    </ul></li>
    <li><a id="toc-Access-Control-Syntax-1" href="#Access-Control-Syntax">31.3 Access Control Syntax</a></li>
    <li><a id="toc-Custom-Types-1" href="#Custom-Types">31.4 Custom Types</a>
    <ul class="no-bullet">
      <li><a id="toc-Tuple-Types-1" href="#Tuple-Types">31.4.1 Tuple Types</a></li>
      <li><a id="toc-Function-Types-3" href="#Function-Types-1">31.4.2 Function Types</a></li>
      <li><a id="toc-Enumeration-Types-1" href="#Enumeration-Types">31.4.3 Enumeration Types</a></li>
      <li><a id="toc-Nested-Types-5" href="#Nested-Types-2">31.4.4 Nested Types</a></li>
    </ul></li>
    <li><a id="toc-Subclassing-3" href="#Subclassing-1">31.5 Subclassing</a></li>
    <li><a id="toc-Constants_002c-Variables_002c-Properties_002c-and-Subscripts" href="#Constants-Variables-Properties-and-Subscripts">31.6 Constants, Variables, Properties, and Subscripts</a>
    <ul class="no-bullet">
      <li><a id="toc-Getters-and-Setters-1" href="#Getters-and-Setters">31.6.1 Getters and Setters</a></li>
    </ul></li>
    <li><a id="toc-Initializers-5" href="#Initializers-2">31.7 Initializers</a>
    <ul class="no-bullet">
      <li><a id="toc-Default-Initializers-3" href="#Default-Initializers-1">31.7.1 Default Initializers</a></li>
      <li><a id="toc-Default-Memberwise-Initializers-for-Structure-Types-1" href="#Default-Memberwise-Initializers-for-Structure-Types">31.7.2 Default Memberwise Initializers for Structure Types</a></li>
    </ul></li>
    <li><a id="toc-Protocols-3" href="#Protocols-1">31.8 Protocols</a>
    <ul class="no-bullet">
      <li><a id="toc-Protocol-Inheritance-3" href="#Protocol-Inheritance-1">31.8.1 Protocol Inheritance</a></li>
      <li><a id="toc-Protocol-Conformance-1" href="#Protocol-Conformance">31.8.2 Protocol Conformance</a></li>
    </ul></li>
    <li><a id="toc-Extensions-3" href="#Extensions-1">31.9 Extensions</a>
    <ul class="no-bullet">
      <li><a id="toc-Private-Members-in-Extensions-1" href="#Private-Members-in-Extensions">31.9.1 Private Members in Extensions</a></li>
    </ul></li>
    <li><a id="toc-Generics-5" href="#Generics-2">31.10 Generics</a></li>
    <li><a id="toc-Type-Aliases-3" href="#Type-Aliases-1">31.11 Type Aliases</a></li>
  </ul></li>
  <li><a id="toc-Advanced-Operators-1" href="#Advanced-Operators">32 Advanced Operators</a>
  <ul class="no-bullet">
    <li><a id="toc-Bitwise-Operators-1" href="#Bitwise-Operators">32.1 Bitwise Operators</a>
    <ul class="no-bullet">
      <li><a id="toc-Bitwise-NOT-Operator-1" href="#Bitwise-NOT-Operator">32.1.1 Bitwise NOT Operator</a></li>
      <li><a id="toc-Bitwise-AND-Operator-1" href="#Bitwise-AND-Operator">32.1.2 Bitwise AND Operator</a></li>
      <li><a id="toc-Bitwise-OR-Operator-1" href="#Bitwise-OR-Operator">32.1.3 Bitwise OR Operator</a></li>
      <li><a id="toc-Bitwise-XOR-Operator-1" href="#Bitwise-XOR-Operator">32.1.4 Bitwise XOR Operator</a></li>
      <li><a id="toc-Bitwise-Left-and-Right-Shift-Operators-1" href="#Bitwise-Left-and-Right-Shift-Operators">32.1.5 Bitwise Left and Right Shift Operators</a></li>
    </ul></li>
    <li><a id="toc-Overflow-Operators-1" href="#Overflow-Operators">32.2 Overflow Operators</a>
    <ul class="no-bullet">
      <li><a id="toc-Value-Overflow-1" href="#Value-Overflow">32.2.1 Value Overflow</a></li>
    </ul></li>
    <li><a id="toc-Precedence-and-Associativity-1" href="#Precedence-and-Associativity">32.3 Precedence and Associativity</a></li>
    <li><a id="toc-Operator-Methods-3" href="#Operator-Methods-1">32.4 Operator Methods</a>
    <ul class="no-bullet">
      <li><a id="toc-Prefix-and-Postfix-Operators-1" href="#Prefix-and-Postfix-Operators">32.4.1 Prefix and Postfix Operators</a></li>
      <li><a id="toc-Compound-Assignment-Operators-3" href="#Compound-Assignment-Operators-1">32.4.2 Compound Assignment Operators</a></li>
      <li><a id="toc-Equivalence-Operators-1" href="#Equivalence-Operators">32.4.3 Equivalence Operators</a></li>
    </ul></li>
    <li><a id="toc-Custom-Operators-1" href="#Custom-Operators">32.5 Custom Operators</a>
    <ul class="no-bullet">
      <li><a id="toc-Precedence-for-Custom-Infix-Operators-1" href="#Precedence-for-Custom-Infix-Operators">32.5.1 Precedence for Custom Infix Operators</a></li>
    </ul></li>
  </ul></li>
  <li><a id="toc-Index-1" href="#Index">Index</a></li>
</ul>
</div>


<span id="Top"></span><div class="header">
<p>
Next: <a href="#Welcome-to-Swift" accesskey="n" rel="next">Welcome to Swift</a>, Up: <a href="dir.html#Top" accesskey="u" rel="up">(dir)</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="The-Swift-Programming-Language-Guide-_0028Swift-5_002e1_0029"></span><h1 class="top">The Swift Programming Language Guide (Swift 5.1)</h1>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Welcome-to-Swift" accesskey="1">Welcome to Swift</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#About-Swift" accesskey="2">About Swift</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Version-Compatibility" accesskey="3">Version Compatibility</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#A-Swift-Tour" accesskey="4">A Swift Tour</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Language-Guide" accesskey="5">Language Guide</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#The-Basics" accesskey="6">The Basics</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Basic-Operators" accesskey="7">Basic Operators</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Strings-and-Characters" accesskey="8">Strings and Characters</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Collection-Types" accesskey="9">Collection Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Control-Flow-1">Control Flow</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Functions">Functions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Closures">Closures</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Enumeration">Enumeration</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Structures-and-Classes">Structures and Classes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Properties">Properties</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Methods">Methods</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Subscripts">Subscripts</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Inheritance">Inheritance</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Initialization">Initialization</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Deinitialization">Deinitialization</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Optional-Chaining">Optional Chaining</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Error-Handling-2">Error Handling</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Type-Casting">Type Casting</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Nested-Types">Nested Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Extensions">Extensions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Protocols">Protocols</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Generics-1">Generics</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Opaque-Types">Opaque Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Automatic-Reference-Counting">Automatic Reference Counting</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Memory-Safety">Memory Safety</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Access-Control">Access Control</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Advanced-Operators">Advanced Operators</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Index">Index</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

</pre></th></tr><tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">&mdash; The Detailed Node Listing &mdash;

A Swift Tour

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Simple-Values">Simple Values</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Control-Flow">Control Flow</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Functions-and-Closures">Functions and Closures</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Objects-and-Classes">Objects and Classes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Enumerations-and-Structures">Enumerations and Structures</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Protocols-and-Extensions">Protocols and Extensions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Error-Handling">Error Handling</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Generics">Generics</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

The Basics

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Constants-and-Variables">Constants and Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Comments">Comments</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Semicolons">Semicolons</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Integers">Integers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Floating_002dPoint-Numbers">Floating-Point Numbers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Type-Safety-and-Type-Inference">Type Safety and Type Inference</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Numeric-Literals">Numeric Literals</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Numeric-Type-Conversion">Numeric Type Conversion</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Type-Aliases">Type Aliases</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Booleans">Booleans</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Tuples">Tuples</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Optionals">Optionals</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Error-Handling-1">Error Handling</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Assertions-and-Preconditions">Assertions and Preconditions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Constants and Variables

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Declaring-Constants-and-Variables">Declaring Constants and Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Type-Annotations">Type Annotations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Naming-Constants-and-Variables">Naming Constants and Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Printing-Constants-and-Variables">Printing Constants and Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Integers

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Integer-Bounds">Integer Bounds</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Int">Int</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#UInt">UInt</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Numeric Type Conversion

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Integer-Conversion">Integer Conversion</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Integer-and-Floating_002dPoint-Conversion">Integer and Floating-Point Conversion</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Optionals

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#nil">nil</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#If-Statements-and-Forced-Unwrapping">If Statements and Forced Unwrapping</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Optional-Binding">Optional Binding</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Implicitly-Unwrapped-Optionals">Implicitly Unwrapped Optionals</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Assertions and Preconditions

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Debugging-with-Assertions">Debugging with Assertions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Enforcing-Preconditions">Enforcing Preconditions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Basic Operators

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Terminology">Terminology</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Assignment-Operator">Assignment Operator</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Arithmetic-Operators">Arithmetic Operators</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Compound-Assignment-Operators">Compound Assignment Operators</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Comparison-Operators">Comparison Operators</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Ternary-Conditional-Operator">Ternary Conditional Operator</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Nil_002dCoalescing-Operator">Nil-Coalescing Operator</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Range-Operators">Range Operators</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Logical-Operators">Logical Operators</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Arithmetic Operators

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Remainder-Operator">Remainder Operator</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Unary-Minus-Operator">Unary Minus Operator</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Unary-Plus-Operator">Unary Plus Operator</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Range Operators

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Closed-Range-Operator">Closed Range Operator</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Half_002dOpen-Range-Operator">Half-Open Range Operator</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#One_002dSided-Ranges">One-Sided Ranges</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Logical Operators

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Logical-NOT-Operator">Logical NOT Operator</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Logical-AND-Operator">Logical AND Operator</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Logical-OR-Operator">Logical OR Operator</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Combining-Logical-Operators">Combining Logical Operators</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Explicit-Parentheses">Explicit Parentheses</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Strings and Characters

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#String-Literals">String Literals</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Initializing-an-Empty-String">Initializing an Empty String</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#String-Mutability">String Mutability</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Strings-Are-Value-Types">Strings Are Value Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Working-with-Characters">Working with Characters</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Concatenating-Strings-and-Characters">Concatenating Strings and Characters</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#String-Interpolation">String Interpolation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Unicode">Unicode</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Counting-Characters">Counting Characters</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Accessing-and-Modifying-a-String">Accessing and Modifying a String</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Substrings">Substrings</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Comparing-Strings">Comparing Strings</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Unicode-Representations-of-Strings">Unicode Representations of Strings</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

String Literals

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Multiline-String-Literals">Multiline String Literals</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Special-Characters-in-String-Literals">Special Characters in String Literals</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Extended-String-Delimiters">Extended String Delimiters</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Unicode

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Unicode-Scalar-Values">Unicode Scalar Values</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Extended-Grapheme-Clusters">Extended Grapheme Clusters</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Accessing and Modifying a String

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#String-Indices">String Indices</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Inserting-and-Removing">Inserting and Removing</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Comparing Strings

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#String-and-Character-Equality">String and Character Equality</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Prefix-and-Suffix-Equality">Prefix and Suffix Equality</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Unicode Representations of Strings

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#UTF_002d8-Representation">UTF-8 Representation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#UTF_002d16-Representation">UTF-16 Representation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Unicode-Scalar-Representation">Unicode Scalar Representation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Collection Types

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Mutability-of-Collections">Mutability of Collections</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Arrays">Arrays</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Sets">Sets</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Performing-Set-Operations">Performing Set Operations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Dictionaries">Dictionaries</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Arrays

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Array-Type-Shorthand-Syntax">Array Type Shorthand Syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Creating-an-Empty-Array">Creating an Empty Array</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Creating-an-Array-with-a-Default-Value">Creating an Array with a Default Value</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Creating-an-Array-by-Adding-Two-Arrays-Together">Creating an Array by Adding Two Arrays Together</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Creating-an-Array-with-an-Array-Literal">Creating an Array with an Array Literal</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Accessing-and-Modifying-an-Array">Accessing and Modifying an Array</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Iterating-Over-an-Array">Iterating Over an Array</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Sets

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Hash-Values-for-Set-Types">Hash Values for Set Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Set-Type-Syntax">Set Type Syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Creating-and-Initializing-an-Empty-Set">Creating and Initializing an Empty Set</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Creating-a-Set-with-an-Array-Literal">Creating a Set with an Array Literal</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Accessing-and-Modifying-a-Set">Accessing and Modifying a Set</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Iterating-Over-a-Set">Iterating Over a Set</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Performing Set Operations

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Fundamental-Set-Operations">Fundamental Set Operations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Set-Membership-and-Equality">Set Membership and Equality</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Dictionaries

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Dictionary-Type-Shorthand-Syntax">Dictionary Type Shorthand Syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Creating-an-Empty-Dictionary">Creating an Empty Dictionary</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Creating-a-Dictionary-with-a-Dictionary-Literal">Creating a Dictionary with a Dictionary Literal</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Accessing-and-Modifying-a-Dictionary">Accessing and Modifying a Dictionary</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Iterating-Over-a-Dictionary">Iterating Over a Dictionary</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Control Flow

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#For_002dIn-Loops">For-In Loops</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#While-Loops">While Loops</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Conditional-Statements">Conditional Statements</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Control-Transfer-Statements">Control Transfer Statements</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Early-Exit">Early Exit</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Checking-API-Availability">Checking API Availability</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

While Loops

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#While">While</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Repeat_002dWhile">Repeat-While</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Conditional Statements

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#If">If</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Switch">Switch</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Control Transfer Statements

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Continue">Continue</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Break">Break</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Fallthrough">Fallthrough</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Labeled-Statements">Labeled Statements</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Functions

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Defining-and-Calling-Functions">Defining and Calling Functions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Function-Parameters-and-Return-Values">Function Parameters and Return Values</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Function-Argument-Labels-and-Parameter-Names">Function Argument Labels and Parameter Names</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Function-Types">Function Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Nested-Functions">Nested Functions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Function Parameters and Return Values

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Functions-Without-Parameters">Functions Without Parameters</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Functions-With-Multiple-Parameters">Functions With Multiple Parameters</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Functions-Without-Return-Values">Functions Without Return Values</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Functions-with-Multiple-Return-Values">Functions with Multiple Return Values</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Functions-With-an-Implicit-Return">Functions With an Implicit Return</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Function Argument Labels and Parameter Names

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Specifying-Argument-Labels">Specifying Argument Labels</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Omitting-Argument-Labels">Omitting Argument Labels</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Default-Parameter-Values">Default Parameter Values</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Variadic-Parameters">Variadic Parameters</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#In_002dOut-Parameters">In-Out Parameters</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Function Types

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Using-Function-Types">Using Function Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Function-Types-as-Parameter-Types">Function Types as Parameter Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Function-Types-as-Return-Types">Function Types as Return Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Closures

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Closure-Expressions">Closure Expressions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Trailing-Closures">Trailing Closures</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Capturing-Values">Capturing Values</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Closures-Are-Reference-Types">Closures Are Reference Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Escaping-Closures">Escaping Closures</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Autoclosures">Autoclosures</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Closure Expressions

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#The-Sorted-Method">The Sorted Method</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Closure-Expression-Syntax">Closure Expression Syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Inferring-Type-From-Context">Inferring Type From Context</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Implicit-Returns-from-Single_002dExpression-Closures">Implicit Returns from Single-Expression Closures</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Shorthand-Argument-Names">Shorthand Argument Names</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Operator-Methods">Operator Methods</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Enumeration

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Enumeration-Syntax">Enumeration Syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Matching-Enumeration-Values-with-a-Switch-Statement">Matching Enumeration Values with a Switch Statement</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Iterating-over-Enumeration-Cases">Iterating over Enumeration Cases</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Associated-Values">Associated Values</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Raw-Values">Raw Values</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Recursive-Enumerations">Recursive Enumerations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Raw Values

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Implicitly-Assigned-Raw-Values">Implicitly Assigned Raw Values</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Initializing-from-a-Raw-Value">Initializing from a Raw Value</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Structures and Classes

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Comparing-Structures-and-Classes">Comparing Structures and Classes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Structures-and-Enumerations-Are-Value-Types">Structures and Enumerations Are Value Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Classes-Are-Reference-Types">Classes Are Reference Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Comparing Structures and Classes

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Definition-Syntax">Definition Syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Structure-and-Class-Instances">Structure and Class Instances</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Accessing-Properties">Accessing Properties</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Memberwise-Initializers-for-Structure-Types">Memberwise Initializers for Structure Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Classes Are Reference Types

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Identity-Operators">Identity Operators</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Pointers">Pointers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Properties

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Stored-Properties">Stored Properties</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Computed-Properties">Computed Properties</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Property-Observers">Property Observers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Global-and-Local-Variables">Global and Local Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Type-Properties">Type Properties</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Stored Properties

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Stored-Properties-of-Constant-Structure-Instances">Stored Properties of Constant Structure Instances</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Lazy-Stored-Properties">Lazy Stored Properties</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Stored-Properties-and-Instance-Variables">Stored Properties and Instance Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Computed Properties

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Shorthand-Setter-Declaration">Shorthand Setter Declaration</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Shorthand-Getter-Declaration">Shorthand Getter Declaration</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Read_002dOnly-Computed-Properties">Read-Only Computed Properties</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Type Properties

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Type-Property-Syntax">Type Property Syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Querying-and-Setting-Type-Properties">Querying and Setting Type Properties</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Methods

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Instance-Methods">Instance Methods</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Type-Methods">Type Methods</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Instance Methods

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#The-self-Property">The self Property</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Modifying-Value-Types-from-Within-Instance-Methods">Modifying Value Types from Within Instance Methods</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Assigning-to-self-Within-a-Mutating-Method">Assigning to self Within a Mutating Method</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Subscripts

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Subscript-Syntax">Subscript Syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Subscript-Usage">Subscript Usage</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Subscript-Options">Subscript Options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Type-Subscripts">Type Subscripts</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Inheritance

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Defining-a-Base-Class">Defining a Base Class</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Subclassing">Subclassing</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Overriding">Overriding</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Preventing-Overrides">Preventing Overrides</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Overriding

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Accessing-Superclass-Methods-Properties-and-Subscripts">Accessing Superclass Methods, Properties, and Subscripts</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Overriding-Methods">Overriding Methods</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Overriding-Properties">Overriding Properties</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Initialization

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Setting-Initial-Values-for-Stored-Properties">Setting Initial Values for Stored Properties</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Customizing-Initialization">Customizing Initialization</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Default-Initializers">Default Initializers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Initializer-Delegation-for-Value-Types">Initializer Delegation for Value Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Class-Inheritance-and-Initialization">Class Inheritance and Initialization</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Failable-Initializers">Failable Initializers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Required-Initializers">Required Initializers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Setting-a-Default-Property-Value-with-a-Closure-or-Function">Setting a Default Property Value with a Closure or Function</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Setting Initial Values for Stored Properties

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Initializers">Initializers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Default-Property-Values">Default Property Values</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Customizing Initialization

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Initialization-Parameters">Initialization Parameters</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Parameter-Names-and-Argument-Labels">Parameter Names and Argument Labels</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Initializer-Parameters-Without-Argument-Labels">Initializer Parameters Without Argument Labels</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Optional-Property-Types">Optional Property Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Assigning-Constant-Properties-During-Initialization">Assigning Constant Properties During Initialization</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Default Initializers

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Memberwise-Initializers-for-Structure-Types-1">Memberwise Initializers for Structure Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Class Inheritance and Initialization

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Designated-Initializers-and-Convenience-Initializers">Designated Initializers and Convenience Initializers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Syntax-for-Designated-and-Convenience-Initializers">Syntax for Designated and Convenience Initializers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Initializer-Delegation-for-Class-Types">Initializer Delegation for Class Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Two_002dPhase-Initialization">Two-Phase Initialization</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Initializer-Inheritance-and-Overriding">Initializer Inheritance and Overriding</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Automatic-Initializer-Inheritance">Automatic Initializer Inheritance</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Designated-and-Convenience-Initializers-in-Action">Designated and Convenience Initializers in Action</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Failable Initializers

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Failable-Initializers-for-Enumerations">Failable Initializers for Enumerations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Failable-Initializers-for-Enumerations-with-Raw-Values">Failable Initializers for Enumerations with Raw Values</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Propagation-of-Initialization-Failure">Propagation of Initialization Failure</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Overriding-a-Failable-Initializer">Overriding a Failable Initializer</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#The-init_0021-Failable-Initializer">The init! Failable Initializer</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Deinitialization

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#How-Deinitialization-Works">How Deinitialization Works</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Deinitializers-in-Action">Deinitializers in Action</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Optional Chaining

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Optional-Chaining-as-an-Alternative-to-Forced-Unwrapping">Optional Chaining as an Alternative to Forced Unwrapping</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Defining-Model-Classes-for-Optional-Chaining">Defining Model Classes for Optional Chaining</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Accessing-Properties-Through-Optional-Chaining">Accessing Properties Through Optional Chaining</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Calling-Methods-Through-Optional-Chaining">Calling Methods Through Optional Chaining</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Accessing-Subscripts-Through-Optional-Chaining">Accessing Subscripts Through Optional Chaining</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Linking-Multiple-Levels-of-Chaining">Linking Multiple Levels of Chaining</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Chaining-on-Methods-with-Optional-Return-Values">Chaining on Methods with Optional Return Values</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Accessing Subscripts Through Optional Chaining

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Accessing-Subscripts-of-Optional-Type">Accessing Subscripts of Optional Type</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Error Handling

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Representing-and-Throwing-Errors">Representing and Throwing Errors</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Handling-Errors">Handling Errors</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Specifying-Cleanup-Actions">Specifying Cleanup Actions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Handling Errors

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Propagating-Errors-Using-Throwing-Functions">Propagating Errors Using Throwing Functions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Handling-Errors-Using-Do_002dCatch">Handling Errors Using Do-Catch</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Converting-Errors-to-Optional-Values">Converting Errors to Optional Values</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Disabling-Error-Propagation">Disabling Error Propagation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Type Casting

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Defining-a-Class-Hierarchy-for-Type-Casting">Defining a Class Hierarchy for Type Casting</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Checking-Type">Checking Type</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Downcasting">Downcasting</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Type-Casting-for-Any-and-AnyObject">Type Casting for Any and AnyObject</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Nested Types

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Nested-Types-in-Action">Nested Types in Action</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Referring-to-Nested-Types">Referring to Nested Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Extensions

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Extension-Syntax">Extension Syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Computed-Properties-1">Computed Properties</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Initializers-1">Initializers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Methods-1">Methods</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Subscripts-1">Subscripts</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Nested-Types-1">Nested Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Methods

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Mutating-Instance-Methods">Mutating Instance Methods</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Protocols

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Protocol-Syntax">Protocol Syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Property-Requirements">Property Requirements</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Method-Requirements">Method Requirements</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Mutating-Method-Requirements">Mutating Method Requirements</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Initializer-Requirements">Initializer Requirements</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Protocols-as-Types">Protocols as Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Delegation">Delegation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Adding-Protocol-Conformance-with-an-Extension">Adding Protocol Conformance with an Extension</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Collections-of-Protocol-Types">Collections of Protocol Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Protocol-Inheritance">Protocol Inheritance</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Class_002dOnly-Protocols">Class-Only Protocols</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Protocol-Composition">Protocol Composition</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Checking-for-Protocol-Conformance">Checking for Protocol Conformance</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Optional-Protocol-Requirements">Optional Protocol Requirements</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Protocol-Extensions">Protocol Extensions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Initializer Requirements

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Class-Implementations-of-Protocol-Initializer-Requirements">Class Implementations of Protocol Initializer Requirements</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Failable-Initializer-Requirements">Failable Initializer Requirements</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Adding Protocol Conformance with an Extension

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Conditionally-Conforming-to-a-Protocol">Conditionally Conforming to a Protocol</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Declaring-Protocol-Adoption-with-an-Extension">Declaring Protocol Adoption with an Extension</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Protocol Extensions

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Providing-Default-Implementations">Providing Default Implementations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Adding-Constraints-to-Protocol-Extensions">Adding Constraints to Protocol Extensions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Generics

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#The-Problem-That-Generics-Solve">The Problem That Generics Solve</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Generic-Functions">Generic Functions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Type-Parameters">Type Parameters</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Naming-Type-Parameters">Naming Type Parameters</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Generic-Types">Generic Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Extending-a-Generic-Type">Extending a Generic Type</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Type-Constraints">Type Constraints</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Associated-Types">Associated Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Generic-Where-Clauses">Generic Where Clauses</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Extensions-with-a-Generic-Where-Clause">Extensions with a Generic Where Clause</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Associated-Types-with-a-Generic-Where-Clause">Associated Types with a Generic Where Clause</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Generic-Subscripts">Generic Subscripts</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Type Constraints

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Type-Constraint-Syntax">Type Constraint Syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Type-Constraints-in-Action">Type Constraints in Action</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Associated Types

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Associated-Types-in-Action">Associated Types in Action</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Extending-an-Existing-Type-to-Specify-an-Associated-Type">Extending an Existing Type to Specify an Associated Type</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Adding-Constraints-to-an-Associated-Type">Adding Constraints to an Associated Type</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Using-a-Protocol-in-Its-Associated-Type_0027s-Constraints">Using a Protocol in Its Associated Type's Constraints</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Opaque Types

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#The-Problem-That-Opaque-Types-Solve">The Problem That Opaque Types Solve</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Returning-an-Opaque-Type">Returning an Opaque Type</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Differences-Between-Opaque-Types-and-Protocol-Types">Differences Between Opaque Types and Protocol Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Automatic Reference Counting

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#How-ARC-Works">How ARC Works</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#ARC-in-Action">ARC in Action</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Strong-Reference-Cycles-Between-Class-Instances">Strong Reference Cycles Between Class Instances</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Resolving-Strong-Reference-Cycles-Between-Class-Instances">Resolving Strong Reference Cycles Between Class Instances</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Strong-Reference-Cycles-for-Closures">Strong Reference Cycles for Closures</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Resolving-Strong-Reference-Cycles-for-Closures">Resolving Strong Reference Cycles for Closures</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Resolving Strong Reference Cycles Between Class Instances

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Weak-References">Weak References</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Unowned-References">Unowned References</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Unowned-References-and-Implicitly-Unwrapped-Optional-Properties">Unowned References and Implicitly Unwrapped Optional Properties</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Resolving Strong Reference Cycles for Closures

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Defining-a-Capture-List">Defining a Capture List</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Weak-and-Unowned-References">Weak and Unowned References</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Memory Safety

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Understanding-Conflicting-Access-to-Memory">Understanding Conflicting Access to Memory</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Conflicting-Access-to-In_002dOut-Parameters">Conflicting Access to In-Out Parameters</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Conflicting-Access-to-self-in-Methods">Conflicting Access to self in Methods</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Conflicting-Access-to-Properties">Conflicting Access to Properties</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Understanding Conflicting Access to Memory

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Characteristics-of-Memory-Access">Characteristics of Memory Access</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Access Control

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Modules-and-Source-Files">Modules and Source Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Access-Levels">Access Levels</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Access-Control-Syntax">Access Control Syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Custom-Types">Custom Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Subclassing-1">Subclassing</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Constants-Variables-Properties-and-Subscripts">Constants, Variables, Properties, and Subscripts</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Initializers-2">Initializers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Protocols-1">Protocols</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Extensions-1">Extensions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Generics-2">Generics</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Type-Aliases-1">Type Aliases</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Access Levels

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Guiding-Principle-of-Access-Levels">Guiding Principle of Access Levels</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Default-Access-Levels">Default Access Levels</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Access-Levels-for-Single_002dTarget-Apps">Access Levels for Single-Target Apps</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Access-Levels-for-Frameworks">Access Levels for Frameworks</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Access-Levels-for-Unit-Test-Targets">Access Levels for Unit Test Targets</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Custom Types

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Tuple-Types">Tuple Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Function-Types-1">Function Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Enumeration-Types">Enumeration Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Nested-Types-2">Nested Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Constants, Variables, Properties, and Subscripts

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Getters-and-Setters">Getters and Setters</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Initializers

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Default-Initializers-1">Default Initializers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Default-Memberwise-Initializers-for-Structure-Types">Default Memberwise Initializers for Structure Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Protocols

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Protocol-Inheritance-1">Protocol Inheritance</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Protocol-Conformance">Protocol Conformance</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Extensions

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Private-Members-in-Extensions">Private Members in Extensions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Advanced Operators

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Bitwise-Operators">Bitwise Operators</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Overflow-Operators">Overflow Operators</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Precedence-and-Associativity">Precedence and Associativity</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Operator-Methods-1">Operator Methods</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Custom-Operators">Custom Operators</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Bitwise Operators

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Bitwise-NOT-Operator">Bitwise NOT Operator</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Bitwise-AND-Operator">Bitwise AND Operator</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Bitwise-OR-Operator">Bitwise OR Operator</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Bitwise-XOR-Operator">Bitwise XOR Operator</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Bitwise-Left-and-Right-Shift-Operators">Bitwise Left and Right Shift Operators</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Overflow Operators

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Value-Overflow">Value Overflow</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Operator Methods

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Prefix-and-Postfix-Operators">Prefix and Postfix Operators</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Compound-Assignment-Operators-1">Compound Assignment Operators</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Equivalence-Operators">Equivalence Operators</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

Custom Operators

</pre></th></tr><tr><td align="left" valign="top">&bull; <a href="#Precedence-for-Custom-Infix-Operators">Precedence for Custom Infix Operators</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><th colspan="3" align="left" valign="top"><pre class="menu-comment">

</pre></th></tr></table>

<hr>
<span id="Welcome-to-Swift"></span><div class="header">
<p>
Next: <a href="#About-Swift" accesskey="n" rel="next">About Swift</a>, Previous: <a href="#Top" accesskey="p" rel="prev">Top</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Welcome-to-Swift-1"></span><h2 class="chapter">1 Welcome to Swift</h2>

<ul>
<li> <a href="#About-Swift">About Swift</a>
</li><li> <a href="#Version-Compatibility">Version Compatibility</a>
</li><li> <a href="#A-Swift-Tour">A Swift Tour</a>
</li></ul>

<hr>
<span id="About-Swift"></span><div class="header">
<p>
Next: <a href="#Version-Compatibility" accesskey="n" rel="next">Version Compatibility</a>, Previous: <a href="#Welcome-to-Swift" accesskey="p" rel="prev">Welcome to Swift</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="About-Swift-1"></span><h2 class="chapter">2 About Swift</h2>

<p>Swift is a fantastic way to write software, whether it&rsquo;s for phones,
desktops, servers, or anything else that runs code. It&rsquo;s a safe, fast,
and interactive programming language that combines the best in modern
language thinking with wisdom from the wider Apple engineering culture
and the diverse contributions from its open-source community. The
compiler is optimized for performance and the language is optimized for
development, without compromising on either.
</p>
<p>Swift is friendly to new programmers. It&rsquo;s an industrial-quality
programming language that&rsquo;s as expressive and enjoyable as a scripting
language. Writing Swift code in a playground lets you experiment with
code and see the results immediately, without the overhead of building
and running an app.
</p>
<p>Swift defines away large classes of common programming errors by
adopting modern programming patterns:
</p>
<ul>
<li> Variables are always initialized before use.

</li><li> Array indices are checked for out-of-bounds errors.

</li><li> Integers are checked for overflow.

</li><li> Optionals ensure that &lsquo;<samp>nil</samp>&rsquo; values are handled explicitly.

</li><li> Memory is managed automatically.

</li><li> Error handling allows controlled recovery from unexpected failures.
</li></ul>

<p>Swift code is compiled and optimized to get the most out of modern
hardware. The syntax and standard library have been designed based on
the guiding principle that the obvious way to write your code should
also perform the best. Its combination of safety and speed make Swift an
excellent choice for everything from “Hello, world!” to an entire
operating system.
</p>
<p>Swift combines powerful type inference and pattern matching with a
modern, lightweight syntax, allowing complex ideas to be expressed in a
clear and concise manner. As a result, code is not just easier to write,
but easier to read and maintain as well.
</p>
<p>Swift has been years in the making, and it continues to evolve with new
features and capabilities. Our goals for Swift are ambitious. We can&rsquo;t
wait to see what you create with it.
</p>
<hr>
<span id="Version-Compatibility"></span><div class="header">
<p>
Next: <a href="#A-Swift-Tour" accesskey="n" rel="next">A Swift Tour</a>, Previous: <a href="#About-Swift" accesskey="p" rel="prev">About Swift</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Version-Compatibility-1"></span><h2 class="chapter">3 Version Compatibility</h2>

<p>This book describes Swift 5.1, the default version of Swift that&rsquo;s
included in Xcode 11. You can use Xcode 11 to build targets that are
written in either Swift 5.1, Swift 4.2, or Swift 4.
</p>
<p>When you use Xcode 11 to build Swift 4 and Swift 4.2 code, most Swift
5.1 functionality is available. That said, the following changes are
available only to code that uses Swift 5.1 or later:
</p>
<ul>
<li> Functions that return an opaque type require the Swift 5.1 runtime.

</li><li> The &lsquo;<samp>try?</samp>&rsquo; expression doesn&rsquo;t introduce an extra level of optionality
to expressions that already return optionals.

</li><li> Large integer literal initialization expressions are inferred to be of
the correct integer type. For example, &lsquo;<samp>UInt64(0xffff_ffff_ffff_ffff)</samp>&rsquo;
evaluates to the correct value rather than overflowing.
</li></ul>

<p>A target written in Swift 5.1 can depend on a target that&rsquo;s written in
Swift 4.2 or Swift 4, and vice versa. This means, if you have a large
project that&rsquo;s divided into multiple frameworks, you can migrate your
code from Swift 4 to Swift 5.1 one framework at a time.
</p>
<hr>
<span id="A-Swift-Tour"></span><div class="header">
<p>
Next: <a href="#Language-Guide" accesskey="n" rel="next">Language Guide</a>, Previous: <a href="#Version-Compatibility" accesskey="p" rel="prev">Version Compatibility</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="A-Swift-Tour-1"></span><h2 class="chapter">4 A Swift Tour</h2>

<p>Tradition suggests that the first program in a new language should print
the words “Hello, world!” on the screen. In Swift, this can be done in a
single line:
</p>
<div class="example">
<pre class="example">print(&quot;Hello, world!&quot;)
// Prints &quot;Hello, world!&quot;
</pre></div>


<p>If you have written code in C or Objective-C, this syntax looks familiar
to you&mdash;in Swift, this line of code is a complete program. You don&rsquo;t
need to import a separate library for functionality like input/output or
string handling. Code written at global scope is used as the entry point
for the program, so you don&rsquo;t need a &lsquo;<samp>main()</samp>&rsquo; function. You also don&rsquo;t
need to write semicolons at the end of every statement.
</p>
<p>This tour gives you enough information to start writing code in Swift by
showing you how to accomplish a variety of programming tasks. Don&rsquo;t
worry if you don&rsquo;t understand something&mdash;everything introduced in this
tour is explained in detail in the rest of this book.
</p>
<p>Note
</p>
<p>On a Mac with Xcode installed, or on an iPad with Swift Playgrounds, you
can open this chapter as a playground. Playgrounds allow you to edit the
code listings and see the result immediately.
</p>
<p><a href="https://docs.swift.org/swift-book/GuidedTour/GuidedTour.playground.zip">Download
Playground</a>
[<a href="https://docs.swift.org/swift-book/GuidedTour/GuidedTour.playground.zip">https://docs.swift.org/swift-book/GuidedTour/GuidedTour.playground.zip</a>]
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Simple-Values" accesskey="1">Simple Values</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Control-Flow" accesskey="2">Control Flow</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Functions-and-Closures" accesskey="3">Functions and Closures</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Objects-and-Classes" accesskey="4">Objects and Classes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Enumerations-and-Structures" accesskey="5">Enumerations and Structures</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Protocols-and-Extensions" accesskey="6">Protocols and Extensions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Error-Handling" accesskey="7">Error Handling</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Generics" accesskey="8">Generics</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Simple-Values"></span><div class="header">
<p>
Next: <a href="#Control-Flow" accesskey="n" rel="next">Control Flow</a>, Up: <a href="#A-Swift-Tour" accesskey="u" rel="up">A Swift Tour</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Simple-Values-1"></span><h3 class="section">4.1 Simple Values</h3>

<p>Use &lsquo;<samp>let</samp>&rsquo; to make a constant and &lsquo;<samp>var</samp>&rsquo; to make a variable. The value of
a constant doesn&rsquo;t need to be known at compile time, but you must assign
it a value exactly once. This means you can use constants to name a
value that you determine once but use in many places.
</p>
<div class="example">
<pre class="example">var myVariable = 42
myVariable = 50
let myConstant = 42
</pre></div>

<p>A constant or variable must have the same type as the value you want to
assign to it. However, you don&rsquo;t always have to write the type
explicitly. Providing a value when you create a constant or variable
lets the compiler infer its type. In the example above, the compiler
infers that &lsquo;<samp>myVariable</samp>&rsquo; is an integer because its initial value is an
integer.
</p>
<p>If the initial value doesn&rsquo;t provide enough information (or if there is
no initial value), specify the type by writing it after the variable,
separated by a colon.
</p>
<div class="example">
<pre class="example">let implicitInteger = 70
let implicitDouble = 70.0
let explicitDouble: Double = 70
</pre></div>

<p>Experiment
</p>
<p>Create a constant with an explicit type of &lsquo;<samp>Float</samp>&rsquo; and a value of &lsquo;<samp>4</samp>&rsquo;.
</p>
<p>Values are never implicitly converted to another type. If you need to
convert a value to a different type, explicitly make an instance of the
desired type.
</p>
<div class="example">
<pre class="example">let label = &quot;The width is &quot;
let width = 94
let widthLabel = label + String(width)
</pre></div>

<p>Experiment
</p>
<p>Try removing the conversion to &lsquo;<samp>String</samp>&rsquo; from the last line. What error
do you get?
</p>
<p>There&rsquo;s an even simpler way to include values in strings: Write the
value in parentheses, and write a backslash (&lsquo;<samp>\</samp>&rsquo;) before the
parentheses. For example:
</p>
<div class="example">
<pre class="example">let apples = 3
let oranges = 5
let appleSummary = &quot;I have \(apples) apples.&quot;
let fruitSummary = &quot;I have \(apples + oranges) pieces of fruit.&quot;
</pre></div>

<p>Experiment
</p>
<p>Use &lsquo;<samp>\()</samp>&rsquo; to include a floating-point calculation in a string and to
include someone&rsquo;s name in a greeting.
</p>
<p>Use three double quotation marks (&lsquo;<samp>&quot;&quot;&quot;</samp>&rsquo;) for strings that take up
multiple lines. Indentation at the start of each quoted line is removed,
as long as it matches the indentation of the closing quotation marks.
For example:
</p>
<div class="example">
<pre class="example">let quotation = &quot;&quot;&quot;
I said &quot;I have \(apples) apples.&quot;
And then I said &quot;I have \(apples + oranges) pieces of fruit.&quot;
&quot;&quot;&quot;
</pre></div>

<p>Create arrays and dictionaries using brackets (&lsquo;<samp>[]</samp>&rsquo;), and access their
elements by writing the index or key in brackets. A comma is allowed
after the last element.
</p>
<div class="example">
<pre class="example">var shoppingList = [&quot;catfish&quot;, &quot;water&quot;, &quot;tulips&quot;]
shoppingList[1] = &quot;bottle of water&quot;

var occupations = [
  &quot;Malcolm&quot;: &quot;Captain&quot;,
  &quot;Kaylee&quot;: &quot;Mechanic&quot;,
]
occupations[&quot;Jayne&quot;] = &quot;Public Relations&quot;
</pre></div>

<p>Arrays automatically grow as you add elements.
</p>
<div class="example">
<pre class="example">shoppingList.append(&quot;blue paint&quot;)
print(shoppingList)
</pre></div>

<p>To create an empty array or dictionary, use the initializer syntax.
</p>
<div class="example">
<pre class="example">let emptyArray = [String]()
let emptyDictionary = [String: Float]()
</pre></div>

<p>If type information can be inferred, you can write an empty array as
&lsquo;<samp>[]</samp>&rsquo; and an empty dictionary as &lsquo;<samp>[:]</samp>&rsquo;&mdash;for example, when you set a new
value for a variable or pass an argument to a function.
</p>
<div class="example">
<pre class="example">shoppingList = []
occupations = [:]
</pre></div>

<hr>
<span id="Control-Flow"></span><div class="header">
<p>
Next: <a href="#Functions-and-Closures" accesskey="n" rel="next">Functions and Closures</a>, Previous: <a href="#Simple-Values" accesskey="p" rel="prev">Simple Values</a>, Up: <a href="#A-Swift-Tour" accesskey="u" rel="up">A Swift Tour</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Control-Flow-2"></span><h3 class="section">4.2 Control Flow</h3>

<p>Use &lsquo;<samp>if</samp>&rsquo; and &lsquo;<samp>switch</samp>&rsquo; to make conditionals, and use &lsquo;<samp>for</samp>&rsquo;-&lsquo;<samp>in</samp>&rsquo;, &lsquo;<samp>while</samp>&rsquo;,
and &lsquo;<samp>repeat</samp>&rsquo;-&lsquo;<samp>while</samp>&rsquo; to make loops. Parentheses around the condition or
loop variable are optional. Braces around the body are required.
</p>
<div class="example">
<pre class="example">let individualScores = [75, 43, 103, 87, 12]
var teamScore = 0
for score in individualScores {
    if score &gt; 50 {
        teamScore += 3
    } else {
        teamScore += 1
    }
}
print(teamScore)
// Prints &quot;11&quot;
</pre></div>

<p>In an &lsquo;<samp>if</samp>&rsquo; statement, the conditional must be a Boolean
expression&mdash;this means that code such as &lsquo;<samp>if score { ... }</samp>&rsquo; is an
error, not an implicit comparison to zero.
</p>
<p>You can use &lsquo;<samp>if</samp>&rsquo; and &lsquo;<samp>let</samp>&rsquo; together to work with values that might be
missing. These values are represented as optionals. An optional value
either contains a value or contains &lsquo;<samp>nil</samp>&rsquo; to indicate that a value is
missing. Write a question mark (&lsquo;<samp>?</samp>&rsquo;) after the type of a value to mark
the value as optional.
</p>
<div class="example">
<pre class="example">var optionalString: String? = &quot;Hello&quot;
print(optionalString == nil)
// Prints &quot;false&quot;

var optionalName: String? = &quot;John Appleseed&quot;
var greeting = &quot;Hello!&quot;
if let name = optionalName {
    greeting = &quot;Hello, \(name)&quot;
}
</pre></div>

<p>Experiment
</p>
<p>Change &lsquo;<samp>optionalName</samp>&rsquo; to &lsquo;<samp>nil</samp>&rsquo;. What greeting do you get? Add an &lsquo;<samp>else</samp>&rsquo;
clause that sets a different greeting if &lsquo;<samp>optionalName</samp>&rsquo; is &lsquo;<samp>nil</samp>&rsquo;.
</p>
<p>If the optional value is &lsquo;<samp>nil</samp>&rsquo;, the conditional is &lsquo;<samp>false</samp>&rsquo; and the code
in braces is skipped. Otherwise, the optional value is unwrapped and
assigned to the constant after &lsquo;<samp>let</samp>&rsquo;, which makes the unwrapped value
available inside the block of code.
</p>
<p>Another way to handle optional values is to provide a default value
using the &lsquo;<samp>??</samp>&rsquo; operator. If the optional value is missing, the default
value is used instead.
</p>
<div class="example">
<pre class="example">let nickName: String? = nil
let fullName: String = &quot;John Appleseed&quot;
let informalGreeting = &quot;Hi \(nickName ?? fullName)&quot;
</pre></div>

<p>Switches support any kind of data and a wide variety of comparison
operations&mdash;they aren&rsquo;t limited to integers and tests for equality.
</p>
<div class="example">
<pre class="example">let vegetable = &quot;red pepper&quot;
switch vegetable {
case &quot;celery&quot;:
    print(&quot;Add some raisins and make ants on a log.&quot;)
case &quot;cucumber&quot;, &quot;watercress&quot;:
    print(&quot;That would make a good tea sandwich.&quot;)
case let x where x.hasSuffix(&quot;pepper&quot;):
    print(&quot;Is it a spicy \(x)?&quot;)
default:
    print(&quot;Everything tastes good in soup.&quot;)
}
// Prints &quot;Is it a spicy red pepper?&quot;
</pre></div>

<p>Experiment
</p>
<p>Try removing the default case. What error do you get?
</p>
<p>Notice how &lsquo;<samp>let</samp>&rsquo; can be used in a pattern to assign the value that
matched the pattern to a constant.
</p>
<p>After executing the code inside the switch case that matched, the
program exits from the switch statement. Execution doesn&rsquo;t continue to
the next case, so there is no need to explicitly break out of the switch
at the end of each case&rsquo;s code.
</p>
<p>You use &lsquo;<samp>for</samp>&rsquo;-&lsquo;<samp>in</samp>&rsquo; to iterate over items in a dictionary by providing a
pair of names to use for each key-value pair. Dictionaries are an
unordered collection, so their keys and values are iterated over in an
arbitrary order.
</p>
<div class="example">
<pre class="example">let interestingNumbers = [
  &quot;Prime&quot;: [2, 3, 5, 7, 11, 13],
  &quot;Fibonacci&quot;: [1, 1, 2, 3, 5, 8],
  &quot;Square&quot;: [1, 4, 9, 16, 25],
]
var largest = 0
for (kind, numbers) in interestingNumbers {
    for number in numbers {
        if number &gt; largest {
            largest = number
        }
    }
}
print(largest)
// Prints &quot;25&quot;
</pre></div>

<p>Experiment
</p>
<p>Add another variable to keep track of which kind of number was the
largest, as well as what that largest number was.
</p>
<p>Use &lsquo;<samp>while</samp>&rsquo; to repeat a block of code until a condition changes. The
condition of a loop can be at the end instead, ensuring that the loop is
run at least once.
</p>
<div class="example">
<pre class="example">var n = 2
while n &lt; 100 {
    n *= 2
}
print(n)
// Prints &quot;128&quot;

var m = 2
repeat {
    m *= 2
} while m &lt; 100
print(m)
// Prints &quot;128&quot;
</pre></div>

<p>You can keep an index in a loop by using &lsquo;<samp>..&lt;</samp>&rsquo; to make a range of
indexes.
</p>
<div class="example">
<pre class="example">var total = 0
for i in 0..&lt;4 {
    total += i
}
print(total)
// Prints &quot;6&quot;
</pre></div>

<p>Use &lsquo;<samp>..&lt;</samp>&rsquo; to make a range that omits its upper value, and use &lsquo;<samp>...</samp>&rsquo; to
make a range that includes both values.
</p>
<hr>
<span id="Functions-and-Closures"></span><div class="header">
<p>
Next: <a href="#Objects-and-Classes" accesskey="n" rel="next">Objects and Classes</a>, Previous: <a href="#Control-Flow" accesskey="p" rel="prev">Control Flow</a>, Up: <a href="#A-Swift-Tour" accesskey="u" rel="up">A Swift Tour</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Functions-and-Closures-1"></span><h3 class="section">4.3 Functions and Closures</h3>

<p>Use &lsquo;<samp>func</samp>&rsquo; to declare a function. Call a function by following its name
with a list of arguments in parentheses. Use &lsquo;<samp>-&gt;</samp>&rsquo; to separate the
parameter names and types from the function&rsquo;s return type.
</p>
<div class="example">
<pre class="example">func greet(person: String, day: String) -&gt; String {
    return &quot;Hello \(person), today is \(day).&quot;
}
greet(person: &quot;Bob&quot;, day: &quot;Tuesday&quot;)
</pre></div>

<p>Experiment
</p>
<p>Remove the &lsquo;<samp>day</samp>&rsquo; parameter. Add a parameter to include today&rsquo;s lunch
special in the greeting.
</p>
<span id="index-_005f"></span>

<p>By default, functions use their parameter names as labels for their
arguments. Write a custom argument label before the parameter name, or
write &lsquo;<samp>_</samp>&rsquo; to use no argument label.
</p>
<div class="example">
<pre class="example">func greet(_ person: String, on day: String) -&gt; String {
    return &quot;Hello \(person), today is \(day).&quot;
}
greet(&quot;John&quot;, on: &quot;Wednesday&quot;)
</pre></div>

<p>Use a tuple to make a compound value&mdash;for example, to return multiple
values from a function. The elements of a tuple can be referred to
either by name or by number.
</p>
<div class="example">
<pre class="example">func calculateStatistics(scores: [Int]) -&gt; (min: Int, max: Int, sum: Int) {
    var min = scores[0]
    var max = scores[0]
    var sum = 0

    for score in scores {
        if score &gt; max {
            max = score
        } else if score &lt; min {
            min = score
        }
        sum += score
    }

    return (min, max, sum)
}
let statistics = calculateStatistics(scores: [5, 3, 100, 3, 9])
print(statistics.sum)
// Prints &quot;120&quot;
print(statistics.2)
// Prints &quot;120&quot;
</pre></div>

<p>Functions can be nested. Nested functions have access to variables that
were declared in the outer function. You can use nested functions to
organize the code in a function that is long or complex.
</p>
<div class="example">
<pre class="example">func returnFifteen() -&gt; Int {
    var y = 10
    func add() {
        y += 5
    }
    add()
    return y
}
returnFifteen()
</pre></div>

<p>Functions are a first-class type. This means that a function can return
another function as its value.
</p>
<div class="example">
<pre class="example">func makeIncrementer() -&gt; ((Int) -&gt; Int) {
    func addOne(number: Int) -&gt; Int {
        return 1 + number
    }
    return addOne
}
var increment = makeIncrementer()
increment(7)
</pre></div>

<p>A function can take another function as one of its arguments.
</p>
<div class="example">
<pre class="example">func hasAnyMatches(list: [Int], condition: (Int) -&gt; Bool) -&gt; Bool {
    for item in list {
        if condition(item) {
            return true
        }
    }
    return false
}
func lessThanTen(number: Int) -&gt; Bool {
    return number &lt; 10
}
var numbers = [20, 19, 7, 12]
hasAnyMatches(list: numbers, condition: lessThanTen)
</pre></div>

<p>Functions are actually a special case of closures: blocks of code that
can be called later. The code in a closure has access to things like
variables and functions that were available in the scope where the
closure was created, even if the closure is in a different scope when it
is executed&mdash;you saw an example of this already with nested functions.
You can write a closure without a name by surrounding code with braces
(&lsquo;<samp>{}</samp>&rsquo;). Use &lsquo;<samp>in</samp>&rsquo; to separate the arguments and return type from the
body.
</p>
<div class="example">
<pre class="example">numbers.map({ (number: Int) -&gt; Int in
                let result = 3 * number
                return result
            })
</pre></div>

<p>Experiment
</p>
<p>Rewrite the closure to return zero for all odd numbers.
</p>
<p>You have several options for writing closures more concisely. When a
closure&rsquo;s type is already known, such as the callback for a delegate,
you can omit the type of its parameters, its return type, or both.
Single statement closures implicitly return the value of their only
statement.
</p>
<div class="example">
<pre class="example">let mappedNumbers = numbers.map({ number in 3 * number })
print(mappedNumbers)
// Prints &quot;[60, 57, 21, 36]&quot;
</pre></div>

<p>You can refer to parameters by number instead of by name&mdash;this approach
is especially useful in very short closures. A closure passed as the
last argument to a function can appear immediately after the
parentheses. When a closure is the only argument to a function, you can
omit the parentheses entirely.
</p>
<div class="example">
<pre class="example">let sortedNumbers = numbers.sorted { $0 &gt; $1 }
print(sortedNumbers)
// Prints &quot;[20, 19, 12, 7]&quot;
</pre></div>

<hr>
<span id="Objects-and-Classes"></span><div class="header">
<p>
Next: <a href="#Enumerations-and-Structures" accesskey="n" rel="next">Enumerations and Structures</a>, Previous: <a href="#Functions-and-Closures" accesskey="p" rel="prev">Functions and Closures</a>, Up: <a href="#A-Swift-Tour" accesskey="u" rel="up">A Swift Tour</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Objects-and-Classes-1"></span><h3 class="section">4.4 Objects and Classes</h3>

<span id="index-class"></span>

<p>Use &lsquo;<samp>class</samp>&rsquo; followed by the class&rsquo;s name to create a class. A property
declaration in a class is written the same way as a constant or variable
declaration, except that it is in the context of a class. Likewise,
method and function declarations are written the same way.
</p>
<div class="example">
<pre class="example">class Shape {
    var numberOfSides = 0
    func simpleDescription() -&gt; String {
        return &quot;A shape with \(numberOfSides) sides.&quot;
    }
}
</pre></div>

<p>Experiment
</p>
<p>Add a constant property with &lsquo;<samp>let</samp>&rsquo;, and add another method that takes an
argument.
</p>
<p>Create an instance of a class by putting parentheses after the class
name. Use dot syntax to access the properties and methods of the
instance.
</p>
<div class="example">
<pre class="example">var shape = Shape()
shape.numberOfSides = 7
var shapeDescription = shape.simpleDescription()
</pre></div>

<p>This version of the &lsquo;<samp>Shape</samp>&rsquo; class is missing something important: an
initializer to set up the class when an instance is created. Use &lsquo;<samp>init</samp>&rsquo;
to create one.
</p>
<div class="example">
<pre class="example">class NamedShape {
    var numberOfSides: Int = 0
    var name: String

    init(name: String) {
        self.name = name
    }

    func simpleDescription() -&gt; String {
        return &quot;A shape with \(numberOfSides) sides.&quot;
    }
}
</pre></div>

<p>Notice how &lsquo;<samp>self</samp>&rsquo; is used to distinguish the &lsquo;<samp>name</samp>&rsquo; property from the
&lsquo;<samp>name</samp>&rsquo; argument to the initializer. The arguments to the initializer are
passed like a function call when you create an instance of the class.
Every property needs a value assigned&mdash;either in its declaration (as
with &lsquo;<samp>numberOfSides</samp>&rsquo;) or in the initializer (as with &lsquo;<samp>name</samp>&rsquo;).
</p>
<p>Use &lsquo;<samp>deinit</samp>&rsquo; to create a deinitializer if you need to perform some
cleanup before the object is deallocated.
</p>
<p>Subclasses include their superclass name after their class name,
separated by a colon. There is no requirement for classes to subclass
any standard root class, so you can include or omit a superclass as
needed.
</p>
<p>Methods on a subclass that override the superclass&rsquo;s implementation are
marked with &lsquo;<samp>override</samp>&rsquo;&mdash;overriding a method by accident, without
&lsquo;<samp>override</samp>&rsquo;, is detected by the compiler as an error. The compiler also
detects methods with &lsquo;<samp>override</samp>&rsquo; that don&rsquo;t actually override any method
in the superclass.
</p>
<div class="example">
<pre class="example">class Square: NamedShape {
    var sideLength: Double

    init(sideLength: Double, name: String) {
        self.sideLength = sideLength
        super.init(name: name)
        numberOfSides = 4
    }

    func area() -&gt; Double {
        return sideLength * sideLength
    }

    override func simpleDescription() -&gt; String {
        return &quot;A square with sides of length \(sideLength).&quot;
    }
}
let test = Square(sideLength: 5.2, name: &quot;my test square&quot;)
test.area()
test.simpleDescription()
</pre></div>

<p>Experiment
</p>
<p>Make another subclass of &lsquo;<samp>NamedShape</samp>&rsquo; called &lsquo;<samp>Circle</samp>&rsquo; that takes a
radius and a name as arguments to its initializer. Implement an &lsquo;<samp>area()</samp>&rsquo;
and a &lsquo;<samp>simpleDescription()</samp>&rsquo; method on the &lsquo;<samp>Circle</samp>&rsquo; class.
</p>
<p>In addition to simple properties that are stored, properties can have a
getter and a setter.
</p>
<div class="example">
<pre class="example">class EquilateralTriangle: NamedShape {
    var sideLength: Double = 0.0

    init(sideLength: Double, name: String) {
        self.sideLength = sideLength
        super.init(name: name)
        numberOfSides = 3
    }
    var perimeter: Double {
        get {
            return 3.0 * sideLength
        }
        set {
            sideLength = newValue / 3.0
        }
    }

    override func simpleDescription() -&gt; String {
        return &quot;An equilateral triangle with sides of length \(sideLength).&quot;
    }
}
var triangle = EquilateralTriangle(sideLength: 3.1, name: &quot;a triangle&quot;)
print(triangle.perimeter)
// Prints &quot;9.3&quot;
triangle.perimeter = 9.9
print(triangle.sideLength)
// Prints &quot;3.3000000000000003&quot;
</pre></div>

<p>In the setter for &lsquo;<samp>perimeter</samp>&rsquo;, the new value has the implicit name
&lsquo;<samp>newValue</samp>&rsquo;. You can provide an explicit name in parentheses after &lsquo;<samp>set</samp>&rsquo;.
</p>
<p>Notice that the initializer for the &lsquo;<samp>EquilateralTriangle</samp>&rsquo; class has
three different steps:
</p>
<ol>
<li> Setting the value of properties that the subclass declares.

</li><li> Calling the superclass&rsquo;s initializer.

</li><li> Changing the value of properties defined by the superclass. Any
additional setup work that uses methods, getters, or setters can also
be done at this point.
</li></ol>

<p>If you don&rsquo;t need to compute the property but still need to provide code
that is run before and after setting a new value, use &lsquo;<samp>willSet</samp>&rsquo; and
&lsquo;<samp>didSet</samp>&rsquo;. The code you provide is run any time the value changes outside
of an initializer. For example, the class below ensures that the side
length of its triangle is always the same as the side length of its
square.
</p>
<div class="example">
<pre class="example">class TriangleAndSquare {
    var triangle: EquilateralTriangle {
        willSet {
            square.sideLength = newValue.sideLength
        }
    }
    var square: Square {
        willSet {
            triangle.sideLength = newValue.sideLength
        }
    }
    init(size: Double, name: String) {
        square = Square(sideLength: size, name: name)
        triangle = EquilateralTriangle(sideLength: size, name: name)
    }
}
var triangleAndSquare = TriangleAndSquare(size: 10, name: &quot;another test shape&quot;)
print(triangleAndSquare.square.sideLength)
// Prints &quot;10.0&quot;
print(triangleAndSquare.triangle.sideLength)
// Prints &quot;10.0&quot;
triangleAndSquare.square = Square(sideLength: 50, name: &quot;larger square&quot;)
print(triangleAndSquare.triangle.sideLength)
// Prints &quot;50.0&quot;
</pre></div>

<p>When working with optional values, you can write &lsquo;<samp>?</samp>&rsquo; before operations
like methods, properties, and subscripting. If the value before the &lsquo;<samp>?</samp>&rsquo;
is &lsquo;<samp>nil</samp>&rsquo;, everything after the &lsquo;<samp>?</samp>&rsquo; is ignored and the value of the whole
expression is &lsquo;<samp>nil</samp>&rsquo;. Otherwise, the optional value is unwrapped, and
everything after the &lsquo;<samp>?</samp>&rsquo; acts on the unwrapped value. In both cases, the
value of the whole expression is an optional value.
</p>
<div class="example">
<pre class="example">let optionalSquare: Square? = Square(sideLength: 2.5, name: &quot;optional square&quot;)
let sideLength = optionalSquare?.sideLength
</pre></div>

<hr>
<span id="Enumerations-and-Structures"></span><div class="header">
<p>
Next: <a href="#Protocols-and-Extensions" accesskey="n" rel="next">Protocols and Extensions</a>, Previous: <a href="#Objects-and-Classes" accesskey="p" rel="prev">Objects and Classes</a>, Up: <a href="#A-Swift-Tour" accesskey="u" rel="up">A Swift Tour</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Enumerations-and-Structures-1"></span><h3 class="section">4.5 Enumerations and Structures</h3>

<span id="index-enum"></span>

<p>Use &lsquo;<samp>enum</samp>&rsquo; to create an enumeration. Like classes and all other named
types, enumerations can have methods associated with them.
</p>
<div class="example">
<pre class="example">enum Rank: Int {
    case ace = 1
    case two, three, four, five, six, seven, eight, nine, ten
    case jack, queen, king

    func simpleDescription() -&gt; String {
        switch self {
        case .ace:
            return &quot;ace&quot;
        case .jack:
            return &quot;jack&quot;
        case .queen:
            return &quot;queen&quot;
        case .king:
            return &quot;king&quot;
        default:
            return String(self.rawValue)
        }
    }
}
let ace = Rank.ace
let aceRawValue = ace.rawValue
</pre></div>

<p>Experiment
</p>
<p>Write a function that compares two &lsquo;<samp>Rank</samp>&rsquo; values by comparing their raw
values.
</p>
<p>By default, Swift assigns the raw values starting at zero and
incrementing by one each time, but you can change this behavior by
explicitly specifying values. In the example above, &lsquo;<samp>Ace</samp>&rsquo; is explicitly
given a raw value of &lsquo;<samp>1</samp>&rsquo;, and the rest of the raw values are assigned in
order. You can also use strings or floating-point numbers as the raw
type of an enumeration. Use the &lsquo;<samp>rawValue</samp>&rsquo; property to access the raw
value of an enumeration case.
</p>
<p>Use the &lsquo;<samp>init?(rawValue:)</samp>&rsquo; initializer to make an instance of an
enumeration from a raw value. It returns either the enumeration case
matching the raw value or &lsquo;<samp>nil</samp>&rsquo; if there is no matching &lsquo;<samp>Rank</samp>&rsquo;.
</p>
<div class="example">
<pre class="example">if let convertedRank = Rank(rawValue: 3) {
    let threeDescription = convertedRank.simpleDescription()
}
</pre></div>

<p>The case values of an enumeration are actual values, not just another
way of writing their raw values. In fact, in cases where there isn&rsquo;t a
meaningful raw value, you don&rsquo;t have to provide one.
</p>
<div class="example">
<pre class="example">enum Suit {
    case spades, hearts, diamonds, clubs

    func simpleDescription() -&gt; String {
        switch self {
        case .spades:
            return &quot;spades&quot;
        case .hearts:
            return &quot;hearts&quot;
        case .diamonds:
            return &quot;diamonds&quot;
        case .clubs:
            return &quot;clubs&quot;
        }
    }
}
let hearts = Suit.hearts
let heartsDescription = hearts.simpleDescription()
</pre></div>

<p>Experiment
</p>
<p>Add a &lsquo;<samp>color()</samp>&rsquo; method to &lsquo;<samp>Suit</samp>&rsquo; that returns “black” for spades and
clubs, and returns “red” for hearts and diamonds.
</p>
<p>Notice the two ways that the &lsquo;<samp>hearts</samp>&rsquo; case of the enumeration is
referred to above: When assigning a value to the &lsquo;<samp>hearts</samp>&rsquo; constant, the
enumeration case &lsquo;<samp>Suit.hearts</samp>&rsquo; is referred to by its full name because
the constant doesn&rsquo;t have an explicit type specified. Inside the switch,
the enumeration case is referred to by the abbreviated form &lsquo;<samp>.hearts</samp>&rsquo;
because the value of &lsquo;<samp>self</samp>&rsquo; is already known to be a suit. You can use
the abbreviated form anytime the value&rsquo;s type is already known.
</p>
<p>If an enumeration has raw values, those values are determined as part of
the declaration, which means every instance of a particular enumeration
case always has the same raw value. Another choice for enumeration cases
is to have values associated with the case&mdash;these values are determined
when you make the instance, and they can be different for each instance
of an enumeration case. You can think of the associated values as
behaving like stored properties of the enumeration case instance. For
example, consider the case of requesting the sunrise and sunset times
from a server. The server either responds with the requested
information, or it responds with a description of what went wrong.
</p>
<div class="example">
<pre class="example">enum ServerResponse {
    case result(String, String)
    case failure(String)
}

let success = ServerResponse.result(&quot;6:00 am&quot;, &quot;8:09 pm&quot;)
let failure = ServerResponse.failure(&quot;Out of cheese.&quot;)

switch success {
case let .result(sunrise, sunset):
    print(&quot;Sunrise is at \(sunrise) and sunset is at \(sunset).&quot;)
case let .failure(message):
    print(&quot;Failure... \(message)&quot;)
}
// Prints &quot;Sunrise is at 6:00 am and sunset is at 8:09 pm.&quot;
</pre></div>

<p>Experiment
</p>
<p>Add a third case to &lsquo;<samp>ServerResponse</samp>&rsquo; and to the switch.
</p>
<p>Notice how the sunrise and sunset times are extracted from the
&lsquo;<samp>ServerResponse</samp>&rsquo; value as part of matching the value against the switch
cases.
</p>
<p>Use &lsquo;<samp>struct</samp>&rsquo; to create a structure. Structures support many of the same
behaviors as classes, including methods and initializers. One of the
most important differences between structures and classes is that
structures are always copied when they are passed around in your code,
but classes are passed by reference.
</p>
<div class="example">
<pre class="example">struct Card {
    var rank: Rank
    var suit: Suit
    func simpleDescription() -&gt; String {
        return &quot;The \(rank.simpleDescription()) of
          \(suit.simpleDescription())&quot;
    }
}
let threeOfSpades = Card(rank: .three, suit: .spades)
let threeOfSpadesDescription = threeOfSpades.simpleDescription()
</pre></div>

<p>Experiment
</p>
<p>Write a function that returns an array containing a full deck of cards,
with one card of each combination of rank and suit.
</p>
<hr>
<span id="Protocols-and-Extensions"></span><div class="header">
<p>
Next: <a href="#Error-Handling" accesskey="n" rel="next">Error Handling</a>, Previous: <a href="#Enumerations-and-Structures" accesskey="p" rel="prev">Enumerations and Structures</a>, Up: <a href="#A-Swift-Tour" accesskey="u" rel="up">A Swift Tour</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Protocols-and-Extensions-1"></span><h3 class="section">4.6 Protocols and Extensions</h3>

<p>Use &lsquo;<samp>protocol</samp>&rsquo; to declare a protocol.
</p>
<div class="example">
<pre class="example">protocol ExampleProtocol {
    var simpleDescription: String { get }
    mutating func adjust()
}
</pre></div>

<p>Classes, enumerations, and structs can all adopt protocols.
</p>
<div class="example">
<pre class="example">class SimpleClass: ExampleProtocol {
    var simpleDescription: String = &quot;A very simple class.&quot;
    var anotherProperty: Int = 69105
    func adjust() {
        simpleDescription += &quot; Now 100% adjusted.&quot;
    }
}
var a = SimpleClass()
a.adjust()
let aDescription = a.simpleDescription

struct SimpleStructure: ExampleProtocol {
    var simpleDescription: String = &quot;A simple structure&quot;
    mutating func adjust() {
        simpleDescription += &quot; (adjusted)&quot;
    }
}
var b = SimpleStructure()
b.adjust()
let bDescription = b.simpleDescription
</pre></div>

<p>Experiment
</p>
<p>Add another requirement to &lsquo;<samp>ExampleProtocol</samp>&rsquo;. What changes do you need
to make to &lsquo;<samp>SimpleClass</samp>&rsquo; and &lsquo;<samp>SimpleStructure</samp>&rsquo; so that they still
conform to the protocol?
</p>
<span id="index-mutating"></span>

<p>Notice the use of the &lsquo;<samp>mutating</samp>&rsquo; keyword in the declaration of
&lsquo;<samp>SimpleStructure</samp>&rsquo; to mark a method that modifies the structure. The
declaration of &lsquo;<samp>SimpleClass</samp>&rsquo; doesn&rsquo;t need any of its methods marked as
mutating because methods on a class can always modify the class.
</p>
<span id="index-extension"></span>

<p>Use &lsquo;<samp>extension</samp>&rsquo; to add functionality to an existing type, such as new
methods and computed properties. You can use an extension to add
protocol conformance to a type that is declared elsewhere, or even to a
type that you imported from a library or framework.
</p>
<div class="example">
<pre class="example">extension Int: ExampleProtocol {
    var simpleDescription: String {
        return &quot;The number \(self)&quot;
    }
    mutating func adjust() {
        self += 42
    }
}
print(7.simpleDescription)
// Prints &quot;The number 7&quot;
</pre></div>

<p>Experiment
</p>
<p>Write an extension for the &lsquo;<samp>Double</samp>&rsquo; type that adds an &lsquo;<samp>absoluteValue</samp>&rsquo;
property.
</p>
<p>You can use a protocol name just like any other named type&mdash;for
example, to create a collection of objects that have different types but
that all conform to a single protocol. When you work with values whose
type is a protocol type, methods outside the protocol definition are not
available.
</p>
<div class="example">
<pre class="example">let protocolValue: ExampleProtocol = a
print(protocolValue.simpleDescription)
// Prints &quot;A very simple class. Now 100% adjusted.&quot;
// print(protocolValue.anotherProperty) // Uncomment to see the error
</pre></div>

<p>Even though the variable &lsquo;<samp>protocolValue</samp>&rsquo; has a runtime type of
&lsquo;<samp>SimpleClass</samp>&rsquo;, the compiler treats it as the given type of
&lsquo;<samp>ExampleProtocol</samp>&rsquo;. This means that you can&rsquo;t accidentally access methods
or properties that the class implements in addition to its protocol
conformance.
</p>
<hr>
<span id="Error-Handling"></span><div class="header">
<p>
Next: <a href="#Generics" accesskey="n" rel="next">Generics</a>, Previous: <a href="#Protocols-and-Extensions" accesskey="p" rel="prev">Protocols and Extensions</a>, Up: <a href="#A-Swift-Tour" accesskey="u" rel="up">A Swift Tour</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Error-Handling-3"></span><h3 class="section">4.7 Error Handling</h3>

<p>You represent errors using any type that adopts the &lsquo;<samp>Error</samp>&rsquo; protocol.
</p>
<div class="example">
<pre class="example">enum PrinterError: Error {
    case outOfPaper
    case noToner
    case onFire
}
</pre></div>

<p>Use &lsquo;<samp>throw</samp>&rsquo; to throw an error and &lsquo;<samp>throws</samp>&rsquo; to mark a function that can
throw an error. If you throw an error in a function, the function
returns immediately and the code that called the function handles the
error.
</p>
<div class="example">
<pre class="example">func send(job: Int, toPrinter printerName: String) throws -&gt; String {
    if printerName == &quot;Never Has Toner&quot; {
        throw PrinterError.noToner
    }
    return &quot;Job sent&quot;
}
</pre></div>

<p>There are several ways to handle errors. One way is to use &lsquo;<samp>do</samp>&rsquo;-&lsquo;<samp>catch</samp>&rsquo;.
Inside the &lsquo;<samp>do</samp>&rsquo; block, you mark code that can throw an error by writing
&lsquo;<samp>try</samp>&rsquo; in front of it. Inside the &lsquo;<samp>catch</samp>&rsquo; block, the error is
automatically given the name &lsquo;<samp>error</samp>&rsquo; unless you give it a different
name.
</p>
<div class="example">
<pre class="example">do {
    let printerResponse = try send(job: 1040, toPrinter: &quot;Bi Sheng&quot;)
    print(printerResponse)
} catch {
    print(error)
}
// Prints &quot;Job sent&quot;
</pre></div>

<p>Experiment
</p>
<p>Change the printer name to &lsquo;<samp>&quot;Never Has Toner&quot;</samp>&rsquo;, so that the
&lsquo;<samp>send(job:toPrinter:)</samp>&rsquo; function throws an error.
</p>
<p>You can provide multiple &lsquo;<samp>catch</samp>&rsquo; blocks that handle specific errors. You
write a pattern after &lsquo;<samp>catch</samp>&rsquo; just as you do after &lsquo;<samp>case</samp>&rsquo; in a switch.
</p>
<div class="example">
<pre class="example">do {
    let printerResponse = try send(job: 1440, toPrinter: &quot;Gutenberg&quot;)
    print(printerResponse)
} catch PrinterError.onFire {
    print(&quot;I'll just put this over here, with the rest of the fire.&quot;)
} catch let printerError as PrinterError {
    print(&quot;Printer error: \(printerError).&quot;)
} catch {
    print(error)
}
// Prints &quot;Job sent&quot;
</pre></div>

<p>Experiment
</p>
<p>Add code to throw an error inside the &lsquo;<samp>do</samp>&rsquo; block. What kind of error do
you need to throw so that the error is handled by the first &lsquo;<samp>catch</samp>&rsquo;
block? What about the second and third blocks?
</p>
<p>Another way to handle errors is to use &lsquo;<samp>try?</samp>&rsquo; to convert the result to
an optional. If the function throws an error, the specific error is
discarded and the result is &lsquo;<samp>nil</samp>&rsquo;. Otherwise, the result is an optional
containing the value that the function returned.
</p>
<div class="example">
<pre class="example">let printerSuccess = try? send(job: 1884, toPrinter: &quot;Mergenthaler&quot;)
let printerFailure = try? send(job: 1885, toPrinter: &quot;Never Has Toner&quot;)
</pre></div>

<p>Use &lsquo;<samp>defer</samp>&rsquo; to write a block of code that is executed after all other
code in the function, just before the function returns. The code is
executed regardless of whether the function throws an error. You can use
&lsquo;<samp>defer</samp>&rsquo; to write setup and cleanup code next to each other, even though
they need to be executed at different times.
</p>
<div class="example">
<pre class="example">var fridgeIsOpen = false
let fridgeContent = [&quot;milk&quot;, &quot;eggs&quot;, &quot;leftovers&quot;]

func fridgeContains(_ food: String) -&gt; Bool {
    fridgeIsOpen = true
    defer {
        fridgeIsOpen = false
    }

    let result = fridgeContent.contains(food)
    return result
}
fridgeContains(&quot;banana&quot;)
print(fridgeIsOpen)
// Prints &quot;false&quot;
</pre></div>

<hr>
<span id="Generics"></span><div class="header">
<p>
Previous: <a href="#Error-Handling" accesskey="p" rel="prev">Error Handling</a>, Up: <a href="#A-Swift-Tour" accesskey="u" rel="up">A Swift Tour</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Generics-3"></span><h3 class="section">4.8 Generics</h3>

<p>Write a name inside angle brackets to make a generic function or type.
</p>
<div class="example">
<pre class="example">func makeArray&lt;Item&gt;(repeating item: Item, numberOfTimes: Int) -&gt; [Item] {
    var result = [Item]()
    for _ in 0..&lt;numberOfTimes {
        result.append(item)
    }
    return result
}
makeArray(repeating: &quot;knock&quot;, numberOfTimes: 4)
</pre></div>

<p>You can make generic forms of functions and methods, as well as classes,
enumerations, and structures.
</p>
<div class="example">
<pre class="example">// Reimplement the Swift standard library's optional type
enum OptionalValue&lt;Wrapped&gt; {
    case none
    case some(Wrapped)
}
var possibleInteger: OptionalValue&lt;Int&gt; = .none
possibleInteger = .some(100)
</pre></div>

<p>Use &lsquo;<samp>where</samp>&rsquo; right before the body to specify a list of
requirements&mdash;for example, to require the type to implement a protocol,
to require two types to be the same, or to require a class to have a
particular superclass.
</p>
<div class="example">
<pre class="example">func anyCommonElements&lt;T: Sequence, U: Sequence&gt;(_ lhs: T, _ rhs: U) -&gt; Bool where T.Element: Equatable, T.Element == U.Element
{
    for lhsItem in lhs {
        for rhsItem in rhs {
            if lhsItem == rhsItem {
                return true
            }
        }
    }
    return false
}
anyCommonElements([1, 2, 3], [3])
</pre></div>

<p>Experiment
</p>
<p>Modify the &lsquo;<samp>anyCommonElements(_:_:)</samp>&rsquo; function to make a function that
returns an array of the elements that any two sequences have in common.
</p>
<p>Writing &lsquo;<samp>&lt;T: Equatable&gt;</samp>&rsquo; is the same as writing
&lsquo;<samp>&lt;T&gt; ... where T: Equatable</samp>&rsquo;.
</p>
<hr>
<span id="Language-Guide"></span><div class="header">
<p>
Next: <a href="#The-Basics" accesskey="n" rel="next">The Basics</a>, Previous: <a href="#A-Swift-Tour" accesskey="p" rel="prev">A Swift Tour</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Language-Guide-1"></span><h2 class="chapter">5 Language Guide</h2>

<ul>
<li> <a href="#The-Basics">The Basics</a>
</li><li> <a href="#Basic-Operators">Basic Operators</a>
</li><li> <a href="#Strings-and-Characters">Strings and Characters</a>
</li><li> <a href="#Collection-Types">Collection Types</a>
</li><li> <a href="#Control-Flow">Control Flow</a>
</li><li> <a href="#Functions">Functions</a>
</li><li> <a href="#Closures">Closures</a>
</li><li> <a href="#Enumeration">Enumeration</a>
</li><li> <a href="#Structures-and-Classes">Structures and Classes</a>
</li><li> <a href="#Properties">Properties</a>
</li><li> <a href="#Methods">Methods</a>
</li><li> <a href="#Subscripts">Subscripts</a>
</li><li> <a href="#Inheritance">Inheritance</a>
</li><li> <a href="#Initialization">Initialization</a>
</li><li> <a href="#Deinitialization">Deinitialization</a>
</li><li> <a href="#Optional-Chaining">Optional Chaining</a>
</li><li> <a href="#Error-Handling">Error Handling</a>
</li><li> <a href="#Type-Casting">Type Casting</a>
</li><li> <a href="#Nested-Types">Nested Types</a>
</li><li> <a href="#Extensions">Extensions</a>
</li><li> <a href="#Protocols">Protocols</a>
</li><li> <a href="#Generics">Generics</a>
</li><li> <a href="#Automatic-Reference-Counting">Automatic Reference Counting</a>
</li><li> <a href="#Memory-Safety">Memory Safety</a>
</li><li> <a href="#Access-Control">Access Control</a>
</li><li> <a href="#Advanced-Operators">Advanced Operators</a>
</li></ul>

<hr>
<span id="The-Basics"></span><div class="header">
<p>
Next: <a href="#Basic-Operators" accesskey="n" rel="next">Basic Operators</a>, Previous: <a href="#Language-Guide" accesskey="p" rel="prev">Language Guide</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="The-Basics-1"></span><h2 class="chapter">6 The Basics</h2>

<p>Swift is a new programming language for iOS, macOS, watchOS, and tvOS
app development. Nonetheless, many parts of Swift will be familiar from
your experience of developing in C and Objective-C.
</p>
<p>Swift provides its own versions of all fundamental C and Objective-C
types, including &lsquo;<samp>Int</samp>&rsquo; for integers, &lsquo;<samp>Double</samp>&rsquo; and &lsquo;<samp>Float</samp>&rsquo; for
floating-point values, &lsquo;<samp>Bool</samp>&rsquo; for Boolean values, and &lsquo;<samp>String</samp>&rsquo; for
textual data. Swift also provides powerful versions of the three primary
collection types, &lsquo;<samp>Array</samp>&rsquo;, &lsquo;<samp>Set</samp>&rsquo;, and &lsquo;<samp>Dictionary</samp>&rsquo;, as described in
<a href="#Collection-Types">Collection Types</a>.
</p>
<p>Like C, Swift uses variables to store and refer to values by an
identifying name. Swift also makes extensive use of variables whose
values can&rsquo;t be changed. These are known as constants, and are much more
powerful than constants in C. Constants are used throughout Swift to
make code safer and clearer in intent when you work with values that
don&rsquo;t need to change.
</p>
<p>In addition to familiar types, Swift introduces advanced types not found
in Objective-C, such as tuples. Tuples enable you to create and pass
around groupings of values. You can use a tuple to return multiple
values from a function as a single compound value.
</p>
<p>Swift also introduces optional types, which handle the absence of a
value. Optionals say either “there <em>is</em> a value, and it equals <em>x/” or
“there /isn&rsquo;t</em> a value at all”. Using optionals is similar to using
&lsquo;<samp>nil</samp>&rsquo; with pointers in Objective-C, but they work for any type, not just
classes. Not only are optionals safer and more expressive than &lsquo;<samp>nil</samp>&rsquo;
pointers in Objective-C, they&rsquo;re at the heart of many of Swift&rsquo;s most
powerful features.
</p>
<p>Swift is a <em>type-safe</em> language, which means the language helps you to
be clear about the types of values your code can work with. If part of
your code requires a &lsquo;<samp>String</samp>&rsquo;, type safety prevents you from passing it
an &lsquo;<samp>Int</samp>&rsquo; by mistake. Likewise, type safety prevents you from
accidentally passing an optional &lsquo;<samp>String</samp>&rsquo; to a piece of code that
requires a non-optional &lsquo;<samp>String</samp>&rsquo;. Type safety helps you catch and fix
errors as early as possible in the development process.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Constants-and-Variables" accesskey="1">Constants and Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Comments" accesskey="2">Comments</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Semicolons" accesskey="3">Semicolons</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Integers" accesskey="4">Integers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Floating_002dPoint-Numbers" accesskey="5">Floating-Point Numbers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Type-Safety-and-Type-Inference" accesskey="6">Type Safety and Type Inference</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Numeric-Literals" accesskey="7">Numeric Literals</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Numeric-Type-Conversion" accesskey="8">Numeric Type Conversion</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Type-Aliases" accesskey="9">Type Aliases</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Booleans">Booleans</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Tuples">Tuples</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Optionals">Optionals</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Error-Handling-1">Error Handling</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Assertions-and-Preconditions">Assertions and Preconditions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Constants-and-Variables"></span><div class="header">
<p>
Next: <a href="#Comments" accesskey="n" rel="next">Comments</a>, Up: <a href="#The-Basics" accesskey="u" rel="up">The Basics</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Constants-and-Variables-1"></span><h3 class="section">6.1 Constants and Variables</h3>

<span id="index-let"></span>
<p>Constants and variables associate a name (such as
&lsquo;<samp>maximumNumberOfLoginAttempts</samp>&rsquo; or &lsquo;<samp>welcomeMessage</samp>&rsquo;) with a value of a
particular type (such as the number &lsquo;<samp>10</samp>&rsquo; or the string &lsquo;<samp>&quot;Hello&quot;</samp>&rsquo;). The
value of a <em>constant</em> can&rsquo;t be changed once it&rsquo;s set, whereas a
<em>variable</em> can be set to a different value in the future.
</p>
<span id="index-var"></span>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Declaring-Constants-and-Variables" accesskey="1">Declaring Constants and Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Type-Annotations" accesskey="2">Type Annotations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Naming-Constants-and-Variables" accesskey="3">Naming Constants and Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Printing-Constants-and-Variables" accesskey="4">Printing Constants and Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Declaring-Constants-and-Variables"></span><div class="header">
<p>
Next: <a href="#Type-Annotations" accesskey="n" rel="next">Type Annotations</a>, Up: <a href="#Constants-and-Variables" accesskey="u" rel="up">Constants and Variables</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Declaring-Constants-and-Variables-1"></span><h4 class="subsection">6.1.1 Declaring Constants and Variables</h4>

<p>Constants and variables must be declared before they&rsquo;re used. You
declare constants with the &lsquo;<samp>let</samp>&rsquo; keyword and variables with the &lsquo;<samp>var</samp>&rsquo;
keyword. Here&rsquo;s an example of how constants and variables can be used to
track the number of login attempts a user has made:
</p>
<div class="example">
<pre class="example">let maximumNumberOfLoginAttempts = 10
var currentLoginAttempt = 0
</pre></div>

<p>This code can be read as:
</p>
<p>“Declare a new constant called &lsquo;<samp>maximumNumberOfLoginAttempts</samp>&rsquo;, and give
it a value of &lsquo;<samp>10</samp>&rsquo;. Then, declare a new variable called
&lsquo;<samp>currentLoginAttempt</samp>&rsquo;, and give it an initial value of &lsquo;<samp>0</samp>&rsquo;.”
</p>
<p>In this example, the maximum number of allowed login attempts is
declared as a constant, because the maximum value never changes. The
current login attempt counter is declared as a variable, because this
value must be incremented after each failed login attempt.
</p>
<p>You can declare multiple constants or multiple variables on a single
line, separated by commas:
</p>
<div class="example">
<pre class="example">var x = 0.0, y = 0.0, z = 0.0
</pre></div>

<p>Note
</p>
<p>If a stored value in your code won&rsquo;t change, always declare it as a
constant with the &lsquo;<samp>let</samp>&rsquo; keyword. Use variables only for storing values
that need to be able to change.
</p>
<hr>
<span id="Type-Annotations"></span><div class="header">
<p>
Next: <a href="#Naming-Constants-and-Variables" accesskey="n" rel="next">Naming Constants and Variables</a>, Previous: <a href="#Declaring-Constants-and-Variables" accesskey="p" rel="prev">Declaring Constants and Variables</a>, Up: <a href="#Constants-and-Variables" accesskey="u" rel="up">Constants and Variables</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Type-Annotations-1"></span><h4 class="subsection">6.1.2 Type Annotations</h4>

<p>You can provide a <em>type annotation</em> when you declare a constant or
variable, to be clear about the kind of values the constant or variable
can store. Write a type annotation by placing a colon after the constant
or variable name, followed by a space, followed by the name of the type
to use.
</p>
<p>This example provides a type annotation for a variable called
&lsquo;<samp>welcomeMessage</samp>&rsquo;, to indicate that the variable can store &lsquo;<samp>String</samp>&rsquo;
values:
</p>
<div class="example">
<pre class="example">var welcomeMessage: String
</pre></div>

<p>The colon in the declaration means “&hellip;of type&hellip;,” so the code above
can be read as:
</p>
<p>“Declare a variable called &lsquo;<samp>welcomeMessage</samp>&rsquo; that is of type &lsquo;<samp>String</samp>&rsquo;.”
</p>
<p>The phrase “of type &lsquo;<samp>String=” means “can store any =String</samp>&rsquo; value.”
Think of it as meaning “the type of thing” (or “the kind of thing”) that
can be stored.
</p>
<p>The &lsquo;<samp>welcomeMessage</samp>&rsquo; variable can now be set to any string value without
error:
</p>
<div class="example">
<pre class="example">welcomeMessage = &quot;Hello&quot;
</pre></div>

<p>You can define multiple related variables of the same type on a single
line, separated by commas, with a single type annotation after the final
variable name:
</p>
<div class="example">
<pre class="example">var red, green, blue: Double
</pre></div>

<p>Note
</p>
<p>It&rsquo;s rare that you need to write type annotations in practice. If you
provide an initial value for a constant or variable at the point that
it&rsquo;s defined, Swift can almost always infer the type to be used for that
constant or variable, as described in <a href="#Type-Safety-and-Type-Inference">Type
Safety and Type Inference</a>. In the &lsquo;<samp>welcomeMessage</samp>&rsquo; example above, no
initial value is provided, and so the type of the &lsquo;<samp>welcomeMessage</samp>&rsquo;
variable is specified with a type annotation rather than being inferred
from an initial value.
</p>
<hr>
<span id="Naming-Constants-and-Variables"></span><div class="header">
<p>
Next: <a href="#Printing-Constants-and-Variables" accesskey="n" rel="next">Printing Constants and Variables</a>, Previous: <a href="#Type-Annotations" accesskey="p" rel="prev">Type Annotations</a>, Up: <a href="#Constants-and-Variables" accesskey="u" rel="up">Constants and Variables</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Naming-Constants-and-Variables-1"></span><h4 class="subsection">6.1.3 Naming Constants and Variables</h4>

<p>Constant and variable names can contain almost any character, including
Unicode characters:
</p>
<div class="example">
<pre class="example">let π = 3.14159
let 你好 = &quot;你好世界&quot;
let 🐶🐮 = &quot;dogcow&quot;
</pre></div>

<p>Constant and variable names can&rsquo;t contain whitespace characters,
mathematical symbols, arrows, private-use Unicode scalar values, or
line- and box-drawing characters. Nor can they begin with a number,
although numbers may be included elsewhere within the name.
</p>
<p>Once you&rsquo;ve declared a constant or variable of a certain type, you can&rsquo;t
declare it again with the same name, or change it to store values of a
different type. Nor can you change a constant into a variable or a
variable into a constant.
</p>
<p>Note
</p>
<p>If you need to give a constant or variable the same name as a reserved
Swift keyword, surround the keyword with backticks (&lsquo;<samp>`</samp>&rsquo;) when using it
as a name. However, avoid using keywords as names unless you have
absolutely no choice.
</p>
<p>You can change the value of an existing variable to another value of a
compatible type. In this example, the value of &lsquo;<samp>friendlyWelcome</samp>&rsquo; is
changed from &lsquo;<samp>&quot;Hello!&quot;</samp>&rsquo; to &lsquo;<samp>&quot;Bonjour!&quot;</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">var friendlyWelcome = &quot;Hello!&quot;
friendlyWelcome = &quot;Bonjour!&quot;
// friendlyWelcome is now &quot;Bonjour!&quot;
</pre></div>

<p>Unlike a variable, the value of a constant can&rsquo;t be changed after it&rsquo;s
set. Attempting to do so is reported as an error when your code is
compiled:
</p>
<div class="example">
<pre class="example">let languageName = &quot;Swift&quot;
languageName = &quot;Swift++&quot;
// This is a compile-time error: languageName cannot be changed.
</pre></div>

<hr>
<span id="Printing-Constants-and-Variables"></span><div class="header">
<p>
Previous: <a href="#Naming-Constants-and-Variables" accesskey="p" rel="prev">Naming Constants and Variables</a>, Up: <a href="#Constants-and-Variables" accesskey="u" rel="up">Constants and Variables</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Printing-Constants-and-Variables-1"></span><h4 class="subsection">6.1.4 Printing Constants and Variables</h4>

<p>You can print the current value of a constant or variable with the
&lsquo;<samp>print(_:separator:terminator:)</samp>&rsquo; function:
</p>
<div class="example">
<pre class="example">print(friendlyWelcome)
// Prints &quot;Bonjour!&quot;
</pre></div>

<p>The &lsquo;<samp>print(_:separator:terminator:)</samp>&rsquo; function is a global function that
prints one or more values to an appropriate output. In Xcode, for
example, the &lsquo;<samp>print(_:separator:terminator:)</samp>&rsquo; function prints its output
in Xcode&rsquo;s “console” pane. The &lsquo;<samp>separator</samp>&rsquo; and &lsquo;<samp>terminator</samp>&rsquo; parameter
have default values, so you can omit them when you call this function.
By default, the function terminates the line it prints by adding a line
break. To print a value without a line break after it, pass an empty
string as the terminator&mdash;for example,
&lsquo;<samp>print(someValue, terminator: &quot;&quot;)</samp>&rsquo;. For information about parameters
with default values, see <a href="#Default-Parameter-Values">Default Parameter
Values</a>.
</p>
<p>Swift uses <em>string interpolation</em> to include the name of a constant or
variable as a placeholder in a longer string, and to prompt Swift to
replace it with the current value of that constant or variable. Wrap the
name in parentheses and escape it with a backslash before the opening
parenthesis:
</p>
<div class="example">
<pre class="example">print(&quot;The current value of friendlyWelcome is \(friendlyWelcome)&quot;)
// Prints &quot;The current value of friendlyWelcome is Bonjour!&quot;
</pre></div>

<p>Note
</p>
<p>All options you can use with string interpolation are described in
<a href="#String-Interpolation">String Interpolation</a>.
</p>
<hr>
<span id="Comments"></span><div class="header">
<p>
Next: <a href="#Semicolons" accesskey="n" rel="next">Semicolons</a>, Previous: <a href="#Constants-and-Variables" accesskey="p" rel="prev">Constants and Variables</a>, Up: <a href="#The-Basics" accesskey="u" rel="up">The Basics</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Comments-1"></span><h3 class="section">6.2 Comments</h3>

<p>Use comments to include nonexecutable text in your code, as a note or
reminder to yourself. Comments are ignored by the Swift compiler when
your code is compiled.
</p>
<p>Comments in Swift are very similar to comments in C. Single-line
comments begin with two forward-slashes (&lsquo;<samp>//</samp>&rsquo;):
</p>
<div class="example">
<pre class="example">// This is a comment.
</pre></div>

<p>Multiline comments start with a forward-slash followed by an asterisk
(&lsquo;<samp>/*</samp>&rsquo;) and end with an asterisk followed by a forward-slash (&lsquo;<samp>*/</samp>&rsquo;):
</p>
<div class="example">
<pre class="example">/* This is also a comment
but is written over multiple lines. */
</pre></div>

<p>Unlike multiline comments in C, multiline comments in Swift can be
nested inside other multiline comments. You write nested comments by
starting a multiline comment block and then starting a second multiline
comment within the first block. The second block is then closed,
followed by the first block:
</p>
<div class="example">
<pre class="example">/* This is the start of the first multiline comment.
/* This is the second, nested multiline comment. */
This is the end of the first multiline comment. */
</pre></div>

<p>Nested multiline comments enable you to comment out large blocks of code
quickly and easily, even if the code already contains multiline
comments.
</p>
<hr>
<span id="Semicolons"></span><div class="header">
<p>
Next: <a href="#Integers" accesskey="n" rel="next">Integers</a>, Previous: <a href="#Comments" accesskey="p" rel="prev">Comments</a>, Up: <a href="#The-Basics" accesskey="u" rel="up">The Basics</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Semicolons-1"></span><h3 class="section">6.3 Semicolons</h3>

<p>Unlike many other languages, Swift doesn&rsquo;t require you to write a
semicolon (&lsquo;<samp>;</samp>&rsquo;) after each statement in your code, although you can do
so if you wish. However, semicolons <em>are</em> required if you want to write
multiple separate statements on a single line:
</p>
<div class="example">
<pre class="example">let cat = &quot;🐱&quot;; print(cat)
// Prints &quot;🐱&quot;
</pre></div>

<hr>
<span id="Integers"></span><div class="header">
<p>
Next: <a href="#Floating_002dPoint-Numbers" accesskey="n" rel="next">Floating-Point Numbers</a>, Previous: <a href="#Semicolons" accesskey="p" rel="prev">Semicolons</a>, Up: <a href="#The-Basics" accesskey="u" rel="up">The Basics</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Integers-1"></span><h3 class="section">6.4 Integers</h3>

<p><em>Integers</em> are whole numbers with no fractional component, such as &lsquo;<samp>42</samp>&rsquo;
and &lsquo;<samp>-23</samp>&rsquo;. Integers are either <em>signed</em> (positive, zero, or negative) or
<em>unsigned</em> (positive or zero).
</p>
<p>Swift provides signed and unsigned integers in 8, 16, 32, and 64 bit
forms. These integers follow a naming convention similar to C, in that
an 8-bit unsigned integer is of type &lsquo;<samp>UInt8</samp>&rsquo;, and a 32-bit signed
integer is of type &lsquo;<samp>Int32</samp>&rsquo;. Like all types in Swift, these integer types
have capitalized names.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Integer-Bounds" accesskey="1">Integer Bounds</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Int" accesskey="2">Int</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#UInt" accesskey="3">UInt</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Integer-Bounds"></span><div class="header">
<p>
Next: <a href="#Int" accesskey="n" rel="next">Int</a>, Up: <a href="#Integers" accesskey="u" rel="up">Integers</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Integer-Bounds-1"></span><h4 class="subsection">6.4.1 Integer Bounds</h4>

<p>You can access the minimum and maximum values of each integer type with
its &lsquo;<samp>min</samp>&rsquo; and &lsquo;<samp>max</samp>&rsquo; properties:
</p>
<div class="example">
<pre class="example">let minValue = UInt8.min // minValue is equal to 0, and is of type UInt8
let maxValue = UInt8.max // maxValue is equal to 255, and is of type UInt8
</pre></div>

<p>The values of these properties are of the appropriate-sized number type
(such as &lsquo;<samp>UInt8</samp>&rsquo; in the example above) and can therefore be used in
expressions alongside other values of the same type.
</p>
<hr>
<span id="Int"></span><div class="header">
<p>
Next: <a href="#UInt" accesskey="n" rel="next">UInt</a>, Previous: <a href="#Integer-Bounds" accesskey="p" rel="prev">Integer Bounds</a>, Up: <a href="#Integers" accesskey="u" rel="up">Integers</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Int-1"></span><h4 class="subsection">6.4.2 Int</h4>

<p>In most cases, you don&rsquo;t need to pick a specific size of integer to use
in your code. Swift provides an additional integer type, &lsquo;<samp>Int</samp>&rsquo;, which
has the same size as the current platform&rsquo;s native word size:
</p>
<ul>
<li> On a 32-bit platform, &lsquo;<samp>Int</samp>&rsquo; is the same size as &lsquo;<samp>Int32</samp>&rsquo;.

</li><li> On a 64-bit platform, &lsquo;<samp>Int</samp>&rsquo; is the same size as &lsquo;<samp>Int64</samp>&rsquo;.
</li></ul>

<p>Unless you need to work with a specific size of integer, always use
&lsquo;<samp>Int</samp>&rsquo; for integer values in your code. This aids code consistency and
interoperability. Even on 32-bit platforms, &lsquo;<samp>Int</samp>&rsquo; can store any value
between &lsquo;<samp>-2,147,483,648</samp>&rsquo; and &lsquo;<samp>2,147,483,647</samp>&rsquo;, and is large enough for
many integer ranges.
</p>
<hr>
<span id="UInt"></span><div class="header">
<p>
Previous: <a href="#Int" accesskey="p" rel="prev">Int</a>, Up: <a href="#Integers" accesskey="u" rel="up">Integers</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="UInt-1"></span><h4 class="subsection">6.4.3 UInt</h4>

<p>Swift also provides an unsigned integer type, &lsquo;<samp>UInt</samp>&rsquo;, which has the same
size as the current platform&rsquo;s native word size:
</p>
<ul>
<li> On a 32-bit platform, &lsquo;<samp>UInt</samp>&rsquo; is the same size as &lsquo;<samp>UInt32</samp>&rsquo;.

</li><li> On a 64-bit platform, &lsquo;<samp>UInt</samp>&rsquo; is the same size as &lsquo;<samp>UInt64</samp>&rsquo;.
</li></ul>

<p>Note
</p>
<p>Use &lsquo;<samp>UInt</samp>&rsquo; only when you specifically need an unsigned integer type with
the same size as the platform&rsquo;s native word size. If this isn&rsquo;t the
case, &lsquo;<samp>Int</samp>&rsquo; is preferred, even when the values to be stored are known to
be nonnegative. A consistent use of &lsquo;<samp>Int</samp>&rsquo; for integer values aids code
interoperability, avoids the need to convert between different number
types, and matches integer type inference, as described in
<a href="#Type-Safety-and-Type-Inference">Type Safety and Type Inference</a>.
</p>
<hr>
<span id="Floating_002dPoint-Numbers"></span><div class="header">
<p>
Next: <a href="#Type-Safety-and-Type-Inference" accesskey="n" rel="next">Type Safety and Type Inference</a>, Previous: <a href="#Integers" accesskey="p" rel="prev">Integers</a>, Up: <a href="#The-Basics" accesskey="u" rel="up">The Basics</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Floating_002dPoint-Numbers-1"></span><h3 class="section">6.5 Floating-Point Numbers</h3>

<p><em>Floating-point numbers</em> are numbers with a fractional component, such
as &lsquo;<samp>3.14159</samp>&rsquo;, &lsquo;<samp>0.1</samp>&rsquo;, and &lsquo;<samp>-273.15</samp>&rsquo;.
</p>
<p>Floating-point types can represent a much wider range of values than
integer types, and can store numbers that are much larger or smaller
than can be stored in an &lsquo;<samp>Int</samp>&rsquo;. Swift provides two signed floating-point
number types:
</p>
<ul>
<li> &lsquo;<samp>Double</samp>&rsquo; represents a 64-bit floating-point number.

</li><li> &lsquo;<samp>Float</samp>&rsquo; represents a 32-bit floating-point number.
</li></ul>

<p>Note
</p>
<p>&lsquo;<samp>Double</samp>&rsquo; has a precision of at least 15 decimal digits, whereas the
precision of &lsquo;<samp>Float</samp>&rsquo; can be as little as 6 decimal digits. The
appropriate floating-point type to use depends on the nature and range
of values you need to work with in your code. In situations where either
type would be appropriate, &lsquo;<samp>Double</samp>&rsquo; is preferred.
</p>
<hr>
<span id="Type-Safety-and-Type-Inference"></span><div class="header">
<p>
Next: <a href="#Numeric-Literals" accesskey="n" rel="next">Numeric Literals</a>, Previous: <a href="#Floating_002dPoint-Numbers" accesskey="p" rel="prev">Floating-Point Numbers</a>, Up: <a href="#The-Basics" accesskey="u" rel="up">The Basics</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Type-Safety-and-Type-Inference-1"></span><h3 class="section">6.6 Type Safety and Type Inference</h3>

<p>Swift is a <em>type-safe</em> language. A type safe language encourages you to
be clear about the types of values your code can work with. If part of
your code requires a &lsquo;<samp>String</samp>&rsquo;, you can&rsquo;t pass it an &lsquo;<samp>Int</samp>&rsquo; by mistake.
</p>
<p>Because Swift is type safe, it performs <em>type checks</em> when compiling
your code and flags any mismatched types as errors. This enables you to
catch and fix errors as early as possible in the development process.
</p>
<p>Type-checking helps you avoid errors when you&rsquo;re working with different
types of values. However, this doesn&rsquo;t mean that you have to specify the
type of every constant and variable that you declare. If you don&rsquo;t
specify the type of value you need, Swift uses <em>type inference</em> to work
out the appropriate type. Type inference enables a compiler to deduce
the type of a particular expression automatically when it compiles your
code, simply by examining the values you provide.
</p>
<p>Because of type inference, Swift requires far fewer type declarations
than languages such as C or Objective-C. Constants and variables are
still explicitly typed, but much of the work of specifying their type is
done for you.
</p>
<p>Type inference is particularly useful when you declare a constant or
variable with an initial value. This is often done by assigning a
<em>literal value</em> (or <em>literal</em>) to the constant or variable at the point
that you declare it. (A literal value is a value that appears directly
in your source code, such as &lsquo;<samp>42</samp>&rsquo; and &lsquo;<samp>3.14159</samp>&rsquo; in the examples below.)
</p>
<p>For example, if you assign a literal value of &lsquo;<samp>42</samp>&rsquo; to a new constant
without saying what type it is, Swift infers that you want the constant
to be an &lsquo;<samp>Int</samp>&rsquo;, because you have initialized it with a number that looks
like an integer:
</p>
<div class="example">
<pre class="example">let meaningOfLife = 42
// meaningOfLife is inferred to be of type Int
</pre></div>

<p>Likewise, if you don&rsquo;t specify a type for a floating-point literal,
Swift infers that you want to create a &lsquo;<samp>Double</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">let pi = 3.14159
// pi is inferred to be of type Double
</pre></div>

<p>Swift always chooses &lsquo;<samp>Double</samp>&rsquo; (rather than &lsquo;<samp>Float</samp>&rsquo;) when inferring the
type of floating-point numbers.
</p>
<p>If you combine integer and floating-point literals in an expression, a
type of &lsquo;<samp>Double</samp>&rsquo; will be inferred from the context:
</p>
<div class="example">
<pre class="example">let anotherPi = 3 + 0.14159
// anotherPi is also inferred to be of type Double
</pre></div>

<p>The literal value of &lsquo;<samp>3</samp>&rsquo; has no explicit type in and of itself, and so
an appropriate output type of &lsquo;<samp>Double</samp>&rsquo; is inferred from the presence of
a floating-point literal as part of the addition.
</p>
<hr>
<span id="Numeric-Literals"></span><div class="header">
<p>
Next: <a href="#Numeric-Type-Conversion" accesskey="n" rel="next">Numeric Type Conversion</a>, Previous: <a href="#Type-Safety-and-Type-Inference" accesskey="p" rel="prev">Type Safety and Type Inference</a>, Up: <a href="#The-Basics" accesskey="u" rel="up">The Basics</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Numeric-Literals-1"></span><h3 class="section">6.7 Numeric Literals</h3>

<p>Integer literals can be written as:
</p>
<ul>
<li> A <em>decimal</em> number, with no prefix

</li><li> A <em>binary</em> number, with a &lsquo;<samp>0b</samp>&rsquo; prefix

</li><li> An <em>octal</em> number, with a &lsquo;<samp>0o</samp>&rsquo; prefix

</li><li> A <em>hexadecimal</em> number, with a &lsquo;<samp>0x</samp>&rsquo; prefix
</li></ul>

<p>All of these integer literals have a decimal value of &lsquo;<samp>17</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">let decimalInteger = 17
let binaryInteger = 0b10001 // 17 in binary notation
let octalInteger = 0o21 // 17 in octal notation
let hexadecimalInteger = 0x11 // 17 in hexadecimal notation
</pre></div>

<p>Floating-point literals can be decimal (with no prefix), or hexadecimal
(with a &lsquo;<samp>0x</samp>&rsquo; prefix). They must always have a number (or hexadecimal
number) on both sides of the decimal point. Decimal floats can also have
an optional <em>exponent</em>, indicated by an uppercase or lowercase &lsquo;<samp>e</samp>&rsquo;;
hexadecimal floats must have an exponent, indicated by an uppercase or
lowercase &lsquo;<samp>p</samp>&rsquo;.
</p>
<p>For decimal numbers with an exponent of &lsquo;<samp>exp</samp>&rsquo;, the base number is
multiplied by 10<em>^exp</em>:
</p>
<ul>
<li> &lsquo;<samp>1.25e2</samp>&rsquo; means 1.25 x 10<em>^2</em>, or &lsquo;<samp>125.0</samp>&rsquo;.

</li><li> &lsquo;<samp>1.25e-2</samp>&rsquo; means 1.25 x 10<em>^-2</em>, or &lsquo;<samp>0.0125</samp>&rsquo;.
</li></ul>

<p>For hexadecimal numbers with an exponent of &lsquo;<samp>exp</samp>&rsquo;, the base number is
multiplied by 2<em>^exp</em>:
</p>
<ul>
<li> &lsquo;<samp>0xFp2</samp>&rsquo; means 15 x 2<em>^2</em>, or &lsquo;<samp>60.0</samp>&rsquo;.

</li><li> &lsquo;<samp>0xFp-2</samp>&rsquo; means 15 x 2<em>^-2</em>, or &lsquo;<samp>3.75</samp>&rsquo;.
</li></ul>

<p>All of these floating-point literals have a decimal value of &lsquo;<samp>12.1875</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">let decimalDouble = 12.1875
let exponentDouble = 1.21875e1
let hexadecimalDouble = 0xC.3p0
</pre></div>

<p>Numeric literals can contain extra formatting to make them easier to
read. Both integers and floats can be padded with extra zeros and can
contain underscores to help with readability. Neither type of formatting
affects the underlying value of the literal:
</p>
<div class="example">
<pre class="example">let paddedDouble = 000123.456
let oneMillion = 1_000_000
let justOverOneMillion = 1_000_000.000_000_1
</pre></div>

<hr>
<span id="Numeric-Type-Conversion"></span><div class="header">
<p>
Next: <a href="#Type-Aliases" accesskey="n" rel="next">Type Aliases</a>, Previous: <a href="#Numeric-Literals" accesskey="p" rel="prev">Numeric Literals</a>, Up: <a href="#The-Basics" accesskey="u" rel="up">The Basics</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Numeric-Type-Conversion-1"></span><h3 class="section">6.8 Numeric Type Conversion</h3>

<p>Use the &lsquo;<samp>Int</samp>&rsquo; type for all general-purpose integer constants and
variables in your code, even if they&rsquo;re known to be nonnegative. Using
the default integer type in everyday situations means that integer
constants and variables are immediately interoperable in your code and
will match the inferred type for integer literal values.
</p>
<p>Use other integer types only when they&rsquo;re specifically needed for the
task at hand, because of explicitly sized data from an external source,
or for performance, memory usage, or other necessary optimization. Using
explicitly sized types in these situations helps to catch any accidental
value overflows and implicitly documents the nature of the data being
used.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Integer-Conversion" accesskey="1">Integer Conversion</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Integer-and-Floating_002dPoint-Conversion" accesskey="2">Integer and Floating-Point Conversion</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Integer-Conversion"></span><div class="header">
<p>
Next: <a href="#Integer-and-Floating_002dPoint-Conversion" accesskey="n" rel="next">Integer and Floating-Point Conversion</a>, Up: <a href="#Numeric-Type-Conversion" accesskey="u" rel="up">Numeric Type Conversion</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Integer-Conversion-1"></span><h4 class="subsection">6.8.1 Integer Conversion</h4>

<p>The range of numbers that can be stored in an integer constant or
variable is different for each numeric type. An &lsquo;<samp>Int8</samp>&rsquo; constant or
variable can store numbers between &lsquo;<samp>-128</samp>&rsquo; and &lsquo;<samp>127</samp>&rsquo;, whereas a &lsquo;<samp>UInt8</samp>&rsquo;
constant or variable can store numbers between &lsquo;<samp>0</samp>&rsquo; and &lsquo;<samp>255</samp>&rsquo;. A number
that won&rsquo;t fit into a constant or variable of a sized integer type is
reported as an error when your code is compiled:
</p>
<div class="example">
<pre class="example">let cannotBeNegative: UInt8 = -1
// UInt8 cannot store negative numbers, and so this will report an error
let tooBig: Int8 = Int8.max + 1
// Int8 cannot store a number larger than its maximum value,
// and so this will also report an error
</pre></div>

<p>Because each numeric type can store a different range of values, you
must opt in to numeric type conversion on a case-by-case basis. This
opt-in approach prevents hidden conversion errors and helps make type
conversion intentions explicit in your code.
</p>
<p>To convert one specific number type to another, you initialize a new
number of the desired type with the existing value. In the example
below, the constant &lsquo;<samp>twoThousand</samp>&rsquo; is of type &lsquo;<samp>UInt16</samp>&rsquo;, whereas the
constant &lsquo;<samp>one</samp>&rsquo; is of type &lsquo;<samp>UInt8</samp>&rsquo;. They can&rsquo;t be added together
directly, because they&rsquo;re not of the same type. Instead, this example
calls &lsquo;<samp>UInt16(one)</samp>&rsquo; to create a new &lsquo;<samp>UInt16</samp>&rsquo; initialized with the value
of &lsquo;<samp>one</samp>&rsquo;, and uses this value in place of the original:
</p>
<div class="example">
<pre class="example">let twoThousand: UInt16 = 2_000
let one: UInt8 = 1
let twoThousandAndOne = twoThousand + UInt16(one)
</pre></div>

<p>Because both sides of the addition are now of type &lsquo;<samp>UInt16</samp>&rsquo;, the
addition is allowed. The output constant (&lsquo;<samp>twoThousandAndOne</samp>&rsquo;) is
inferred to be of type &lsquo;<samp>UInt16</samp>&rsquo;, because it&rsquo;s the sum of two &lsquo;<samp>UInt16</samp>&rsquo;
values.
</p>
<p>&lsquo;<samp>SomeType(ofInitialValue)</samp>&rsquo; is the default way to call the initializer of
a Swift type and pass in an initial value. Behind the scenes, &lsquo;<samp>UInt16</samp>&rsquo;
has an initializer that accepts a &lsquo;<samp>UInt8</samp>&rsquo; value, and so this initializer
is used to make a new &lsquo;<samp>UInt16</samp>&rsquo; from an existing &lsquo;<samp>UInt8</samp>&rsquo;. You can&rsquo;t pass
in <em>any</em> type here, however&mdash;it has to be a type for which &lsquo;<samp>UInt16</samp>&rsquo;
provides an initializer. Extending existing types to provide
initializers that accept new types (including your own type definitions)
is covered in <a href="#Extensions">Extensions</a>.
</p>
<hr>
<span id="Integer-and-Floating_002dPoint-Conversion"></span><div class="header">
<p>
Previous: <a href="#Integer-Conversion" accesskey="p" rel="prev">Integer Conversion</a>, Up: <a href="#Numeric-Type-Conversion" accesskey="u" rel="up">Numeric Type Conversion</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Integer-and-Floating_002dPoint-Conversion-1"></span><h4 class="subsection">6.8.2 Integer and Floating-Point Conversion</h4>

<p>Conversions between integer and floating-point numeric types must be
made explicit:
</p>
<div class="example">
<pre class="example">let three = 3
let pointOneFourOneFiveNine = 0.14159
let pi = Double(three) + pointOneFourOneFiveNine
// pi equals 3.14159, and is inferred to be of type Double
</pre></div>

<p>Here, the value of the constant &lsquo;<samp>three</samp>&rsquo; is used to create a new value of
type &lsquo;<samp>Double</samp>&rsquo;, so that both sides of the addition are of the same type.
Without this conversion in place, the addition would not be allowed.
</p>
<p>Floating-point to integer conversion must also be made explicit. An
integer type can be initialized with a &lsquo;<samp>Double</samp>&rsquo; or &lsquo;<samp>Float</samp>&rsquo; value:
</p>
<div class="example">
<pre class="example">let integerPi = Int(pi)
// integerPi equals 3, and is inferred to be of type Int
</pre></div>

<p>Floating-point values are always truncated when used to initialize a new
integer value in this way. This means that &lsquo;<samp>4.75</samp>&rsquo; becomes &lsquo;<samp>4</samp>&rsquo;, and
&lsquo;<samp>-3.9</samp>&rsquo; becomes &lsquo;<samp>-3</samp>&rsquo;.
</p>
<p>Note
</p>
<p>The rules for combining numeric constants and variables are different
from the rules for numeric literals. The literal value &lsquo;<samp>3</samp>&rsquo; can be added
directly to the literal value &lsquo;<samp>0.14159</samp>&rsquo;, because number literals don&rsquo;t
have an explicit type in and of themselves. Their type is inferred only
at the point that they&rsquo;re evaluated by the compiler.
</p>
<hr>
<span id="Type-Aliases"></span><div class="header">
<p>
Next: <a href="#Booleans" accesskey="n" rel="next">Booleans</a>, Previous: <a href="#Numeric-Type-Conversion" accesskey="p" rel="prev">Numeric Type Conversion</a>, Up: <a href="#The-Basics" accesskey="u" rel="up">The Basics</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Type-Aliases-2"></span><h3 class="section">6.9 Type Aliases</h3>

<span id="index-typealias"></span>

<p><em>Type aliases</em> define an alternative name for an existing type. You
define type aliases with the &lsquo;<samp>typealias</samp>&rsquo; keyword.
</p>
<p>Type aliases are useful when you want to refer to an existing type by a
name that is contextually more appropriate, such as when working with
data of a specific size from an external source:
</p>
<div class="example">
<pre class="example">typealias AudioSample = UInt16
</pre></div>

<p>Once you define a type alias, you can use the alias anywhere you might
use the original name:
</p>
<div class="example">
<pre class="example">var maxAmplitudeFound = AudioSample.min
// maxAmplitudeFound is now 0
</pre></div>

<p>Here, &lsquo;<samp>AudioSample</samp>&rsquo; is defined as an alias for &lsquo;<samp>UInt16</samp>&rsquo;. Because it&rsquo;s an
alias, the call to &lsquo;<samp>AudioSample.min</samp>&rsquo; actually calls &lsquo;<samp>UInt16.min</samp>&rsquo;, which
provides an initial value of &lsquo;<samp>0</samp>&rsquo; for the &lsquo;<samp>maxAmplitudeFound</samp>&rsquo; variable.
</p>
<hr>
<span id="Booleans"></span><div class="header">
<p>
Next: <a href="#Tuples" accesskey="n" rel="next">Tuples</a>, Previous: <a href="#Type-Aliases" accesskey="p" rel="prev">Type Aliases</a>, Up: <a href="#The-Basics" accesskey="u" rel="up">The Basics</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Booleans-1"></span><h3 class="section">6.10 Booleans</h3>

<p>Swift has a basic <em>Boolean</em> type, called &lsquo;<samp>Bool</samp>&rsquo;. Boolean values are
referred to as <em>logical</em>, because they can only ever be true or false.
Swift provides two Boolean constant values, &lsquo;<samp>true</samp>&rsquo; and &lsquo;<samp>false</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">let orangesAreOrange = true
let turnipsAreDelicious = false
</pre></div>

<p>The types of &lsquo;<samp>orangesAreOrange</samp>&rsquo; and &lsquo;<samp>turnipsAreDelicious</samp>&rsquo; have been
inferred as &lsquo;<samp>Bool</samp>&rsquo; from the fact that they were initialized with Boolean
literal values. As with &lsquo;<samp>Int</samp>&rsquo; and &lsquo;<samp>Double</samp>&rsquo; above, you don&rsquo;t need to
declare constants or variables as &lsquo;<samp>Bool</samp>&rsquo; if you set them to &lsquo;<samp>true</samp>&rsquo; or
&lsquo;<samp>false</samp>&rsquo; as soon as you create them. Type inference helps make Swift code
more concise and readable when it initializes constants or variables
with other values whose type is already known.
</p>
<p>Boolean values are particularly useful when you work with conditional
statements such as the &lsquo;<samp>if</samp>&rsquo; statement:
</p>
<div class="example">
<pre class="example">if turnipsAreDelicious {
    print(&quot;Mmm, tasty turnips!&quot;)
} else {
    print(&quot;Eww, turnips are horrible.&quot;)
}
// Prints &quot;Eww, turnips are horrible.&quot;
</pre></div>

<p>Conditional statements such as the &lsquo;<samp>if</samp>&rsquo; statement are covered in more
detail in <a href="#Control-Flow">Control Flow</a>.
</p>
<p>Swift&rsquo;s type safety prevents non-Boolean values from being substituted
for &lsquo;<samp>Bool</samp>&rsquo;. The following example reports a compile-time error:
</p>
<div class="example">
<pre class="example">let i = 1
if i {
    // this example will not compile, and will report an error
}
</pre></div>

<p>However, the alternative example below is valid:
</p>
<div class="example">
<pre class="example">let i = 1
if i == 1 {
    // this example will compile successfully
}
</pre></div>

<p>The result of the &lsquo;<samp>i =</samp>&rsquo; 1= comparison is of type &lsquo;<samp>Bool</samp>&rsquo;, and so this
second example passes the type-check. Comparisons like &lsquo;<samp>i =</samp>&rsquo; 1= are
discussed in <a href="#Basic-Operators">Basic Operators</a>.
</p>
<p>As with other examples of type safety in Swift, this approach avoids
accidental errors and ensures that the intention of a particular section
of code is always clear.
</p>
<hr>
<span id="Tuples"></span><div class="header">
<p>
Next: <a href="#Optionals" accesskey="n" rel="next">Optionals</a>, Previous: <a href="#Booleans" accesskey="p" rel="prev">Booleans</a>, Up: <a href="#The-Basics" accesskey="u" rel="up">The Basics</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Tuples-1"></span><h3 class="section">6.11 Tuples</h3>

<p><em>Tuples</em> group multiple values into a single compound value. The values
within a tuple can be of any type and don&rsquo;t have to be of the same type
as each other.
</p>
<p>In this example, &lsquo;<samp>(404, &quot;Not Found&quot;)</samp>&rsquo; is a tuple that describes an <em>HTTP
status code</em>. An HTTP status code is a special value returned by a web
server whenever you request a web page. A status code of &lsquo;<samp>404 Not Found</samp>&rsquo;
is returned if you request a webpage that doesn&rsquo;t exist.
</p>
<div class="example">
<pre class="example">let http404Error = (404, &quot;Not Found&quot;)
// http404Error is of type (Int, String), and equals (404, &quot;Not Found&quot;)
</pre></div>

<p>The &lsquo;<samp>(404, &quot;Not Found&quot;)</samp>&rsquo; tuple groups together an &lsquo;<samp>Int</samp>&rsquo; and a &lsquo;<samp>String</samp>&rsquo;
to give the HTTP status code two separate values: a number and a
human-readable description. It can be described as “a tuple of type
=(Int, String)=”.
</p>
<p>You can create tuples from any permutation of types, and they can
contain as many different types as you like. There&rsquo;s nothing stopping
you from having a tuple of type &lsquo;<samp>(Int, Int, Int)</samp>&rsquo;, or &lsquo;<samp>(String, Bool)</samp>&rsquo;,
or indeed any other permutation you require.
</p>
<p>You can <em>decompose</em> a tuple&rsquo;s contents into separate constants or
variables, which you then access as usual:
</p>
<div class="example">
<pre class="example">let (statusCode, statusMessage) = http404Error
print(&quot;The status code is \(statusCode)&quot;)
// Prints &quot;The status code is 404&quot;
print(&quot;The status message is \(statusMessage)&quot;)
// Prints &quot;The status message is Not Found&quot;
</pre></div>

<p>If you only need some of the tuple&rsquo;s values, ignore parts of the tuple
with an underscore (&lsquo;<samp>_</samp>&rsquo;) when you decompose the tuple:
</p>
<div class="example">
<pre class="example">let (justTheStatusCode, _) = http404Error
print(&quot;The status code is \(justTheStatusCode)&quot;)
// Prints &quot;The status code is 404&quot;
</pre></div>

<p>Alternatively, access the individual element values in a tuple using
index numbers starting at zero:
</p>
<div class="example">
<pre class="example">print(&quot;The status code is \(http404Error.0)&quot;)
// Prints &quot;The status code is 404&quot;
print(&quot;The status message is \(http404Error.1)&quot;)
// Prints &quot;The status message is Not Found&quot;
</pre></div>

<p>You can name the individual elements in a tuple when the tuple is
defined:
</p>
<div class="example">
<pre class="example">let http200Status = (statusCode: 200, description: &quot;OK&quot;)
</pre></div>

<p>If you name the elements in a tuple, you can use the element names to
access the values of those elements:
</p>
<div class="example">
<pre class="example">print(&quot;The status code is \(http200Status.statusCode)&quot;)
// Prints &quot;The status code is 200&quot;
print(&quot;The status message is \(http200Status.description)&quot;)
// Prints &quot;The status message is OK&quot;
</pre></div>

<p>Tuples are particularly useful as the return values of functions. A
function that tries to retrieve a web page might return the
&lsquo;<samp>(Int, String)</samp>&rsquo; tuple type to describe the success or failure of the
page retrieval. By returning a tuple with two distinct values, each of a
different type, the function provides more useful information about its
outcome than if it could only return a single value of a single type.
For more information, see <a href="#Functions-with-Multiple-Return-Values">Functions with
Multiple Return Values</a>.
</p>
<p>Note
</p>
<p>Tuples are useful for simple groups of related values. They&rsquo;re not
suited to the creation of complex data structures. If your data
structure is likely to be more complex, model it as a
class or structure, rather than as a tuple. For more information, see
<a href="#Structures-and-Classes">Structures and Classes</a>.
</p>
<hr>
<span id="Optionals"></span><div class="header">
<p>
Next: <a href="#Error-Handling-1" accesskey="n" rel="next">Error Handling 1</a>, Previous: <a href="#Tuples" accesskey="p" rel="prev">Tuples</a>, Up: <a href="#The-Basics" accesskey="u" rel="up">The Basics</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Optionals-1"></span><h3 class="section">6.12 Optionals</h3>

<p>You use <em>optionals</em> in situations where a value may be absent. An
optional represents two possibilities: Either there <em>is</em> a value, and
you can unwrap the optional to access that value, or there <em>isn&rsquo;t</em> a
value at all.
</p>
<p>Note
</p>
<p>The concept of optionals doesn&rsquo;t exist in C or Objective-C. The nearest
thing in Objective-C is the ability to return &lsquo;<samp>nil</samp>&rsquo; from a method that
would otherwise return an object, with &lsquo;<samp>nil</samp>&rsquo; meaning “the absence of a
valid object.” However, this only works for objects&mdash;it doesn&rsquo;t work
for structures, basic C types, or enumeration values. For these types,
Objective-C methods typically return a special value (such as
&lsquo;<samp>NSNotFound</samp>&rsquo;) to indicate the absence of a value. This approach assumes
that the method&rsquo;s caller knows there&rsquo;s a special value to test against
and remembers to check for it. Swift&rsquo;s optionals let you indicate the
absence of a value for <em>any type at all</em>, without the need for special
constants.
</p>
<p>Here&rsquo;s an example of how optionals can be used to cope with the absence
of a value. Swift&rsquo;s &lsquo;<samp>Int</samp>&rsquo; type has an initializer which tries to convert
a &lsquo;<samp>String</samp>&rsquo; value into an &lsquo;<samp>Int</samp>&rsquo; value. However, not every string can be
converted into an integer. The string &lsquo;<samp>&quot;123&quot;</samp>&rsquo; can be converted into the
numeric value &lsquo;<samp>123</samp>&rsquo;, but the string &lsquo;<samp>&quot;hello, world&quot;</samp>&rsquo; doesn&rsquo;t have an
obvious numeric value to convert to.
</p>
<p>The example below uses the initializer to try to convert a &lsquo;<samp>String</samp>&rsquo; into
an &lsquo;<samp>Int</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">let possibleNumber = &quot;123&quot;
let convertedNumber = Int(possibleNumber)
// convertedNumber is inferred to be of type &quot;Int?&quot;, or &quot;optional Int&quot;
</pre></div>

<p>Because the initializer might fail, it returns an <em>optional</em> &lsquo;<samp>Int</samp>&rsquo;,
rather than an &lsquo;<samp>Int</samp>&rsquo;. An optional &lsquo;<samp>Int</samp>&rsquo; is written as &lsquo;<samp>Int?</samp>&rsquo;, not &lsquo;<samp>Int</samp>&rsquo;.
The question mark indicates that the value it contains is optional,
meaning that it might contain <em>some</em> &lsquo;<samp>Int</samp>&rsquo; value, or it might contain
<em>no value at all</em>. (It can&rsquo;t contain anything else, such as a &lsquo;<samp>Bool</samp>&rsquo;
value or a &lsquo;<samp>String</samp>&rsquo; value. It&rsquo;s either an &lsquo;<samp>Int</samp>&rsquo;, or it&rsquo;s nothing at
all.)
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#nil" accesskey="1">nil</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#If-Statements-and-Forced-Unwrapping" accesskey="2">If Statements and Forced Unwrapping</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Optional-Binding" accesskey="3">Optional Binding</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Implicitly-Unwrapped-Optionals" accesskey="4">Implicitly Unwrapped Optionals</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="nil"></span><div class="header">
<p>
Next: <a href="#If-Statements-and-Forced-Unwrapping" accesskey="n" rel="next">If Statements and Forced Unwrapping</a>, Up: <a href="#Optionals" accesskey="u" rel="up">Optionals</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="nil-1"></span><h4 class="subsection">6.12.1 nil</h4>

<p>You set an optional variable to a valueless state by assigning it the
special value &lsquo;<samp>nil</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">var serverResponseCode: Int? = 404
// serverResponseCode contains an actual Int value of 404
serverResponseCode = nil
// serverResponseCode now contains no value
</pre></div>

<p>Note
</p>
<p>You can&rsquo;t use &lsquo;<samp>nil</samp>&rsquo; with non-optional constants and variables. If a
constant or variable in your code needs to work with the absence of a
value under certain conditions, always declare it as an optional value
of the appropriate type.
</p>
<p>If you define an optional variable without providing a default value,
the variable is automatically set to &lsquo;<samp>nil</samp>&rsquo; for you:
</p>
<div class="example">
<pre class="example">var surveyAnswer: String?
// surveyAnswer is automatically set to nil
</pre></div>

<p>Note
</p>
<p>Swift&rsquo;s &lsquo;<samp>nil</samp>&rsquo; isn&rsquo;t the same as &lsquo;<samp>nil</samp>&rsquo; in Objective-C. In Objective-C,
&lsquo;<samp>nil</samp>&rsquo; is a pointer to a nonexistent object. In Swift, &lsquo;<samp>nil</samp>&rsquo; isn&rsquo;t a
pointer&mdash;it&rsquo;s the absence of a value of a certain type. Optionals of
<em>any</em> type can be set to &lsquo;<samp>nil</samp>&rsquo;, not just object types.
</p>
<hr>
<span id="If-Statements-and-Forced-Unwrapping"></span><div class="header">
<p>
Next: <a href="#Optional-Binding" accesskey="n" rel="next">Optional Binding</a>, Previous: <a href="#nil" accesskey="p" rel="prev">nil</a>, Up: <a href="#Optionals" accesskey="u" rel="up">Optionals</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="If-Statements-and-Forced-Unwrapping-1"></span><h4 class="subsection">6.12.2 If Statements and Forced Unwrapping</h4>

<p>You can use an &lsquo;<samp>if</samp>&rsquo; statement to find out whether an optional contains a
value by comparing the optional against &lsquo;<samp>nil</samp>&rsquo;. You perform this
comparison with the “equal to” operator (&lsquo;<samp>==</samp>&rsquo;) or the “not equal to”
operator (&lsquo;<samp>!=</samp>&rsquo;).
</p>
<p>If an optional has a value, it&rsquo;s considered to be “not equal to” &lsquo;<samp>nil</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">if convertedNumber != nil {
    print(&quot;convertedNumber contains some integer value.&quot;)
}
// Prints &quot;convertedNumber contains some integer value.&quot;
</pre></div>

<p>Once you&rsquo;re sure that the optional <em>does</em> contain a value, you can
access its underlying value by adding an exclamation mark (&lsquo;<samp>!</samp>&rsquo;) to the
end of the optional&rsquo;s name. The exclamation mark effectively says, “I
know that this optional definitely has a value; please use it.” This is
known as <em>forced unwrapping</em> of the optional&rsquo;s value:
</p>
<div class="example">
<pre class="example">if convertedNumber != nil {
    print(&quot;convertedNumber has an integer value of \(convertedNumber!).&quot;)
}
// Prints &quot;convertedNumber has an integer value of 123.&quot;
</pre></div>

<p>For more about the &lsquo;<samp>if</samp>&rsquo; statement, see <a href="#Control-Flow">Control
Flow</a>.
</p>
<p>Note
</p>
<p>Trying to use &lsquo;<samp>!</samp>&rsquo; to access a nonexistent optional value triggers a
runtime error. Always make sure that an optional contains a non-&lsquo;<samp>nil</samp>&rsquo;
value before using &lsquo;<samp>!</samp>&rsquo; to force-unwrap its value.
</p>
<hr>
<span id="Optional-Binding"></span><div class="header">
<p>
Next: <a href="#Implicitly-Unwrapped-Optionals" accesskey="n" rel="next">Implicitly Unwrapped Optionals</a>, Previous: <a href="#If-Statements-and-Forced-Unwrapping" accesskey="p" rel="prev">If Statements and Forced Unwrapping</a>, Up: <a href="#Optionals" accesskey="u" rel="up">Optionals</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Optional-Binding-1"></span><h4 class="subsection">6.12.3 Optional Binding</h4>

<p>You use <em>optional binding</em> to find out whether an optional contains a
value, and if so, to make that value available as a temporary constant
or variable. Optional binding can be used with &lsquo;<samp>if</samp>&rsquo; and &lsquo;<samp>while</samp>&rsquo;
statements to check for a value inside an optional, and to extract that
value into a constant or variable, as part of a single action. &lsquo;<samp>if</samp>&rsquo; and
&lsquo;<samp>while</samp>&rsquo; statements are described in more detail in
<a href="#Control-Flow">Control Flow</a>.
</p>
<p>Write an optional binding for an &lsquo;<samp>if</samp>&rsquo; statement as follows:
</p>
<div class="example">
<pre class="example">if let constantName = someOptional {
    statements
}
</pre></div>

<p>You can rewrite the &lsquo;<samp>possibleNumber</samp>&rsquo; example from the
<a href="#Optionals">Optionals</a> section to use optional binding
rather than forced unwrapping:
</p>
<div class="example">
<pre class="example">if let actualNumber = Int(possibleNumber) {
    print(&quot;The string \&quot;\(possibleNumber)\&quot; has an integer value of \(actualNumber)&quot;)
} else {
    print(&quot;The string \&quot;\(possibleNumber)\&quot; could not be converted to an integer&quot;)
}
// Prints &quot;The string &quot;123&quot; has an integer value of 123&quot;
</pre></div>

<p>This code can be read as:
</p>
<p>“If the optional &lsquo;<samp>Int</samp>&rsquo; returned by &lsquo;<samp>Int(possibleNumber)</samp>&rsquo; contains a
value, set a new constant called &lsquo;<samp>actualNumber</samp>&rsquo; to the value contained
in the optional.”
</p>
<p>If the conversion is successful, the &lsquo;<samp>actualNumber</samp>&rsquo; constant becomes
available for use within the first branch of the &lsquo;<samp>if</samp>&rsquo; statement. It has
already been initialized with the value contained <em>within</em> the optional,
and so there&rsquo;s no need to use the &lsquo;<samp>!</samp>&rsquo; suffix to access its value. In
this example, &lsquo;<samp>actualNumber</samp>&rsquo; is simply used to print the result of the
conversion.
</p>
<p>You can use both constants and variables with optional binding. If you
wanted to manipulate the value of &lsquo;<samp>actualNumber</samp>&rsquo; within the first branch
of the &lsquo;<samp>if</samp>&rsquo; statement, you could write &lsquo;<samp>if var actualNumber</samp>&rsquo; instead,
and the value contained within the optional would be made available as a
variable rather than a constant.
</p>
<p>You can include as many optional bindings and Boolean conditions in a
single &lsquo;<samp>if</samp>&rsquo; statement as you need to, separated by commas. If any of the
values in the optional bindings are &lsquo;<samp>nil</samp>&rsquo; or any Boolean condition
evaluates to &lsquo;<samp>false</samp>&rsquo;, the whole &lsquo;<samp>if</samp>&rsquo; statement&rsquo;s condition is considered
to be &lsquo;<samp>false</samp>&rsquo;. The following &lsquo;<samp>if</samp>&rsquo; statements are equivalent:
</p>
<div class="example">
<pre class="example">if let firstNumber = Int(&quot;4&quot;), let secondNumber = Int(&quot;42&quot;),
   firstNumber &lt; secondNumber &amp;&amp; secondNumber &lt; 100 {
    print(&quot;\(firstNumber) &lt; \(secondNumber) &lt; 100&quot;)
}
// Prints &quot;4 &lt; 42 &lt; 100&quot;

if let firstNumber = Int(&quot;4&quot;) {
    if let secondNumber = Int(&quot;42&quot;) {
        if firstNumber &lt; secondNumber &amp;&amp; secondNumber &lt; 100 {
            print(&quot;\(firstNumber) &lt; \(secondNumber) &lt; 100&quot;)
        }
    }
}
// Prints &quot;4 &lt; 42 &lt; 100&quot;
</pre></div>

<p>Note
</p>
<p>Constants and variables created with optional binding in an &lsquo;<samp>if</samp>&rsquo;
statement are available only within the body of the &lsquo;<samp>if</samp>&rsquo; statement. In
contrast, the constants and variables created with a &lsquo;<samp>guard</samp>&rsquo; statement
are available in the lines of code that follow the &lsquo;<samp>guard</samp>&rsquo; statement, as
described in <a href="#Early-Exit">Early Exit</a>.
</p>
<hr>
<span id="Implicitly-Unwrapped-Optionals"></span><div class="header">
<p>
Previous: <a href="#Optional-Binding" accesskey="p" rel="prev">Optional Binding</a>, Up: <a href="#Optionals" accesskey="u" rel="up">Optionals</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Implicitly-Unwrapped-Optionals-1"></span><h4 class="subsection">6.12.4 Implicitly Unwrapped Optionals</h4>

<p>As described above, optionals indicate that a constant or variable is
allowed to have “no value”. Optionals can be checked with an &lsquo;<samp>if</samp>&rsquo;
statement to see if a value exists, and can be conditionally unwrapped
with optional binding to access the optional&rsquo;s value if it does exist.
</p>
<p>Sometimes it&rsquo;s clear from a program&rsquo;s structure that an optional will
<em>always</em> have a value, after that value is first set. In these cases,
it&rsquo;s useful to remove the need to check and unwrap the optional&rsquo;s value
every time it&rsquo;s accessed, because it can be safely assumed to have a
value all of the time.
</p>
<p>These kinds of optionals are defined as <em>implicitly unwrapped
optionals</em>. You write an implicitly unwrapped optional by placing an
exclamation mark (&lsquo;<samp>String!</samp>&rsquo;) rather than a question mark (&lsquo;<samp>String?</samp>&rsquo;)
after the type that you want to make optional.
</p>
<p>Implicitly unwrapped optionals are useful when an optional&rsquo;s value is
confirmed to exist immediately after the optional is first defined and
can definitely be assumed to exist at every point thereafter. The
primary use of implicitly unwrapped optionals in Swift is during class
initialization, as described in
<a href="#Unowned-References-and-Implicitly-Unwrapped-Optional-Properties">Unowned References and
Implicitly Unwrapped Optional Properties</a>.
</p>
<p>An implicitly unwrapped optional is a normal optional behind the scenes,
but can also be used like a non-optional value, without the need to
unwrap the optional value each time it&rsquo;s accessed. The following example
shows the difference in behavior between an optional string and an
implicitly unwrapped optional string when accessing their wrapped value
as an explicit &lsquo;<samp>String</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">let possibleString: String? = &quot;An optional string.&quot;
let forcedString: String = possibleString! // requires an exclamation mark

let assumedString: String! = &quot;An implicitly unwrapped optional string.&quot;
let implicitString: String = assumedString // no need for an exclamation mark
</pre></div>

<p>You can think of an implicitly unwrapped optional as giving permission
for the optional to be unwrapped automatically whenever it&rsquo;s used.
Rather than placing an exclamation mark after the optional&rsquo;s name each
time you use it, you place an exclamation mark after the optional&rsquo;s type
when you declare it.
</p>
<p>Note
</p>
<p>If an implicitly unwrapped optional is &lsquo;<samp>nil</samp>&rsquo; and you try to access its
wrapped value, you&rsquo;ll trigger a runtime error. The result is exactly the
same as if you place an exclamation mark after a normal optional that
doesn&rsquo;t contain a value.
</p>
<p>You can still treat an implicitly unwrapped optional like a normal
optional, to check if it contains a value:
</p>
<div class="example">
<pre class="example">if assumedString != nil {
    print(assumedString!)
}
// Prints &quot;An implicitly unwrapped optional string.&quot;
</pre></div>

<p>You can also use an implicitly unwrapped optional with optional binding,
to check and unwrap its value in a single statement:
</p>
<div class="example">
<pre class="example">if let definiteString = assumedString {
    print(definiteString)
}
// Prints &quot;An implicitly unwrapped optional string.&quot;
</pre></div>

<p>Note
</p>
<p>Don&rsquo;t use an implicitly unwrapped optional when there&rsquo;s a possibility of
a variable becoming &lsquo;<samp>nil</samp>&rsquo; at a later point. Always use a normal optional
type if you need to check for a &lsquo;<samp>nil</samp>&rsquo; value during the lifetime of a
variable.
</p>
<hr>
<span id="Error-Handling-1"></span><div class="header">
<p>
Next: <a href="#Assertions-and-Preconditions" accesskey="n" rel="next">Assertions and Preconditions</a>, Previous: <a href="#Optionals" accesskey="p" rel="prev">Optionals</a>, Up: <a href="#The-Basics" accesskey="u" rel="up">The Basics</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Error-Handling-4"></span><h3 class="section">6.13 Error Handling</h3>

<span id="index-exception"></span>

<p>You use <em>error handling</em> to respond to error conditions your program may
encounter during execution.
</p>
<p>In contrast to optionals, which can use the presence or absence of a
value to communicate success or failure of a function, error handling
allows you to determine the underlying cause of failure, and, if
necessary, propagate the error to another part of your program.
</p>
<p>When a function encounters an error condition, it <em>throws</em> an error.
That function&rsquo;s caller can then <em>catch</em> the error and respond
appropriately.
</p>
<div class="example">
<pre class="example">func canThrowAnError() throws {
    // this function may or may not throw an error
}
</pre></div>

<span id="index-throws"></span>
<p>A function indicates that it can throw an error by including the
&lsquo;<samp>throws</samp>&rsquo; keyword in its declaration. When you call a function that can
throw an error, you prepend the &lsquo;<samp>try</samp>&rsquo; keyword to the expression.
</p>
<p>Swift automatically propagates errors out of their current scope until
they&rsquo;re handled by a &lsquo;<samp>catch</samp>&rsquo; clause.
</p>
<div class="example">
<pre class="example">do {
    try canThrowAnError()
    // no error was thrown
} catch {
    // an error was thrown
}
</pre></div>

<p>A &lsquo;<samp>do</samp>&rsquo; statement creates a new containing scope, which allows errors to
be propagated to one or more &lsquo;<samp>catch</samp>&rsquo; clauses.
</p>
<p>Here&rsquo;s an example of how error handling can be used to respond to
different error conditions:
</p>
<div class="example">
<pre class="example">func makeASandwich() throws {
    // ...
}

do {
    try makeASandwich()
    eatASandwich()
} catch SandwichError.outOfCleanDishes {
    washDishes()
} catch SandwichError.missingIngredients(let ingredients) {
    buyGroceries(ingredients)
}
</pre></div>

<p>In this example, the &lsquo;<samp>makeASandwich()</samp>&rsquo; function will throw an error if
no clean dishes are available or if any ingredients are missing. Because
&lsquo;<samp>makeASandwich()</samp>&rsquo; can throw an error, the function call is wrapped in a
&lsquo;<samp>try</samp>&rsquo; expression. By wrapping the function call in a &lsquo;<samp>do</samp>&rsquo; statement, any
errors that are thrown will be propagated to the provided &lsquo;<samp>catch</samp>&rsquo;
clauses.
</p>
<p>If no error is thrown, the &lsquo;<samp>eatASandwich()</samp>&rsquo; function is called. If an
error is thrown and it matches the &lsquo;<samp>SandwichError.outOfCleanDishes</samp>&rsquo;
case, then the &lsquo;<samp>washDishes()</samp>&rsquo; function will be called. If an error is
thrown and it matches the &lsquo;<samp>SandwichError.missingIngredients</samp>&rsquo; case, then
the &lsquo;<samp>buyGroceries(_:)</samp>&rsquo; function is called with the associated &lsquo;<samp>[String]</samp>&rsquo;
value captured by the &lsquo;<samp>catch</samp>&rsquo; pattern.
</p>
<p>Throwing, catching, and propagating errors is covered in greater detail
in <a href="#Error-Handling">Error Handling</a>.
</p>
<hr>
<span id="Assertions-and-Preconditions"></span><div class="header">
<p>
Previous: <a href="#Error-Handling-1" accesskey="p" rel="prev">Error Handling 1</a>, Up: <a href="#The-Basics" accesskey="u" rel="up">The Basics</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Assertions-and-Preconditions-1"></span><h3 class="section">6.14 Assertions and Preconditions</h3>

<span id="index-precondition"></span>

<p><em>Assertions</em> and <em>preconditions</em> are checks that happen at runtime. You
use them to make sure an essential condition is satisfied before
executing any further code. If the Boolean condition in the assertion or
precondition evaluates to &lsquo;<samp>true</samp>&rsquo;, code execution continues as usual. If
the condition evaluates to &lsquo;<samp>false</samp>&rsquo;, the current state of the program is
invalid; code execution ends, and your app is terminated.
</p>
<p>You use assertions and preconditions to express the assumptions you make
and the expectations you have while coding, so you can include them as
part of your code. Assertions help you find mistakes and incorrect
assumptions during development, and preconditions help you detect issues
in production.
</p>
<p>In addition to verifying your expectations at runtime, assertions and
preconditions also become a useful form of documentation within the
code. Unlike the error conditions discussed in
<a href="#Error-Handling">Error Handling</a> above, assertions and
preconditions aren&rsquo;t used for recoverable or expected errors. Because a
failed assertion or precondition indicates an invalid program state,
there&rsquo;s no way to catch a failed assertion.
</p>
<p>Using assertions and preconditions isn&rsquo;t a substitute for designing your
code in such a way that invalid conditions are unlikely to arise.
However, using them to enforce valid data and state causes your app to
terminate more predictably if an invalid state occurs, and helps make
the problem easier to debug. Stopping execution as soon as an invalid
state is detected also helps limit the damage caused by that invalid
state.
</p>
<p>The difference between assertions and preconditions is in when they&rsquo;re
checked: Assertions are checked only in debug builds, but preconditions
are checked in both debug and production builds. In production builds,
the condition inside an assertion isn&rsquo;t evaluated. This means you can
use as many assertions as you want during your development process,
without impacting performance in production.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Debugging-with-Assertions" accesskey="1">Debugging with Assertions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Enforcing-Preconditions" accesskey="2">Enforcing Preconditions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Debugging-with-Assertions"></span><div class="header">
<p>
Next: <a href="#Enforcing-Preconditions" accesskey="n" rel="next">Enforcing Preconditions</a>, Up: <a href="#Assertions-and-Preconditions" accesskey="u" rel="up">Assertions and Preconditions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Debugging-with-Assertions-1"></span><h4 class="subsection">6.14.1 Debugging with Assertions</h4>

<p>You write an assertion by calling the
<a href="https://developer.apple.com/documentation/swift/1541112-assert">&lsquo;<samp>assert(_:_:file:line:)</samp>&rsquo;</a>
[<a href="https://developer.apple.com/documentation/swift/1541112-assert">https://developer.apple.com/documentation/swift/1541112-assert</a>]
function from the Swift standard library. You pass this function an
expression that evaluates to &lsquo;<samp>true</samp>&rsquo; or &lsquo;<samp>false</samp>&rsquo; and a message to display
if the result of the condition is &lsquo;<samp>false</samp>&rsquo;. For example:
</p>
<div class="example">
<pre class="example">let age = -3
assert(age &gt;= 0, &quot;A person's age can't be less than zero.&quot;)
// This assertion fails because -3 is not &gt;= 0.
</pre></div>

<p>In this example, code execution continues if &lsquo;<samp>age &gt;</samp>&rsquo; 0= evaluates to
&lsquo;<samp>true</samp>&rsquo;, that is, if the value of &lsquo;<samp>age</samp>&rsquo; is nonnegative. If the value of
&lsquo;<samp>age</samp>&rsquo; is negative, as in the code above, then &lsquo;<samp>age &gt;</samp>&rsquo; 0= evaluates to
&lsquo;<samp>false</samp>&rsquo;, and the assertion fails, terminating the application.
</p>
<p>You can omit the assertion message&mdash;for example, when it would just
repeat the condition as prose.
</p>
<div class="example">
<pre class="example">assert(age &gt;= 0)
</pre></div>

<p>If the code already checks the condition, you use the
<a href="https://developer.apple.com/documentation/swift/1539616-assertionfailure">&lsquo;<samp>assertionFailure(_:file:line:)</samp>&rsquo;</a>
[<a href="https://developer.apple.com/documentation/swift/1539616-assertionfailure">https://developer.apple.com/documentation/swift/1539616-assertionfailure</a>]
function to indicate that an assertion has failed. For example:
</p>
<div class="example">
<pre class="example">if age &gt; 10 {
    print(&quot;You can ride the roller-coaster or the ferris wheel.&quot;)
} else if age &gt;= 0 {
    print(&quot;You can ride the ferris wheel.&quot;)
} else {
    assertionFailure(&quot;A person's age can't be less than zero.&quot;)
}
</pre></div>

<hr>
<span id="Enforcing-Preconditions"></span><div class="header">
<p>
Previous: <a href="#Debugging-with-Assertions" accesskey="p" rel="prev">Debugging with Assertions</a>, Up: <a href="#Assertions-and-Preconditions" accesskey="u" rel="up">Assertions and Preconditions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Enforcing-Preconditions-1"></span><h4 class="subsection">6.14.2 Enforcing Preconditions</h4>

<p>Use a precondition whenever a condition has the potential to be false,
but must <em>definitely</em> be true for your code to continue execution. For
example, use a precondition to check that a subscript is not out of
bounds, or to check that a function has been passed a valid value.
</p>
<p>You write a precondition by calling the
<a href="https://developer.apple.com/documentation/swift/1540960-precondition">&lsquo;<samp>precondition(_:_:file:line:)</samp>&rsquo;</a>
[<a href="https://developer.apple.com/documentation/swift/1540960-precondition">https://developer.apple.com/documentation/swift/1540960-precondition</a>]
function. You pass this function an expression that evaluates to &lsquo;<samp>true</samp>&rsquo;
or &lsquo;<samp>false</samp>&rsquo; and a message to display if the result of the condition is
&lsquo;<samp>false</samp>&rsquo;. For example:
</p>
<div class="example">
<pre class="example">// In the implementation of a subscript...
precondition(index &gt; 0, &quot;Index must be greater than zero.&quot;)
</pre></div>

<p>You can also call the
<a href="https://developer.apple.com/documentation/swift/1539374-preconditionfailure">&lsquo;<samp>preconditionFailure(_:file:line:)</samp>&rsquo;</a>
[<a href="https://developer.apple.com/documentation/swift/1539374-preconditionfailure">https://developer.apple.com/documentation/swift/1539374-preconditionfailure</a>]
function to indicate that a failure has occurred&mdash;for example, if the
default case of a switch was taken, but all valid input data should have
been handled by one of the switch&rsquo;s other cases.
</p>
<p>Note
</p>
<p>If you compile in unchecked mode (&lsquo;<samp>-Ounchecked</samp>&rsquo;), preconditions aren&rsquo;t
checked. The compiler assumes that preconditions are always true, and it
optimizes your code accordingly. However, the &lsquo;<samp>fatalError(_:file:line:)</samp>&rsquo;
function always halts execution, regardless of optimization settings.
</p>
<p>You can use the &lsquo;<samp>fatalError(_:file:line:)</samp>&rsquo; function during prototyping
and early development to create stubs for functionality that hasn&rsquo;t been
implemented yet, by writing &lsquo;<samp>fatalError(&quot;Unimplemented&quot;)</samp>&rsquo; as the stub
implementation. Because fatal errors are never optimized out, unlike
assertions or preconditions, you can be sure that execution always halts
if it encounters a stub implementation.
</p>
<hr>
<span id="Basic-Operators"></span><div class="header">
<p>
Next: <a href="#Strings-and-Characters" accesskey="n" rel="next">Strings and Characters</a>, Previous: <a href="#The-Basics" accesskey="p" rel="prev">The Basics</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Basic-Operators-1"></span><h2 class="chapter">7 Basic Operators</h2>

<p>An <em>operator</em> is a special symbol or phrase that you use to check,
change, or combine values. For example, the addition operator (&lsquo;<samp>+</samp>&rsquo;) adds
two numbers, as in &lsquo;<samp>let i = 1 + 2</samp>&rsquo;, and the logical AND operator (&lsquo;<samp>&amp;&amp;</samp>&rsquo;)
combines two Boolean values, as in
&lsquo;<samp>if enteredDoorCode &amp;&amp; passedRetinaScan</samp>&rsquo;.
</p>
<p>Swift supports most standard C operators and improves several
capabilities to eliminate common coding errors. The assignment operator
(&lsquo;<samp>=</samp>&rsquo;) doesn&rsquo;t return a value, to prevent it from being mistakenly used
when the equal to operator (&lsquo;<samp>==</samp>&rsquo;) is intended. Arithmetic operators
(&lsquo;<samp>+</samp>&rsquo;, &lsquo;<samp>-</samp>&rsquo;, &lsquo;<samp>*</samp>&rsquo;, &lsquo;<samp>/</samp>&rsquo;, &lsquo;<samp>%</samp>&rsquo; and so forth) detect and disallow value
overflow, to avoid unexpected results when working with numbers that
become larger or smaller than the allowed value range of the type that
stores them. You can opt in to value overflow behavior by using Swift&rsquo;s
overflow operators, as described in
<a href="#Overflow-Operators">Overflow Operators</a>.
</p>
<p>Swift also provides range operators that aren&rsquo;t found in C, such as
&lsquo;<samp>a..&lt;b</samp>&rsquo; and &lsquo;<samp>a...b</samp>&rsquo;, as a shortcut for expressing a range of values.
</p>
<p>This chapter describes the common operators in Swift.
<a href="#Advanced-Operators">Advanced Operators</a> covers Swift&rsquo;s advanced
operators, and describes how to define your own custom operators and
implement the standard operators for your own custom types.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Terminology" accesskey="1">Terminology</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Assignment-Operator" accesskey="2">Assignment Operator</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Arithmetic-Operators" accesskey="3">Arithmetic Operators</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Compound-Assignment-Operators" accesskey="4">Compound Assignment Operators</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Comparison-Operators" accesskey="5">Comparison Operators</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Ternary-Conditional-Operator" accesskey="6">Ternary Conditional Operator</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Nil_002dCoalescing-Operator" accesskey="7">Nil-Coalescing Operator</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Range-Operators" accesskey="8">Range Operators</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Logical-Operators" accesskey="9">Logical Operators</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Terminology"></span><div class="header">
<p>
Next: <a href="#Assignment-Operator" accesskey="n" rel="next">Assignment Operator</a>, Up: <a href="#Basic-Operators" accesskey="u" rel="up">Basic Operators</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Terminology-1"></span><h3 class="section">7.1 Terminology</h3>

<p>Operators are unary, binary, or ternary:
</p>
<ul>
<li> <em>Unary</em> operators operate on a single target (such as &lsquo;<samp>-a</samp>&rsquo;). Unary
<em>prefix</em> operators appear immediately before their target (such as
&lsquo;<samp>!b</samp>&rsquo;), and unary <em>postfix</em> operators appear immediately after their
target (such as &lsquo;<samp>c!</samp>&rsquo;).

</li><li> <em>Binary</em> operators operate on two targets (such as &lsquo;<samp>2 + 3</samp>&rsquo;) and are
<em>infix</em> because they appear in between their two targets.

</li><li> <em>Ternary</em> operators operate on three targets. Like C, Swift has only
one ternary operator, the ternary conditional operator (&lsquo;<samp>a ? b : c</samp>&rsquo;).
</li></ul>

<p>The values that operators affect are <em>operands</em>. In the expression
&lsquo;<samp>1 + 2</samp>&rsquo;, the &lsquo;<samp>+</samp>&rsquo; symbol is a binary operator and its two operands are
the values &lsquo;<samp>1</samp>&rsquo; and &lsquo;<samp>2</samp>&rsquo;.
</p>
<hr>
<span id="Assignment-Operator"></span><div class="header">
<p>
Next: <a href="#Arithmetic-Operators" accesskey="n" rel="next">Arithmetic Operators</a>, Previous: <a href="#Terminology" accesskey="p" rel="prev">Terminology</a>, Up: <a href="#Basic-Operators" accesskey="u" rel="up">Basic Operators</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Assignment-Operator-1"></span><h3 class="section">7.2 Assignment Operator</h3>

<p>The <em>assignment operator</em> (&lsquo;<samp>a = b</samp>&rsquo;) initializes or updates the value of
&lsquo;<samp>a</samp>&rsquo; with the value of &lsquo;<samp>b</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">let b = 10
var a = 5
a = b
// a is now equal to 10
</pre></div>

<p>If the right side of the assignment is a tuple with multiple values, its
elements can be decomposed into multiple constants or variables at once:
</p>
<div class="example">
<pre class="example">let (x, y) = (1, 2)
// x is equal to 1, and y is equal to 2
</pre></div>

<p>Unlike the assignment operator in C and Objective-C, the assignment
operator in Swift does not itself return a value. The following
statement is not valid:
</p>
<div class="example">
<pre class="example">if x = y {
    // This is not valid, because x = y does not return a value.
}
</pre></div>

<p>This feature prevents the assignment operator (&lsquo;<samp>=</samp>&rsquo;) from being used by
accident when the equal to operator (&lsquo;<samp>==</samp>&rsquo;) is actually intended. By
making &lsquo;<samp>if x = y</samp>&rsquo; invalid, Swift helps you to avoid these kinds of
errors in your code.
</p>
<hr>
<span id="Arithmetic-Operators"></span><div class="header">
<p>
Next: <a href="#Compound-Assignment-Operators" accesskey="n" rel="next">Compound Assignment Operators</a>, Previous: <a href="#Assignment-Operator" accesskey="p" rel="prev">Assignment Operator</a>, Up: <a href="#Basic-Operators" accesskey="u" rel="up">Basic Operators</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Arithmetic-Operators-1"></span><h3 class="section">7.3 Arithmetic Operators</h3>

<p>Swift supports the four standard <em>arithmetic operators</em> for all number
types:
</p>
<ul>
<li> Addition (&lsquo;<samp>+</samp>&rsquo;)

</li><li> Subtraction (&lsquo;<samp>-</samp>&rsquo;)

</li><li> Multiplication (&lsquo;<samp>*</samp>&rsquo;)

</li><li> Division (&lsquo;<samp>/</samp>&rsquo;)
</li></ul>

<div class="example">
<pre class="example">1 + 2 // equals 3
5 - 3 // equals 2
2 * 3 // equals 6
10.0 / 2.5 // equals 4.0
</pre></div>

<p>Unlike the arithmetic operators in C and Objective-C, the Swift
arithmetic operators don&rsquo;t allow values to overflow by default. You can
opt in to value overflow behavior by using Swift&rsquo;s overflow operators
(such as &lsquo;<samp>a &amp;+ b</samp>&rsquo;). See <a href="#Overflow-Operators">Overflow Operators</a>.
</p>
<p>The addition operator is also supported for &lsquo;<samp>String</samp>&rsquo; concatenation:
</p>
<div class="example">
<pre class="example">&quot;hello, &quot; + &quot;world&quot; // equals &quot;hello, world&quot;
</pre></div>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Remainder-Operator" accesskey="1">Remainder Operator</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Unary-Minus-Operator" accesskey="2">Unary Minus Operator</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Unary-Plus-Operator" accesskey="3">Unary Plus Operator</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Remainder-Operator"></span><div class="header">
<p>
Next: <a href="#Unary-Minus-Operator" accesskey="n" rel="next">Unary Minus Operator</a>, Up: <a href="#Arithmetic-Operators" accesskey="u" rel="up">Arithmetic Operators</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Remainder-Operator-1"></span><h4 class="subsection">7.3.1 Remainder Operator</h4>

<p>The <em>remainder operator</em> (&lsquo;<samp>a % b</samp>&rsquo;) works out how many multiples of &lsquo;<samp>b</samp>&rsquo;
will fit inside &lsquo;<samp>a</samp>&rsquo; and returns the value that is left over (known as
the <em>remainder</em>).
</p>
<p>Note
</p>
<p>The remainder operator (&lsquo;<samp>%</samp>&rsquo;) is also known as a <em>modulo operator</em> in
other languages. However, its behavior in Swift for negative numbers
means that, strictly speaking, it&rsquo;s a remainder rather than a modulo
operation.
</p>
<p>Here&rsquo;s how the remainder operator works. To calculate &lsquo;<samp>9 % 4</samp>&rsquo;, you first
work out how many &lsquo;<samp>4=s will fit inside =9</samp>&rsquo;:
</p>
<img src="images/remainderInteger_2x.png" alt="images/remainderInteger_2x">

<p>You can fit two &lsquo;<samp>4=s inside =9</samp>&rsquo;, and the remainder is &lsquo;<samp>1</samp>&rsquo; (shown in
orange).
</p>
<p>In Swift, this would be written as:
</p>
<div class="example">
<pre class="example">9 % 4 // equals 1
</pre></div>

<p>To determine the answer for &lsquo;<samp>a % b</samp>&rsquo;, the &lsquo;<samp>%</samp>&rsquo; operator calculates the
following equation and returns &lsquo;<samp>remainder</samp>&rsquo; as its output:
</p>
<p>&lsquo;<samp>a</samp>&rsquo; = (&lsquo;<samp>b</samp>&rsquo; x &lsquo;<samp>some multiplier</samp>&rsquo;) + &lsquo;<samp>remainder</samp>&rsquo;
</p>
<p>where &lsquo;<samp>some multiplier</samp>&rsquo; is the largest number of multiples of &lsquo;<samp>b</samp>&rsquo; that
will fit inside &lsquo;<samp>a</samp>&rsquo;.
</p>
<p>Inserting &lsquo;<samp>9</samp>&rsquo; and &lsquo;<samp>4</samp>&rsquo; into this equation yields:
</p>
<p>&lsquo;<samp>9</samp>&rsquo; = (&lsquo;<samp>4</samp>&rsquo; x &lsquo;<samp>2</samp>&rsquo;) + &lsquo;<samp>1</samp>&rsquo;
</p>
<p>The same method is applied when calculating the remainder for a negative
value of &lsquo;<samp>a</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">-9 % 4 // equals -1
</pre></div>

<p>Inserting &lsquo;<samp>-9</samp>&rsquo; and &lsquo;<samp>4</samp>&rsquo; into the equation yields:
</p>
<p>&lsquo;<samp>-9</samp>&rsquo; = (&lsquo;<samp>4</samp>&rsquo; x &lsquo;<samp>-2</samp>&rsquo;) + &lsquo;<samp>-1</samp>&rsquo;
</p>
<p>giving a remainder value of &lsquo;<samp>-1</samp>&rsquo;.
</p>
<p>The sign of &lsquo;<samp>b</samp>&rsquo; is ignored for negative values of &lsquo;<samp>b</samp>&rsquo;. This means that
&lsquo;<samp>a % b</samp>&rsquo; and &lsquo;<samp>a % -b</samp>&rsquo; always give the same answer.
</p>
<hr>
<span id="Unary-Minus-Operator"></span><div class="header">
<p>
Next: <a href="#Unary-Plus-Operator" accesskey="n" rel="next">Unary Plus Operator</a>, Previous: <a href="#Remainder-Operator" accesskey="p" rel="prev">Remainder Operator</a>, Up: <a href="#Arithmetic-Operators" accesskey="u" rel="up">Arithmetic Operators</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Unary-Minus-Operator-1"></span><h4 class="subsection">7.3.2 Unary Minus Operator</h4>

<p>The sign of a numeric value can be toggled using a prefixed &lsquo;<samp>-</samp>&rsquo;, known
as the <em>unary minus operator</em>:
</p>
<div class="example">
<pre class="example">let three = 3
let minusThree = -three // minusThree equals -3
let plusThree = -minusThree // plusThree equals 3, or &quot;minus minus three&quot;
</pre></div>

<p>The unary minus operator (&lsquo;<samp>-</samp>&rsquo;) is prepended directly before the value it
operates on, without any white space.
</p>
<hr>
<span id="Unary-Plus-Operator"></span><div class="header">
<p>
Previous: <a href="#Unary-Minus-Operator" accesskey="p" rel="prev">Unary Minus Operator</a>, Up: <a href="#Arithmetic-Operators" accesskey="u" rel="up">Arithmetic Operators</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Unary-Plus-Operator-1"></span><h4 class="subsection">7.3.3 Unary Plus Operator</h4>

<p>The <em>unary plus operator</em> (&lsquo;<samp>+</samp>&rsquo;) simply returns the value it operates on,
without any change:
</p>
<div class="example">
<pre class="example">let minusSix = -6
let alsoMinusSix = +minusSix // alsoMinusSix equals -6
</pre></div>

<p>Although the unary plus operator doesn&rsquo;t actually do anything, you can
use it to provide symmetry in your code for positive numbers when also
using the unary minus operator for negative numbers.
</p>
<hr>
<span id="Compound-Assignment-Operators"></span><div class="header">
<p>
Next: <a href="#Comparison-Operators" accesskey="n" rel="next">Comparison Operators</a>, Previous: <a href="#Arithmetic-Operators" accesskey="p" rel="prev">Arithmetic Operators</a>, Up: <a href="#Basic-Operators" accesskey="u" rel="up">Basic Operators</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Compound-Assignment-Operators-2"></span><h3 class="section">7.4 Compound Assignment Operators</h3>

<p>Like C, Swift provides <em>compound assignment operators</em> that combine
assignment (&lsquo;<samp>=</samp>&rsquo;) with another operation. One example is the <em>addition
assignment operator</em> (&lsquo;<samp>+=</samp>&rsquo;):
</p>
<div class="example">
<pre class="example">var a = 1
a += 2
// a is now equal to 3
</pre></div>

<p>The expression &lsquo;<samp>a +</samp>&rsquo; 2= is shorthand for &lsquo;<samp>a = a + 2</samp>&rsquo;. Effectively, the
addition and the assignment are combined into one operator that performs
both tasks at the same time.
</p>
<p>Note
</p>
<p>The compound assignment operators don&rsquo;t return a value. For example, you
can&rsquo;t write &lsquo;<samp>let b = a +</samp>&rsquo; 2=.
</p>
<p>For information about the operators provided by the Swift standard
library, see
<a href="https://developer.apple.com/documentation/swift/operator_declarations">Operator
Declarations</a>
[<a href="https://developer.apple.com/documentation/swift/operator_declarations">https://developer.apple.com/documentation/swift/operator_declarations</a>].
</p>
<hr>
<span id="Comparison-Operators"></span><div class="header">
<p>
Next: <a href="#Ternary-Conditional-Operator" accesskey="n" rel="next">Ternary Conditional Operator</a>, Previous: <a href="#Compound-Assignment-Operators" accesskey="p" rel="prev">Compound Assignment Operators</a>, Up: <a href="#Basic-Operators" accesskey="u" rel="up">Basic Operators</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Comparison-Operators-1"></span><h3 class="section">7.5 Comparison Operators</h3>

<p>Swift supports all standard C <em>comparison operators</em>:
</p>
<ul>
<li> Equal to (&lsquo;<samp>a =</samp>&rsquo; b=)

</li><li> Not equal to (&lsquo;<samp>a !</samp>&rsquo; b=)

</li><li> Greater than (&lsquo;<samp>a &gt; b</samp>&rsquo;)

</li><li> Less than (&lsquo;<samp>a &lt; b</samp>&rsquo;)

</li><li> Greater than or equal to (&lsquo;<samp>a &gt;</samp>&rsquo; b=)

</li><li> Less than or equal to (&lsquo;<samp>a &lt;</samp>&rsquo; b=)
</li></ul>

<p>Note
</p>
<p>Swift also provides two <em>identity operators</em> (&lsquo;<samp>===</samp>&rsquo; and &lsquo;<samp>!==</samp>&rsquo;), which
you use to test whether two object references both refer to the same
object instance. For more information, see
<a href="#Identity-Operators">Identity Operators</a>.
</p>
<p>Each of the comparison operators returns a &lsquo;<samp>Bool</samp>&rsquo; value to indicate
whether or not the statement is true:
</p>
<div class="example">
<pre class="example">1 == 1 // true because 1 is equal to 1
2 != 1 // true because 2 is not equal to 1
2 &gt; 1 // true because 2 is greater than 1
1 &lt; 2 // true because 1 is less than 2
1 &gt;= 1 // true because 1 is greater than or equal to 1
2 &lt;= 1 // false because 2 is not less than or equal to 1
</pre></div>

<p>Comparison operators are often used in conditional statements, such as
the &lsquo;<samp>if</samp>&rsquo; statement:
</p>
<div class="example">
<pre class="example">let name = &quot;world&quot;
if name == &quot;world&quot; {
    print(&quot;hello, world&quot;)
} else {
    print(&quot;I'm sorry \(name), but I don't recognize you&quot;)
}
// Prints &quot;hello, world&quot;, because name is indeed equal to &quot;world&quot;.
</pre></div>

<p>For more about the &lsquo;<samp>if</samp>&rsquo; statement, see <a href="#Control-Flow">Control
Flow</a>.
</p>
<p>You can compare two tuples if they have the same type and the same
number of values. Tuples are compared from left to right, one value at a
time, until the comparison finds two values that aren&rsquo;t equal. Those two
values are compared, and the result of that comparison determines the
overall result of the tuple comparison. If all the elements are equal,
then the tuples themselves are equal. For example:
</p>
<div class="example">
<pre class="example">(1, &quot;zebra&quot;) &lt; (2, &quot;apple&quot;) // true because 1 is less than 2; &quot;zebra&quot; and &quot;apple&quot; are not compared
(3, &quot;apple&quot;) &lt; (3, &quot;bird&quot;) // true because 3 is equal to 3, and &quot;apple&quot; is less than &quot;bird&quot;
(4, &quot;dog&quot;) == (4, &quot;dog&quot;) // true because 4 is equal to 4, and &quot;dog&quot; is equal to &quot;dog&quot;
</pre></div>

<p>In the example above, you can see the left-to-right comparison behavior
on the first line. Because &lsquo;<samp>1</samp>&rsquo; is less than &lsquo;<samp>2</samp>&rsquo;, &lsquo;<samp>(1, &quot;zebra&quot;)</samp>&rsquo; is
considered less than &lsquo;<samp>(2, &quot;apple&quot;)</samp>&rsquo;, regardless of any other values in
the tuples. It doesn&rsquo;t matter that &lsquo;<samp>&quot;zebra&quot;</samp>&rsquo; isn&rsquo;t less than &lsquo;<samp>&quot;apple&quot;</samp>&rsquo;,
because the comparison is already determined by the tuples&rsquo; first
elements. However, when the tuples&rsquo; first elements are the same, their
second elements <em>are</em> compared&mdash;this is what happens on the second and
third line.
</p>
<p>Tuples can be compared with a given operator only if the operator can be
applied to each value in the respective tuples. For example, as
demonstrated in the code below, you can compare two tuples of type
&lsquo;<samp>(String, Int)</samp>&rsquo; because both &lsquo;<samp>String</samp>&rsquo; and &lsquo;<samp>Int</samp>&rsquo; values can be compared
using the &lsquo;<samp>&lt;</samp>&rsquo; operator. In contrast, two tuples of type &lsquo;<samp>(String, Bool)</samp>&rsquo;
can&rsquo;t be compared with the &lsquo;<samp>&lt;</samp>&rsquo; operator because the &lsquo;<samp>&lt;</samp>&rsquo; operator can&rsquo;t
be applied to &lsquo;<samp>Bool</samp>&rsquo; values.
</p>
<div class="example">
<pre class="example">(&quot;blue&quot;, -1) &lt; (&quot;purple&quot;, 1) // OK, evaluates to true
(&quot;blue&quot;, false) &lt; (&quot;purple&quot;, true) // Error because &lt; can't compare Boolean values
</pre></div>

<p>Note
</p>
<p>The Swift standard library includes tuple comparison operators for
tuples with fewer than seven elements. To compare tuples with seven or
more elements, you must implement the comparison operators yourself.
</p>
<hr>
<span id="Ternary-Conditional-Operator"></span><div class="header">
<p>
Next: <a href="#Nil_002dCoalescing-Operator" accesskey="n" rel="next">Nil-Coalescing Operator</a>, Previous: <a href="#Comparison-Operators" accesskey="p" rel="prev">Comparison Operators</a>, Up: <a href="#Basic-Operators" accesskey="u" rel="up">Basic Operators</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Ternary-Conditional-Operator-1"></span><h3 class="section">7.6 Ternary Conditional Operator</h3>

<p>The <em>ternary conditional operator</em> is a special operator with three
parts, which takes the form &lsquo;<samp>question ? answer1 : answer2</samp>&rsquo;. It&rsquo;s a
shortcut for evaluating one of two expressions based on whether
&lsquo;<samp>question</samp>&rsquo; is true or false. If &lsquo;<samp>question</samp>&rsquo; is true, it evaluates
&lsquo;<samp>answer1</samp>&rsquo; and returns its value; otherwise, it evaluates &lsquo;<samp>answer2</samp>&rsquo; and
returns its value.
</p>
<p>The ternary conditional operator is shorthand for the code below:
</p>
<div class="example">
<pre class="example">if question {
    answer1
} else {
    answer2
}
</pre></div>

<p>Here&rsquo;s an example, which calculates the height for a table row. The row
height should be 50 points taller than the content height if the row has
a header, and 20 points taller if the row doesn&rsquo;t have a header:
</p>
<div class="example">
<pre class="example">let contentHeight = 40
let hasHeader = true
let rowHeight = contentHeight + (hasHeader ? 50 : 20)
// rowHeight is equal to 90
</pre></div>

<p>The example above is shorthand for the code below:
</p>
<div class="example">
<pre class="example">let contentHeight = 40
let hasHeader = true
let rowHeight: Int
if hasHeader {
    rowHeight = contentHeight + 50
} else {
    rowHeight = contentHeight + 20
}
// rowHeight is equal to 90
</pre></div>

<p>The first example&rsquo;s use of the ternary conditional operator means that
&lsquo;<samp>rowHeight</samp>&rsquo; can be set to the correct value on a single line of code,
which is more concise than the code used in the second example.
</p>
<p>The ternary conditional operator provides an efficient shorthand for
deciding which of two expressions to consider. Use the ternary
conditional operator with care, however. Its conciseness can lead to
hard-to-read code if overused. Avoid combining multiple instances of the
ternary conditional operator into one compound statement.
</p>
<hr>
<span id="Nil_002dCoalescing-Operator"></span><div class="header">
<p>
Next: <a href="#Range-Operators" accesskey="n" rel="next">Range Operators</a>, Previous: <a href="#Ternary-Conditional-Operator" accesskey="p" rel="prev">Ternary Conditional Operator</a>, Up: <a href="#Basic-Operators" accesskey="u" rel="up">Basic Operators</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Nil_002dCoalescing-Operator-1"></span><h3 class="section">7.7 Nil-Coalescing Operator</h3>

<p>The <em>nil-coalescing operator</em> (&lsquo;<samp>a ?? b</samp>&rsquo;) unwraps an optional &lsquo;<samp>a</samp>&rsquo; if it
contains a value, or returns a default value &lsquo;<samp>b</samp>&rsquo; if &lsquo;<samp>a</samp>&rsquo; is &lsquo;<samp>nil</samp>&rsquo;. The
expression &lsquo;<samp>a</samp>&rsquo; is always of an optional type. The expression &lsquo;<samp>b</samp>&rsquo; must
match the type that is stored inside &lsquo;<samp>a</samp>&rsquo;.
</p>
<p>The nil-coalescing operator is shorthand for the code below:
</p>
<div class="example">
<pre class="example">a != nil ? a! : b
</pre></div>

<p>The code above uses the ternary conditional operator and forced
unwrapping (&lsquo;<samp>a!</samp>&rsquo;) to access the value wrapped inside &lsquo;<samp>a</samp>&rsquo; when &lsquo;<samp>a</samp>&rsquo; is not
&lsquo;<samp>nil</samp>&rsquo;, and to return &lsquo;<samp>b</samp>&rsquo; otherwise. The nil-coalescing operator provides
a more elegant way to encapsulate this conditional checking and
unwrapping in a concise and readable form.
</p>
<p>Note
</p>
<p>If the value of &lsquo;<samp>a</samp>&rsquo; is non-&lsquo;<samp>nil</samp>&rsquo;, the value of &lsquo;<samp>b</samp>&rsquo; is not evaluated.
This is known as <em>short-circuit evaluation</em>.
</p>
<p>The example below uses the nil-coalescing operator to choose between a
default color name and an optional user-defined color name:
</p>
<div class="example">
<pre class="example">let defaultColorName = &quot;red&quot;
var userDefinedColorName: String? // defaults to nil

var colorNameToUse = userDefinedColorName ?? defaultColorName
// userDefinedColorName is nil, so colorNameToUse is set to the default of &quot;red&quot;
</pre></div>

<p>The &lsquo;<samp>userDefinedColorName</samp>&rsquo; variable is defined as an optional &lsquo;<samp>String</samp>&rsquo;,
with a default value of &lsquo;<samp>nil</samp>&rsquo;. Because &lsquo;<samp>userDefinedColorName</samp>&rsquo; is of an
optional type, you can use the nil-coalescing operator to consider its
value. In the example above, the operator is used to determine an
initial value for a &lsquo;<samp>String</samp>&rsquo; variable called &lsquo;<samp>colorNameToUse</samp>&rsquo;. Because
&lsquo;<samp>userDefinedColorName</samp>&rsquo; is &lsquo;<samp>nil</samp>&rsquo;, the expression
&lsquo;<samp>userDefinedColorName ?? defaultColorName</samp>&rsquo; returns the value of
&lsquo;<samp>defaultColorName</samp>&rsquo;, or &lsquo;<samp>&quot;red&quot;</samp>&rsquo;.
</p>
<p>If you assign a non-&lsquo;<samp>nil</samp>&rsquo; value to &lsquo;<samp>userDefinedColorName</samp>&rsquo; and perform
the nil-coalescing operator check again, the value wrapped inside
&lsquo;<samp>userDefinedColorName</samp>&rsquo; is used instead of the default:
</p>
<div class="example">
<pre class="example">userDefinedColorName = &quot;green&quot;
colorNameToUse = userDefinedColorName ?? defaultColorName
// userDefinedColorName is not nil, so colorNameToUse is set to &quot;green&quot;
</pre></div>

<hr>
<span id="Range-Operators"></span><div class="header">
<p>
Next: <a href="#Logical-Operators" accesskey="n" rel="next">Logical Operators</a>, Previous: <a href="#Nil_002dCoalescing-Operator" accesskey="p" rel="prev">Nil-Coalescing Operator</a>, Up: <a href="#Basic-Operators" accesskey="u" rel="up">Basic Operators</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Range-Operators-1"></span><h3 class="section">7.8 Range Operators</h3>

<p>Swift includes several <em>range operators</em>, which are shortcuts for
expressing a range of values.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Closed-Range-Operator" accesskey="1">Closed Range Operator</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Half_002dOpen-Range-Operator" accesskey="2">Half-Open Range Operator</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#One_002dSided-Ranges" accesskey="3">One-Sided Ranges</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Closed-Range-Operator"></span><div class="header">
<p>
Next: <a href="#Half_002dOpen-Range-Operator" accesskey="n" rel="next">Half-Open Range Operator</a>, Up: <a href="#Range-Operators" accesskey="u" rel="up">Range Operators</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Closed-Range-Operator-1"></span><h4 class="subsection">7.8.1 Closed Range Operator</h4>

<p>The <em>closed range operator</em> (&lsquo;<samp>a...b</samp>&rsquo;) defines a range that runs from &lsquo;<samp>a</samp>&rsquo;
to &lsquo;<samp>b</samp>&rsquo;, and includes the values &lsquo;<samp>a</samp>&rsquo; and &lsquo;<samp>b</samp>&rsquo;. The value of &lsquo;<samp>a</samp>&rsquo; must not
be greater than &lsquo;<samp>b</samp>&rsquo;.
</p>
<p>The closed range operator is useful when iterating over a range in which
you want all of the values to be used, such as with a &lsquo;<samp>for</samp>&rsquo;-&lsquo;<samp>in</samp>&rsquo; loop:
</p>
<div class="example">
<pre class="example">for index in 1...5 {
    print(&quot;\(index) times 5 is \(index * 5)&quot;)
}
// 1 times 5 is 5
// 2 times 5 is 10
// 3 times 5 is 15
// 4 times 5 is 20
// 5 times 5 is 25
</pre></div>

<p>For more about &lsquo;<samp>for</samp>&rsquo;-&lsquo;<samp>in</samp>&rsquo; loops, see <a href="#Control-Flow">Control
Flow</a>.
</p>
<hr>
<span id="Half_002dOpen-Range-Operator"></span><div class="header">
<p>
Next: <a href="#One_002dSided-Ranges" accesskey="n" rel="next">One-Sided Ranges</a>, Previous: <a href="#Closed-Range-Operator" accesskey="p" rel="prev">Closed Range Operator</a>, Up: <a href="#Range-Operators" accesskey="u" rel="up">Range Operators</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Half_002dOpen-Range-Operator-1"></span><h4 class="subsection">7.8.2 Half-Open Range Operator</h4>

<p>The <em>half-open range operator</em> (&lsquo;<samp>a..&lt;b</samp>&rsquo;) defines a range that runs from
&lsquo;<samp>a</samp>&rsquo; to &lsquo;<samp>b</samp>&rsquo;, but doesn&rsquo;t include &lsquo;<samp>b</samp>&rsquo;. It&rsquo;s said to be <em>half-open</em> because
it contains its first value, but not its final value. As with the closed
range operator, the value of &lsquo;<samp>a</samp>&rsquo; must not be greater than &lsquo;<samp>b</samp>&rsquo;. If the
value of &lsquo;<samp>a</samp>&rsquo; is equal to &lsquo;<samp>b</samp>&rsquo;, then the resulting range will be empty.
</p>
<p>Half-open ranges are particularly useful when you work with zero-based
lists such as arrays, where it&rsquo;s useful to count up to (but not
including) the length of the list:
</p>
<div class="example">
<pre class="example">let names = [&quot;Anna&quot;, &quot;Alex&quot;, &quot;Brian&quot;, &quot;Jack&quot;]
let count = names.count
for i in 0..&lt;count {
    print(&quot;Person \(i + 1) is called \(names[i])&quot;)
}
// Person 1 is called Anna
// Person 2 is called Alex
// Person 3 is called Brian
// Person 4 is called Jack
</pre></div>

<p>Note that the array contains four items, but &lsquo;<samp>0..&lt;count</samp>&rsquo; only counts as
far as &lsquo;<samp>3</samp>&rsquo; (the index of the last item in the array), because it&rsquo;s a
half-open range. For more about arrays, see
<a href="#Arrays">Arrays</a>.
</p>
<hr>
<span id="One_002dSided-Ranges"></span><div class="header">
<p>
Previous: <a href="#Half_002dOpen-Range-Operator" accesskey="p" rel="prev">Half-Open Range Operator</a>, Up: <a href="#Range-Operators" accesskey="u" rel="up">Range Operators</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="One_002dSided-Ranges-1"></span><h4 class="subsection">7.8.3 One-Sided Ranges</h4>

<p>The closed range operator has an alternative form for ranges that
continue as far as possible in one direction&mdash;for example, a range that
includes all the elements of an array from index 2 to the end of the
array. In these cases, you can omit the value from one side of the range
operator. This kind of range is called a <em>one-sided range</em> because the
operator has a value on only one side. For example:
</p>
<div class="example">
<pre class="example">for name in names[2...] {
    print(name)
}
// Brian
// Jack

for name in names[...2] {
    print(name)
}
// Anna
// Alex
// Brian
</pre></div>

<p>The half-open range operator also has a one-sided form that&rsquo;s written
with only its final value. Just like when you include a value on both
sides, the final value isn&rsquo;t part of the range. For example:
</p>
<div class="example">
<pre class="example">for name in names[..&lt;2] {
    print(name)
}
// Anna
// Alex
</pre></div>

<p>One-sided ranges can be used in other contexts, not just in subscripts.
You can&rsquo;t iterate over a one-sided range that omits a first value,
because it isn&rsquo;t clear where iteration should begin. You <em>can</em> iterate
over a one-sided range that omits its final value; however, because the
range continues indefinitely, make sure you add an explicit end
condition for the loop. You can also check whether a one-sided range
contains a particular value, as shown in the code below.
</p>
<div class="example">
<pre class="example">let range = ...5
range.contains(7) // false
range.contains(4) // true
range.contains(-1) // true
</pre></div>

<hr>
<span id="Logical-Operators"></span><div class="header">
<p>
Previous: <a href="#Range-Operators" accesskey="p" rel="prev">Range Operators</a>, Up: <a href="#Basic-Operators" accesskey="u" rel="up">Basic Operators</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Logical-Operators-1"></span><h3 class="section">7.9 Logical Operators</h3>

<p><em>Logical operators</em> modify or combine the Boolean logic values &lsquo;<samp>true</samp>&rsquo;
and &lsquo;<samp>false</samp>&rsquo;. Swift supports the three standard logical operators found
in C-based languages:
</p>
<ul>
<li> Logical NOT (&lsquo;<samp>!a</samp>&rsquo;)

</li><li> Logical AND (&lsquo;<samp>a &amp;&amp; b</samp>&rsquo;)

</li><li> Logical OR (&lsquo;<samp>a || b</samp>&rsquo;)
</li></ul>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Logical-NOT-Operator" accesskey="1">Logical NOT Operator</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Logical-AND-Operator" accesskey="2">Logical AND Operator</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Logical-OR-Operator" accesskey="3">Logical OR Operator</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Combining-Logical-Operators" accesskey="4">Combining Logical Operators</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Explicit-Parentheses" accesskey="5">Explicit Parentheses</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Logical-NOT-Operator"></span><div class="header">
<p>
Next: <a href="#Logical-AND-Operator" accesskey="n" rel="next">Logical AND Operator</a>, Up: <a href="#Logical-Operators" accesskey="u" rel="up">Logical Operators</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Logical-NOT-Operator-1"></span><h4 class="subsection">7.9.1 Logical NOT Operator</h4>

<p>The <em>logical NOT operator</em> (&lsquo;<samp>!a</samp>&rsquo;) inverts a Boolean value so that &lsquo;<samp>true</samp>&rsquo;
becomes &lsquo;<samp>false</samp>&rsquo;, and &lsquo;<samp>false</samp>&rsquo; becomes &lsquo;<samp>true</samp>&rsquo;.
</p>
<p>The logical NOT operator is a prefix operator, and appears immediately
before the value it operates on, without any white space. It can be read
as “not =a=”, as seen in the following example:
</p>
<div class="example">
<pre class="example">let allowedEntry = false
if !allowedEntry {
    print(&quot;ACCESS DENIED&quot;)
}
// Prints &quot;ACCESS DENIED&quot;
</pre></div>

<p>The phrase &lsquo;<samp>if !allowedEntry</samp>&rsquo; can be read as “if not allowed entry.” The
subsequent line is only executed if “not allowed entry” is true; that
is, if &lsquo;<samp>allowedEntry</samp>&rsquo; is &lsquo;<samp>false</samp>&rsquo;.
</p>
<p>As in this example, careful choice of Boolean constant and variable
names can help to keep code readable and concise, while avoiding double
negatives or confusing logic statements.
</p>
<hr>
<span id="Logical-AND-Operator"></span><div class="header">
<p>
Next: <a href="#Logical-OR-Operator" accesskey="n" rel="next">Logical OR Operator</a>, Previous: <a href="#Logical-NOT-Operator" accesskey="p" rel="prev">Logical NOT Operator</a>, Up: <a href="#Logical-Operators" accesskey="u" rel="up">Logical Operators</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Logical-AND-Operator-1"></span><h4 class="subsection">7.9.2 Logical AND Operator</h4>

<p>The <em>logical AND operator</em> (&lsquo;<samp>a &amp;&amp; b</samp>&rsquo;) creates logical expressions where
both values must be &lsquo;<samp>true</samp>&rsquo; for the overall expression to also be &lsquo;<samp>true</samp>&rsquo;.
</p>
<p>If either value is &lsquo;<samp>false</samp>&rsquo;, the overall expression will also be &lsquo;<samp>false</samp>&rsquo;.
In fact, if the <em>first</em> value is &lsquo;<samp>false</samp>&rsquo;, the second value won&rsquo;t even be
evaluated, because it can&rsquo;t possibly make the overall expression equate
to &lsquo;<samp>true</samp>&rsquo;. This is known as <em>short-circuit evaluation</em>.
</p>
<p>This example considers two &lsquo;<samp>Bool</samp>&rsquo; values and only allows access if both
values are &lsquo;<samp>true</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">let enteredDoorCode = true
let passedRetinaScan = false
if enteredDoorCode &amp;&amp; passedRetinaScan {
    print(&quot;Welcome!&quot;)
} else {
    print(&quot;ACCESS DENIED&quot;)
}
// Prints &quot;ACCESS DENIED&quot;
</pre></div>

<hr>
<span id="Logical-OR-Operator"></span><div class="header">
<p>
Next: <a href="#Combining-Logical-Operators" accesskey="n" rel="next">Combining Logical Operators</a>, Previous: <a href="#Logical-AND-Operator" accesskey="p" rel="prev">Logical AND Operator</a>, Up: <a href="#Logical-Operators" accesskey="u" rel="up">Logical Operators</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Logical-OR-Operator-1"></span><h4 class="subsection">7.9.3 Logical OR Operator</h4>

<p>The <em>logical OR operator</em> (&lsquo;<samp>a || b</samp>&rsquo;) is an infix operator made from two
adjacent pipe characters. You use it to create logical expressions in
which only <em>one</em> of the two values has to be &lsquo;<samp>true</samp>&rsquo; for the overall
expression to be &lsquo;<samp>true</samp>&rsquo;.
</p>
<p>Like the Logical AND operator above, the Logical OR operator uses
short-circuit evaluation to consider its expressions. If the left side
of a Logical OR expression is &lsquo;<samp>true</samp>&rsquo;, the right side is not evaluated,
because it can&rsquo;t change the outcome of the overall expression.
</p>
<p>In the example below, the first &lsquo;<samp>Bool</samp>&rsquo; value (&lsquo;<samp>hasDoorKey</samp>&rsquo;) is &lsquo;<samp>false</samp>&rsquo;,
but the second value (&lsquo;<samp>knowsOverridePassword</samp>&rsquo;) is &lsquo;<samp>true</samp>&rsquo;. Because one
value is &lsquo;<samp>true</samp>&rsquo;, the overall expression also evaluates to &lsquo;<samp>true</samp>&rsquo;, and
access is allowed:
</p>
<div class="example">
<pre class="example">let hasDoorKey = false
let knowsOverridePassword = true
if hasDoorKey || knowsOverridePassword {
    print(&quot;Welcome!&quot;)
} else {
    print(&quot;ACCESS DENIED&quot;)
}
// Prints &quot;Welcome!&quot;
</pre></div>

<hr>
<span id="Combining-Logical-Operators"></span><div class="header">
<p>
Next: <a href="#Explicit-Parentheses" accesskey="n" rel="next">Explicit Parentheses</a>, Previous: <a href="#Logical-OR-Operator" accesskey="p" rel="prev">Logical OR Operator</a>, Up: <a href="#Logical-Operators" accesskey="u" rel="up">Logical Operators</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Combining-Logical-Operators-1"></span><h4 class="subsection">7.9.4 Combining Logical Operators</h4>

<p>You can combine multiple logical operators to create longer compound
expressions:
</p>
<div class="example">
<pre class="example">if enteredDoorCode &amp;&amp; passedRetinaScan || hasDoorKey || knowsOverridePassword {
    print(&quot;Welcome!&quot;)
} else {
    print(&quot;ACCESS DENIED&quot;)
}
// Prints &quot;Welcome!&quot;
</pre></div>

<p>This example uses multiple &lsquo;<samp>&amp;&amp;</samp>&rsquo; and &lsquo;<samp>||</samp>&rsquo; operators to create a longer
compound expression. However, the &lsquo;<samp>&amp;&amp;</samp>&rsquo; and &lsquo;<samp>||</samp>&rsquo; operators still operate
on only two values, so this is actually three smaller expressions
chained together. The example can be read as:
</p>
<p>If we&rsquo;ve entered the correct door code and passed the retina scan, or if
we have a valid door key, or if we know the emergency override password,
then allow access.
</p>
<p>Based on the values of &lsquo;<samp>enteredDoorCode</samp>&rsquo;, &lsquo;<samp>passedRetinaScan</samp>&rsquo;, and
&lsquo;<samp>hasDoorKey</samp>&rsquo;, the first two subexpressions are &lsquo;<samp>false</samp>&rsquo;. However, the
emergency override password is known, so the overall compound expression
still evaluates to &lsquo;<samp>true</samp>&rsquo;.
</p>
<p>Note
</p>
<p>The Swift logical operators &lsquo;<samp>&amp;&amp;</samp>&rsquo; and &lsquo;<samp>||</samp>&rsquo; are left-associative, meaning
that compound expressions with multiple logical operators evaluate the
leftmost subexpression first.
</p>
<hr>
<span id="Explicit-Parentheses"></span><div class="header">
<p>
Previous: <a href="#Combining-Logical-Operators" accesskey="p" rel="prev">Combining Logical Operators</a>, Up: <a href="#Logical-Operators" accesskey="u" rel="up">Logical Operators</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Explicit-Parentheses-1"></span><h4 class="subsection">7.9.5 Explicit Parentheses</h4>

<p>It&rsquo;s sometimes useful to include parentheses when they&rsquo;re not strictly
needed, to make the intention of a complex expression easier to read. In
the door access example above, it&rsquo;s useful to add parentheses around the
first part of the compound expression to make its intent explicit:
</p>
<div class="example">
<pre class="example">if (enteredDoorCode &amp;&amp; passedRetinaScan) || hasDoorKey || knowsOverridePassword {
    print(&quot;Welcome!&quot;)
} else {
    print(&quot;ACCESS DENIED&quot;)
}
// Prints &quot;Welcome!&quot;
</pre></div>

<p>The parentheses make it clear that the first two values are considered
as part of a separate possible state in the overall logic. The output of
the compound expression doesn&rsquo;t change, but the overall intention is
clearer to the reader. Readability is always preferred over brevity; use
parentheses where they help to make your intentions clear.
</p>
<hr>
<span id="Strings-and-Characters"></span><div class="header">
<p>
Next: <a href="#Collection-Types" accesskey="n" rel="next">Collection Types</a>, Previous: <a href="#Basic-Operators" accesskey="p" rel="prev">Basic Operators</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Strings-and-Characters-1"></span><h2 class="chapter">8 Strings and Characters</h2>

<span id="index-string"></span>
<span id="index-character"></span>

<p>A <em>string</em> is a series of characters, such as &lsquo;<samp>&quot;hello, world&quot;</samp>&rsquo; or
&lsquo;<samp>&quot;albatross&quot;</samp>&rsquo;. Swift strings are represented by the &lsquo;<samp>String</samp>&rsquo; type. The
contents of a &lsquo;<samp>String</samp>&rsquo; can be accessed in various ways, including as a
collection of &lsquo;<samp>Character</samp>&rsquo; values.
</p>
<p>Swift&rsquo;s &lsquo;<samp>String</samp>&rsquo; and &lsquo;<samp>Character</samp>&rsquo; types provide a fast, Unicode-compliant
way to work with text in your code. The syntax for string creation and
manipulation is lightweight and readable, with a string literal syntax
that is similar to C. String concatenation is as simple as combining two
strings with the &lsquo;<samp>+</samp>&rsquo; operator, and string mutability is managed by
choosing between a constant or a variable, just like any other value in
Swift. You can also use strings to insert constants, variables,
literals, and expressions into longer strings, in a process known as
string interpolation. This makes it easy to create custom string values
for display, storage, and printing.
</p>
<p>Despite this simplicity of syntax, Swift&rsquo;s &lsquo;<samp>String</samp>&rsquo; type is a fast,
modern string implementation. Every string is composed of
encoding-independent Unicode characters, and provides support for
accessing those characters in various Unicode representations.
</p>
<p>Note
</p>
<p>Swift&rsquo;s &lsquo;<samp>String</samp>&rsquo; type is bridged with Foundation&rsquo;s &lsquo;<samp>NSString</samp>&rsquo; class.
Foundation also extends &lsquo;<samp>String</samp>&rsquo; to expose methods defined by
&lsquo;<samp>NSString</samp>&rsquo;. This means, if you import Foundation, you can access those
&lsquo;<samp>NSString</samp>&rsquo; methods on &lsquo;<samp>String</samp>&rsquo; without casting.
</p>
<p>For more information about using &lsquo;<samp>String</samp>&rsquo; with Foundation and Cocoa, see
<a href="https://developer.apple.com/documentation/swift/string#2919514">Bridging
Between String and NSString</a>
[<a href="https://developer.apple.com/documentation/swift/string#2919514">https://developer.apple.com/documentation/swift/string#2919514</a>].
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#String-Literals" accesskey="1">String Literals</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Initializing-an-Empty-String" accesskey="2">Initializing an Empty String</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#String-Mutability" accesskey="3">String Mutability</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Strings-Are-Value-Types" accesskey="4">Strings Are Value Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Working-with-Characters" accesskey="5">Working with Characters</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Concatenating-Strings-and-Characters" accesskey="6">Concatenating Strings and Characters</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#String-Interpolation" accesskey="7">String Interpolation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Unicode" accesskey="8">Unicode</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Counting-Characters" accesskey="9">Counting Characters</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Accessing-and-Modifying-a-String">Accessing and Modifying a String</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Substrings">Substrings</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Comparing-Strings">Comparing Strings</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Unicode-Representations-of-Strings">Unicode Representations of Strings</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="String-Literals"></span><div class="header">
<p>
Next: <a href="#Initializing-an-Empty-String" accesskey="n" rel="next">Initializing an Empty String</a>, Up: <a href="#Strings-and-Characters" accesskey="u" rel="up">Strings and Characters</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="String-Literals-1"></span><h3 class="section">8.1 String Literals</h3>

<p>You can include predefined &lsquo;<samp>String</samp>&rsquo; values within your code as <em>string
literals</em>. A string literal is a sequence of characters surrounded by
double quotation marks (&lsquo;<samp>&quot;</samp>&rsquo;).
</p>
<p>Use a string literal as an initial value for a constant or variable:
</p>
<div class="example">
<pre class="example">let someString = &quot;Some string literal value&quot;
</pre></div>

<p>Note that Swift infers a type of &lsquo;<samp>String</samp>&rsquo; for the &lsquo;<samp>someString</samp>&rsquo; constant
because it&rsquo;s initialized with a string literal value.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Multiline-String-Literals" accesskey="1">Multiline String Literals</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Special-Characters-in-String-Literals" accesskey="2">Special Characters in String Literals</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Extended-String-Delimiters" accesskey="3">Extended String Delimiters</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Multiline-String-Literals"></span><div class="header">
<p>
Next: <a href="#Special-Characters-in-String-Literals" accesskey="n" rel="next">Special Characters in String Literals</a>, Up: <a href="#String-Literals" accesskey="u" rel="up">String Literals</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Multiline-String-Literals-1"></span><h4 class="subsection">8.1.1 Multiline String Literals</h4>

<p>If you need a string that spans several lines, use a multiline string
literal&mdash;a sequence of characters surrounded by three double quotation
marks:
</p>
<div class="example">
<pre class="example">let quotation = &quot;&quot;&quot;
  The White Rabbit put on his spectacles. &quot;Where shall I begin,
  please your Majesty?&quot; he asked.

  &quot;Begin at the beginning,&quot; the King said gravely, &quot;and go on
  till you come to the end; then stop.&quot;
  &quot;&quot;&quot;
</pre></div>

<p>A multiline string literal includes all of the lines between its opening
and closing quotation marks. The string begins on the first line after
the opening quotation marks (&lsquo;<samp>&quot;&quot;&quot;</samp>&rsquo;) and ends on the line before the
closing quotation marks, which means that neither of the strings below
start or end with a line break:
</p>
<div class="example">
<pre class="example">let singleLineString = &quot;These are the same.&quot;
let multilineString = &quot;&quot;&quot;
  These are the same.
  &quot;&quot;&quot;
</pre></div>

<p>When your source code includes a line break inside of a multiline string
literal, that line break also appears in the string&rsquo;s value. If you want
to use line breaks to make your source code easier to read, but you
don&rsquo;t want the line breaks to be part of the string&rsquo;s value, write a
backslash (&lsquo;<samp>\</samp>&rsquo;) at the end of those lines:
</p>
<div class="example">
<pre class="example">let softWrappedQuotation = &quot;&quot;&quot;
  The White Rabbit put on his spectacles. &quot;Where shall I begin, \
  please your Majesty?&quot; he asked.

  &quot;Begin at the beginning,&quot; the King said gravely, &quot;and go on \
  till you come to the end; then stop.&quot;
  &quot;&quot;&quot;
</pre></div>

<p>To make a multiline string literal that begins or ends with a line feed,
write a blank line as the first or last line. For example:
</p>
<div class="example">
<pre class="example">let lineBreaks = &quot;&quot;&quot;

  This string starts with a line break.
  It also ends with a line break.

  &quot;&quot;&quot;
</pre></div>

<p>A multiline string can be indented to match the surrounding code. The
whitespace before the closing quotation marks (&lsquo;<samp>&quot;&quot;&quot;</samp>&rsquo;) tells Swift what
whitespace to ignore before all of the other lines. However, if you
write whitespace at the beginning of a line in addition to what&rsquo;s before
the closing quotation marks, that whitespace <em>is</em> included.
</p>
<img src="images/multilineStringWhitespace_2x.png" alt="images/multilineStringWhitespace_2x">
<p>In the example above, even though the entire multiline string literal is
indented, the first and last lines in the string don&rsquo;t begin with any
whitespace. The middle line has more indentation than the closing
quotation marks, so it starts with that extra four-space indentation.
</p>
<hr>
<span id="Special-Characters-in-String-Literals"></span><div class="header">
<p>
Next: <a href="#Extended-String-Delimiters" accesskey="n" rel="next">Extended String Delimiters</a>, Previous: <a href="#Multiline-String-Literals" accesskey="p" rel="prev">Multiline String Literals</a>, Up: <a href="#String-Literals" accesskey="u" rel="up">String Literals</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Special-Characters-in-String-Literals-1"></span><h4 class="subsection">8.1.2 Special Characters in String Literals</h4>

<span id="index-Unicode-in-string-literals"></span>

<p>String literals can include the following special characters:
</p>
<ul>
<li> The escaped special characters &lsquo;<samp>\0</samp>&rsquo; (null character), &lsquo;<samp>\\</samp>&rsquo;
(backslash), &lsquo;<samp>\t</samp>&rsquo; (horizontal tab), &lsquo;<samp>\n</samp>&rsquo; (line feed), &lsquo;<samp>\r</samp>&rsquo; (carriage
return), &lsquo;<samp>\&quot;</samp>&rsquo; (double quotation mark) and &lsquo;<samp>\'</samp>&rsquo; (single quotation mark)

</li><li> An arbitrary Unicode scalar value, written as &lsquo;<samp>\u{=/n/</samp>&rsquo;}=, where <em>n</em>
is a 1&ndash;8 digit hexadecimal number (Unicode is discussed in
<a href="#Unicode">Unicode</a> below)
</li></ul>

<p>The code below shows four examples of these special characters. The
&lsquo;<samp>wiseWords</samp>&rsquo; constant contains two escaped double quotation marks. The
&lsquo;<samp>dollarSign</samp>&rsquo;, &lsquo;<samp>blackHeart</samp>&rsquo;, and &lsquo;<samp>sparklingHeart</samp>&rsquo; constants demonstrate
the Unicode scalar format:
</p>
<div class="example">
<pre class="example">let wiseWords = &quot;\&quot;Imagination is more important than knowledge\&quot; - Einstein&quot;
// &quot;Imagination is more important than knowledge&quot; - Einstein
let dollarSign = &quot;\u{24}&quot; // $, Unicode scalar U+0024
let blackHeart = &quot;\u{2665}&quot; // ♥, Unicode scalar U+2665
let sparklingHeart = &quot;\u{1F496}&quot; // 💖, Unicode scalar U+1F496
</pre></div>

<p>Because multiline string literals use three double quotation marks
instead of just one, you can include a double quotation mark (&lsquo;<samp>&quot;</samp>&rsquo;)
inside of a multiline string literal without escaping it. To include the
text &lsquo;<samp>&quot;&quot;&quot;</samp>&rsquo; in a multiline string, escape at least one of the quotation
marks. For example:
</p>
<div class="example">
<pre class="example">let threeDoubleQuotationMarks = &quot;&quot;&quot;
  Escaping the first quotation mark \&quot;&quot;&quot;
  Escaping all three quotation marks \&quot;\&quot;\&quot;
  &quot;&quot;&quot;
</pre></div>

<hr>
<span id="Extended-String-Delimiters"></span><div class="header">
<p>
Previous: <a href="#Special-Characters-in-String-Literals" accesskey="p" rel="prev">Special Characters in String Literals</a>, Up: <a href="#String-Literals" accesskey="u" rel="up">String Literals</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Extended-String-Delimiters-1"></span><h4 class="subsection">8.1.3 Extended String Delimiters</h4>

<span id="index-ignore-special-characters-in-strings"></span>

<p>You can place a string literal within <em>extended delimiters</em> to include
special characters in a string without invoking their effect. You place
your string within quotation marks (&lsquo;<samp>&quot;</samp>&rsquo;) and surround that with number
signs (&lsquo;<samp>#</samp>&rsquo;). For example, printing the string literal
&lsquo;<samp>#&quot;Line 1\nLine 2&quot;#</samp>&rsquo; prints the line feed escape sequence (&lsquo;<samp>\n</samp>&rsquo;) rather
than printing the string across two lines.
</p>
<p>If you need the special effects of a character in a string literal,
match the number of number signs within the string following the escape
character (&lsquo;<samp>\</samp>&rsquo;). For example, if your string is &lsquo;<samp>#&quot;Line 1\nLine 2&quot;#</samp>&rsquo; and
you want to break the line, you can use &lsquo;<samp>#&quot;Line 1\#nLine 2&quot;#</samp>&rsquo; instead.
Similarly, &lsquo;<samp>###&quot;Line1\###nLine2&quot;###</samp>&rsquo; also breaks the line.
</p>
<p>String literals created using extended delimiters can also be multiline
string literals. You can use extended delimiters to include the text
&lsquo;<samp>&quot;&quot;&quot;</samp>&rsquo; in a multiline string, overriding the default behavior that ends
the literal. For example:
</p>
<div class="example">
<pre class="example">let threeMoreDoubleQuotationMarks = #&quot;&quot;&quot;
  Here are three more double quotes: &quot;&quot;&quot;
  &quot;&quot;&quot;#
</pre></div>

<hr>
<span id="Initializing-an-Empty-String"></span><div class="header">
<p>
Next: <a href="#String-Mutability" accesskey="n" rel="next">String Mutability</a>, Previous: <a href="#String-Literals" accesskey="p" rel="prev">String Literals</a>, Up: <a href="#Strings-and-Characters" accesskey="u" rel="up">Strings and Characters</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Initializing-an-Empty-String-1"></span><h3 class="section">8.2 Initializing an Empty String</h3>

<span id="index-empty-string_002c-create"></span>

<p>To create an empty &lsquo;<samp>String</samp>&rsquo; value as the starting point for building a
longer string, either assign an empty string literal to a variable, or
initialize a new &lsquo;<samp>String</samp>&rsquo; instance with initializer syntax:
</p>
<div class="example">
<pre class="example">var emptyString = &quot;&quot; // empty string literal
var anotherEmptyString = String() // initializer syntax
// these two strings are both empty, and are equivalent to each other
</pre></div>

<p>Find out whether a &lsquo;<samp>String</samp>&rsquo; value is empty by checking its Boolean
&lsquo;<samp>isEmpty</samp>&rsquo; property:
</p>
<div class="example">
<pre class="example">if emptyString.isEmpty {
    print(&quot;Nothing to see here&quot;)
}
// Prints &quot;Nothing to see here&quot;
</pre></div>

<hr>
<span id="String-Mutability"></span><div class="header">
<p>
Next: <a href="#Strings-Are-Value-Types" accesskey="n" rel="next">Strings Are Value Types</a>, Previous: <a href="#Initializing-an-Empty-String" accesskey="p" rel="prev">Initializing an Empty String</a>, Up: <a href="#Strings-and-Characters" accesskey="u" rel="up">Strings and Characters</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="String-Mutability-1"></span><h3 class="section">8.3 String Mutability</h3>

<p>You indicate whether a particular &lsquo;<samp>String</samp>&rsquo; can be modified (or
<em>mutated</em>) by assigning it to a variable (in which case it can be
modified), or to a constant (in which case it can&rsquo;t be modified):
</p>
<div class="example">
<pre class="example">var variableString = &quot;Horse&quot;
variableString += &quot; and carriage&quot;
// variableString is now &quot;Horse and carriage&quot;

let constantString = &quot;Highlander&quot;
constantString += &quot; and another Highlander&quot;
// this reports a compile-time error - a constant string cannot be modified
</pre></div>

<p>Note
</p>
<p>This approach is different from string mutation in Objective-C and
Cocoa, where you choose between two classes (&lsquo;<samp>NSString</samp>&rsquo; and
&lsquo;<samp>NSMutableString</samp>&rsquo;) to indicate whether a string can be mutated.
</p>
<hr>
<span id="Strings-Are-Value-Types"></span><div class="header">
<p>
Next: <a href="#Working-with-Characters" accesskey="n" rel="next">Working with Characters</a>, Previous: <a href="#String-Mutability" accesskey="p" rel="prev">String Mutability</a>, Up: <a href="#Strings-and-Characters" accesskey="u" rel="up">Strings and Characters</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Strings-Are-Value-Types-1"></span><h3 class="section">8.4 Strings Are Value Types</h3>

<p>Swift&rsquo;s &lsquo;<samp>String</samp>&rsquo; type is a <em>value type</em>. If you create a new &lsquo;<samp>String</samp>&rsquo;
value, that &lsquo;<samp>String</samp>&rsquo; value is <em>copied</em> when it&rsquo;s passed to a function or
method, or when it&rsquo;s assigned to a constant or variable. In each case, a
new copy of the existing &lsquo;<samp>String</samp>&rsquo; value is created, and the new copy is
passed or assigned, not the original version. Value types are described
in <a href="#Structures-and-Enumerations-Are-Value-Types">Structures and Enumerations Are
Value Types</a>.
</p>
<p>Swift&rsquo;s copy-by-default &lsquo;<samp>String</samp>&rsquo; behavior ensures that when a function
or method passes you a &lsquo;<samp>String</samp>&rsquo; value, it&rsquo;s clear that you own that
exact &lsquo;<samp>String</samp>&rsquo; value, regardless of where it came from. You can be
confident that the string you are passed won&rsquo;t be modified unless you
modify it yourself.
</p>
<p>Behind the scenes, Swift&rsquo;s compiler optimizes string usage so that
actual copying takes place only when absolutely necessary. This means
you always get great performance when working with strings as value
types.
</p>
<hr>
<span id="Working-with-Characters"></span><div class="header">
<p>
Next: <a href="#Concatenating-Strings-and-Characters" accesskey="n" rel="next">Concatenating Strings and Characters</a>, Previous: <a href="#Strings-Are-Value-Types" accesskey="p" rel="prev">Strings Are Value Types</a>, Up: <a href="#Strings-and-Characters" accesskey="u" rel="up">Strings and Characters</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Working-with-Characters-1"></span><h3 class="section">8.5 Working with Characters</h3>

<span id="index-iterate-characters-in-a-string"></span>

<p>You can access the individual &lsquo;<samp>Character</samp>&rsquo; values for a &lsquo;<samp>String</samp>&rsquo; by
iterating over the string with a &lsquo;<samp>for</samp>&rsquo;-&lsquo;<samp>in</samp>&rsquo; loop:
</p>
<div class="example">
<pre class="example">for character in &quot;Dog!🐶&quot; {
    print(character)
}
// D
// o
// g
// !
// 🐶
</pre></div>

<p>The &lsquo;<samp>for</samp>&rsquo;-&lsquo;<samp>in</samp>&rsquo; loop is described in <a href="#For_002dIn-Loops">For-In
Loops</a>.
</p>
<p>Alternatively, you can create a stand-alone &lsquo;<samp>Character</samp>&rsquo; constant or
variable from a single-character string literal by providing a
&lsquo;<samp>Character</samp>&rsquo; type annotation:
</p>
<div class="example">
<pre class="example">let exclamationMark: Character = &quot;!&quot;
</pre></div>

<p>&lsquo;<samp>String</samp>&rsquo; values can be constructed by passing an array of &lsquo;<samp>Character</samp>&rsquo;
values as an argument to its initializer:
</p>
<div class="example">
<pre class="example">let catCharacters: [Character] = [&quot;C&quot;, &quot;a&quot;, &quot;t&quot;, &quot;!&quot;, &quot;🐱&quot;]
let catString = String(catCharacters)
print(catString)
// Prints &quot;Cat!🐱&quot;
</pre></div>

<hr>
<span id="Concatenating-Strings-and-Characters"></span><div class="header">
<p>
Next: <a href="#String-Interpolation" accesskey="n" rel="next">String Interpolation</a>, Previous: <a href="#Working-with-Characters" accesskey="p" rel="prev">Working with Characters</a>, Up: <a href="#Strings-and-Characters" accesskey="u" rel="up">Strings and Characters</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Concatenating-Strings-and-Characters-1"></span><h3 class="section">8.6 Concatenating Strings and Characters</h3>

<p>&lsquo;<samp>String</samp>&rsquo; values can be added together (or <em>concatenated</em>) with the
addition operator (&lsquo;<samp>+</samp>&rsquo;) to create a new &lsquo;<samp>String</samp>&rsquo; value:
</p>
<div class="example">
<pre class="example">let string1 = &quot;hello&quot;
let string2 = &quot; there&quot;
var welcome = string1 + string2
// welcome now equals &quot;hello there&quot;
</pre></div>

<p>You can also append a &lsquo;<samp>String</samp>&rsquo; value to an existing &lsquo;<samp>String</samp>&rsquo; variable
with the addition assignment operator (&lsquo;<samp>+=</samp>&rsquo;):
</p>
<div class="example">
<pre class="example">var instruction = &quot;look over&quot;
instruction += string2
// instruction now equals &quot;look over there&quot;
</pre></div>

<p>You can append a &lsquo;<samp>Character</samp>&rsquo; value to a &lsquo;<samp>String</samp>&rsquo; variable with the
&lsquo;<samp>String</samp>&rsquo; type&rsquo;s &lsquo;<samp>append()</samp>&rsquo; method:
</p>
<div class="example">
<pre class="example">let exclamationMark: Character = &quot;!&quot;
welcome.append(exclamationMark)
// welcome now equals &quot;hello there!&quot;
</pre></div>

<p>Note
</p>
<p>You can&rsquo;t append a &lsquo;<samp>String</samp>&rsquo; or &lsquo;<samp>Character</samp>&rsquo; to an existing &lsquo;<samp>Character</samp>&rsquo;
variable, because a &lsquo;<samp>Character</samp>&rsquo; value must contain a single character
only.
</p>
<p>If you&rsquo;re using multiline string literals to build up the lines of a
longer string, you want every line in the string to end with a line
break, including the last line. For example:
</p>
<div class="example">
<pre class="example">let badStart = &quot;&quot;&quot;
  one
  two
  &quot;&quot;&quot;
let end = &quot;&quot;&quot;
  three
  &quot;&quot;&quot;
print(badStart + end)
// Prints two lines:
// one
// twothree

let goodStart = &quot;&quot;&quot;
  one
  two

  &quot;&quot;&quot;
print(goodStart + end)
// Prints three lines:
// one
// two
// three
</pre></div>

<p>In the code above, concatenating &lsquo;<samp>badStart</samp>&rsquo; with &lsquo;<samp>end</samp>&rsquo; produces a
two-line string, which isn&rsquo;t the desired result. Because the last line
of &lsquo;<samp>badStart</samp>&rsquo; doesn&rsquo;t end with a line break, that line gets combined
with the first line of &lsquo;<samp>end</samp>&rsquo;. In contrast, both lines of &lsquo;<samp>goodStart</samp>&rsquo; end
with a line break, so when it&rsquo;s combined with &lsquo;<samp>end</samp>&rsquo; the result has three
lines, as expected.
</p>
<hr>
<span id="String-Interpolation"></span><div class="header">
<p>
Next: <a href="#Unicode" accesskey="n" rel="next">Unicode</a>, Previous: <a href="#Concatenating-Strings-and-Characters" accesskey="p" rel="prev">Concatenating Strings and Characters</a>, Up: <a href="#Strings-and-Characters" accesskey="u" rel="up">Strings and Characters</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="String-Interpolation-1"></span><h3 class="section">8.7 String Interpolation</h3>

<span id="index-construct-string-from-constants_002c-variables"></span>

<p><em>String interpolation</em> is a way to construct a new &lsquo;<samp>String</samp>&rsquo; value from a
mix of constants, variables, literals, and expressions by including
their values inside a string literal. You can use string interpolation
in both single-line and multiline string literals. Each item that you
insert into the string literal is wrapped in a pair of parentheses,
prefixed by a backslash (&lsquo;<samp>\</samp>&rsquo;):
</p>
<div class="example">
<pre class="example">let multiplier = 3
let message = &quot;\(multiplier) times 2.5 is \(Double(multiplier) * 2.5)&quot;
// message is &quot;3 times 2.5 is 7.5&quot;
</pre></div>

<p>In the example above, the value of &lsquo;<samp>multiplier</samp>&rsquo; is inserted into a
string literal as &lsquo;<samp>\(multiplier)</samp>&rsquo;. This placeholder is replaced with the
actual value of &lsquo;<samp>multiplier</samp>&rsquo; when the string interpolation is evaluated
to create an actual string.
</p>
<p>The value of &lsquo;<samp>multiplier</samp>&rsquo; is also part of a larger expression later in
the string. This expression calculates the value of
&lsquo;<samp>Double(multiplier) * 2.5</samp>&rsquo; and inserts the result (&lsquo;<samp>7.5</samp>&rsquo;) into the
string. In this case, the expression is written as
&lsquo;<samp>\(Double(multiplier) * 2.5)</samp>&rsquo; when it&rsquo;s included inside the string
literal.
</p>
<span id="index-_0023"></span>

<p>You can use extended string delimiters to create strings containing
characters that would otherwise be treated as a string interpolation.
For example:
</p>
<div class="example">
<pre class="example">print(#&quot;Write an interpolated string in Swift using \(multiplier).&quot;#)
// Prints &quot;Write an interpolated string in Swift using \(multiplier).&quot;
</pre></div>

<p>To use string interpolation inside a string that uses extended
delimiters, match the number of number signs before the backslash to the
number of number signs at the beginning and end of the string. For
example:
</p>
<div class="example">
<pre class="example">print(#&quot;6 times 7 is \#(6 * 7).&quot;#)
// Prints &quot;6 times 7 is 42.&quot;
</pre></div>

<p>Note
</p>
<p>The expressions you write inside parentheses within an interpolated
string can&rsquo;t contain an unescaped backslash (&lsquo;<samp>\</samp>&rsquo;), a carriage return, or
a line feed. However, they can contain other string literals.
</p>
<hr>
<span id="Unicode"></span><div class="header">
<p>
Next: <a href="#Counting-Characters" accesskey="n" rel="next">Counting Characters</a>, Previous: <a href="#String-Interpolation" accesskey="p" rel="prev">String Interpolation</a>, Up: <a href="#Strings-and-Characters" accesskey="u" rel="up">Strings and Characters</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Unicode-1"></span><h3 class="section">8.8 Unicode</h3>

<p><em>Unicode</em> is an international standard for encoding, representing, and
processing text in different writing systems. It enables you to
represent almost any character from any language in a standardized form,
and to read and write those characters to and from an external source
such as a text file or web page. Swift&rsquo;s &lsquo;<samp>String</samp>&rsquo; and &lsquo;<samp>Character</samp>&rsquo; types
are fully Unicode-compliant, as described in this section.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Unicode-Scalar-Values" accesskey="1">Unicode Scalar Values</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Extended-Grapheme-Clusters" accesskey="2">Extended Grapheme Clusters</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Unicode-Scalar-Values"></span><div class="header">
<p>
Next: <a href="#Extended-Grapheme-Clusters" accesskey="n" rel="next">Extended Grapheme Clusters</a>, Up: <a href="#Unicode" accesskey="u" rel="up">Unicode</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Unicode-Scalar-Values-1"></span><h4 class="subsection">8.8.1 Unicode Scalar Values</h4>

<p>Behind the scenes, Swift&rsquo;s native &lsquo;<samp>String</samp>&rsquo; type is built from <em>Unicode
scalar values</em>. A Unicode scalar value is a unique 21-bit number for a
character or modifier, such as &lsquo;<samp>U+0061</samp>&rsquo; for &lsquo;<samp>LATIN SMALL LETTER A</samp>&rsquo;
(&lsquo;<samp>&quot;a&quot;</samp>&rsquo;), or &lsquo;<samp>U+1F425</samp>&rsquo; for &lsquo;<samp>FRONT-FACING BABY CHICK</samp>&rsquo; (&lsquo;<samp>&quot;🐥&quot;</samp>&rsquo;).
</p>
<p>Note that not all 21-bit Unicode scalar values are assigned to a
character&mdash;some scalars are reserved for future assignment or for use
in UTF-16 encoding. Scalar values that have been assigned to a character
typically also have a name, such as &lsquo;<samp>LATIN SMALL LETTER A</samp>&rsquo; and
&lsquo;<samp>FRONT-FACING BABY CHICK</samp>&rsquo; in the examples above.
</p>
<hr>
<span id="Extended-Grapheme-Clusters"></span><div class="header">
<p>
Previous: <a href="#Unicode-Scalar-Values" accesskey="p" rel="prev">Unicode Scalar Values</a>, Up: <a href="#Unicode" accesskey="u" rel="up">Unicode</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Extended-Grapheme-Clusters-1"></span><h4 class="subsection">8.8.2 Extended Grapheme Clusters</h4>

<p>Every instance of Swift&rsquo;s &lsquo;<samp>Character</samp>&rsquo; type represents a single <em>extended
grapheme cluster</em>. An extended grapheme cluster is a sequence of one or
more Unicode scalars that (when combined) produce a single
human-readable character.
</p>
<p>Here&rsquo;s an example. The letter &lsquo;<samp>é</samp>&rsquo; can be represented as the single
Unicode scalar &lsquo;<samp>é</samp>&rsquo; (&lsquo;<samp>LATIN SMALL LETTER E WITH ACUTE</samp>&rsquo;, or &lsquo;<samp>U+00E9</samp>&rsquo;).
However, the same letter can also be represented as a <em>pair</em> of
scalars&mdash;a standard letter &lsquo;<samp>e</samp>&rsquo; (&lsquo;<samp>LATIN SMALL LETTER E</samp>&rsquo;, or &lsquo;<samp>U+0065</samp>&rsquo;),
followed by the &lsquo;<samp>COMBINING ACUTE ACCENT</samp>&rsquo; scalar (&lsquo;<samp>U+0301</samp>&rsquo;). The
&lsquo;<samp>COMBINING ACUTE ACCENT</samp>&rsquo; scalar is graphically applied to the scalar
that precedes it, turning an &lsquo;<samp>e</samp>&rsquo; into an &lsquo;<samp>é</samp>&rsquo; when it&rsquo;s rendered by a
Unicode-aware text-rendering system.
</p>
<p>In both cases, the letter &lsquo;<samp>é</samp>&rsquo; is represented as a single Swift
&lsquo;<samp>Character</samp>&rsquo; value that represents an extended grapheme cluster. In the
first case, the cluster contains a single scalar; in the second case,
it&rsquo;s a cluster of two scalars:
</p>
<div class="example">
<pre class="example">let eAcute: Character = &quot;\u{E9}&quot; // é
let combinedEAcute: Character = &quot;\u{65}\u{301}&quot; // e followed by ́
// eAcute is é, combinedEAcute is é
</pre></div>

<p>Extended grapheme clusters are a flexible way to represent many complex
script characters as a single &lsquo;<samp>Character</samp>&rsquo; value. For example, Hangul
syllables from the Korean alphabet can be represented as either a
precomposed or decomposed sequence. Both of these representations
qualify as a single &lsquo;<samp>Character</samp>&rsquo; value in Swift:
</p>
<div class="example">
<pre class="example">let precomposed: Character = &quot;\u{D55C}&quot; // 한
let decomposed: Character = &quot;\u{1112}\u{1161}\u{11AB}&quot; // ᄒ, ᅡ, ᆫ
// precomposed is 한, decomposed is 한
</pre></div>

<p>Extended grapheme clusters enable scalars for enclosing marks (such as
&lsquo;<samp>COMBINING ENCLOSING CIRCLE</samp>&rsquo;, or &lsquo;<samp>U+20DD</samp>&rsquo;) to enclose other Unicode
scalars as part of a single &lsquo;<samp>Character</samp>&rsquo; value:
</p>
<div class="example">
<pre class="example">let enclosedEAcute: Character = &quot;\u{E9}\u{20DD}&quot;
// enclosedEAcute is é⃝
</pre></div>

<p>Unicode scalars for regional indicator symbols can be combined in pairs
to make a single &lsquo;<samp>Character</samp>&rsquo; value, such as this combination of
&lsquo;<samp>REGIONAL INDICATOR SYMBOL LETTER U</samp>&rsquo; (&lsquo;<samp>U+1F1FA</samp>&rsquo;) and
&lsquo;<samp>REGIONAL INDICATOR SYMBOL LETTER S</samp>&rsquo; (&lsquo;<samp>U+1F1F8</samp>&rsquo;):
</p>
<div class="example">
<pre class="example">let regionalIndicatorForUS: Character = &quot;\u{1F1FA}\u{1F1F8}&quot;
// regionalIndicatorForUS is 🇺🇸
</pre></div>

<hr>
<span id="Counting-Characters"></span><div class="header">
<p>
Next: <a href="#Accessing-and-Modifying-a-String" accesskey="n" rel="next">Accessing and Modifying a String</a>, Previous: <a href="#Unicode" accesskey="p" rel="prev">Unicode</a>, Up: <a href="#Strings-and-Characters" accesskey="u" rel="up">Strings and Characters</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Counting-Characters-1"></span><h3 class="section">8.9 Counting Characters</h3>

<p>To retrieve a count of the &lsquo;<samp>Character</samp>&rsquo; values in a string, use the
&lsquo;<samp>count</samp>&rsquo; property of the string:
</p>
<div class="example">
<pre class="example">let unusualMenagerie = &quot;Koala 🐨, Snail 🐌, Penguin 🐧, Dromedary 🐪&quot;
print(&quot;unusualMenagerie has \(unusualMenagerie.count) characters&quot;)
// Prints &quot;unusualMenagerie has 40 characters&quot;
</pre></div>

<p>Note that Swift&rsquo;s use of extended grapheme clusters for &lsquo;<samp>Character</samp>&rsquo;
values means that string concatenation and modification may not always
affect a string&rsquo;s character count.
</p>
<p>For example, if you initialize a new string with the four-character word
&lsquo;<samp>cafe</samp>&rsquo;, and then append a &lsquo;<samp>COMBINING ACUTE ACCENT</samp>&rsquo; (&lsquo;<samp>U+0301</samp>&rsquo;) to the end
of the string, the resulting string will still have a character count of
&lsquo;<samp>4</samp>&rsquo;, with a fourth character of &lsquo;<samp>é</samp>&rsquo;, not &lsquo;<samp>e</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">var word = &quot;cafe&quot;
print(&quot;the number of characters in \(word) is \(word.count)&quot;)
// Prints &quot;the number of characters in cafe is 4&quot;

word += &quot;\u{301}&quot; // COMBINING ACUTE ACCENT, U+0301

print(&quot;the number of characters in \(word) is \(word.count)&quot;)
// Prints &quot;the number of characters in café is 4&quot;
</pre></div>

<p>Note
</p>
<p>Extended grapheme clusters can be composed of multiple Unicode scalars.
This means that different characters&mdash;and different representations of
the same character&mdash;can require different amounts of memory to store.
Because of this, characters in Swift don&rsquo;t each take up the same amount
of memory within a string&rsquo;s representation. As a result, the number of
characters in a string can&rsquo;t be calculated without iterating through the
string to determine its extended grapheme cluster boundaries. If you are
working with particularly long string values, be aware that the &lsquo;<samp>count</samp>&rsquo;
property must iterate over the Unicode scalars in the entire string in
order to determine the characters for that string.
</p>
<p>The count of the characters returned by the &lsquo;<samp>count</samp>&rsquo; property isn&rsquo;t
always the same as the &lsquo;<samp>length</samp>&rsquo; property of an &lsquo;<samp>NSString</samp>&rsquo; that contains
the same characters. The length of an &lsquo;<samp>NSString</samp>&rsquo; is based on the number
of 16-bit code units within the string&rsquo;s UTF-16 representation and not
the number of Unicode extended grapheme clusters within the string.
</p>
<hr>
<span id="Accessing-and-Modifying-a-String"></span><div class="header">
<p>
Next: <a href="#Substrings" accesskey="n" rel="next">Substrings</a>, Previous: <a href="#Counting-Characters" accesskey="p" rel="prev">Counting Characters</a>, Up: <a href="#Strings-and-Characters" accesskey="u" rel="up">Strings and Characters</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Accessing-and-Modifying-a-String-1"></span><h3 class="section">8.10 Accessing and Modifying a String</h3>

<p>You access and modify a string through its methods and properties, or by
using subscript syntax.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#String-Indices" accesskey="1">String Indices</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Inserting-and-Removing" accesskey="2">Inserting and Removing</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="String-Indices"></span><div class="header">
<p>
Next: <a href="#Inserting-and-Removing" accesskey="n" rel="next">Inserting and Removing</a>, Up: <a href="#Accessing-and-Modifying-a-String" accesskey="u" rel="up">Accessing and Modifying a String</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="String-Indices-1"></span><h4 class="subsection">8.10.1 String Indices</h4>

<p>Each &lsquo;<samp>String</samp>&rsquo; value has an associated <em>index type</em>, &lsquo;<samp>String.Index</samp>&rsquo;,
which corresponds to the position of each &lsquo;<samp>Character</samp>&rsquo; in the string.
</p>
<p>As mentioned above, different characters can require different amounts
of memory to store, so in order to determine which &lsquo;<samp>Character</samp>&rsquo; is at a
particular position, you must iterate over each Unicode scalar from the
start or end of that &lsquo;<samp>String</samp>&rsquo;. For this reason, Swift strings can&rsquo;t be
indexed by integer values.
</p>
<p>Use the &lsquo;<samp>startIndex</samp>&rsquo; property to access the position of the first
&lsquo;<samp>Character</samp>&rsquo; of a &lsquo;<samp>String</samp>&rsquo;. The &lsquo;<samp>endIndex</samp>&rsquo; property is the position after
the last character in a &lsquo;<samp>String</samp>&rsquo;. As a result, the &lsquo;<samp>endIndex</samp>&rsquo; property
isn&rsquo;t a valid argument to a string&rsquo;s subscript. If a &lsquo;<samp>String</samp>&rsquo; is empty,
&lsquo;<samp>startIndex</samp>&rsquo; and &lsquo;<samp>endIndex</samp>&rsquo; are equal.
</p>
<p>You access the indices before and after a given index using the
&lsquo;<samp>index(before:)</samp>&rsquo; and &lsquo;<samp>index(after:)</samp>&rsquo; methods of &lsquo;<samp>String</samp>&rsquo;. To access an
index farther away from the given index, you can use the
&lsquo;<samp>index(_:offsetBy:)</samp>&rsquo; method instead of calling one of these methods
multiple times.
</p>
<p>You can use subscript syntax to access the &lsquo;<samp>Character</samp>&rsquo; at a particular
&lsquo;<samp>String</samp>&rsquo; index.
</p>
<div class="example">
<pre class="example">let greeting = &quot;Guten Tag!&quot;
greeting[greeting.startIndex]
// G
greeting[greeting.index(before: greeting.endIndex)]
// !
greeting[greeting.index(after: greeting.startIndex)]
// u
let index = greeting.index(greeting.startIndex, offsetBy: 7)
greeting[index]
// a
</pre></div>

<p>Attempting to access an index outside of a string&rsquo;s range or a
&lsquo;<samp>Character</samp>&rsquo; at an index outside of a string&rsquo;s range will trigger a
runtime error.
</p>
<div class="example">
<pre class="example">greeting[greeting.endIndex] // Error
greeting.index(after: greeting.endIndex) // Error
</pre></div>

<p>Use the &lsquo;<samp>indices</samp>&rsquo; property to access all of the indices of individual
characters in a string.
</p>
<div class="example">
<pre class="example">for index in greeting.indices {
    print(&quot;\(greeting[index]) &quot;, terminator: &quot;&quot;)
}
// Prints &quot;G u t e n T a g ! &quot;
</pre></div>

<p>Note
</p>
<p>You can use the &lsquo;<samp>startIndex</samp>&rsquo; and &lsquo;<samp>endIndex</samp>&rsquo; properties and the
&lsquo;<samp>index(before:)</samp>&rsquo;, &lsquo;<samp>index(after:)</samp>&rsquo;, and &lsquo;<samp>index(_:offsetBy:)</samp>&rsquo; methods on
any type that conforms to the &lsquo;<samp>Collection</samp>&rsquo; protocol. This includes
&lsquo;<samp>String</samp>&rsquo;, as shown here, as well as collection types such as &lsquo;<samp>Array</samp>&rsquo;,
&lsquo;<samp>Dictionary</samp>&rsquo;, and &lsquo;<samp>Set</samp>&rsquo;.
</p>
<hr>
<span id="Inserting-and-Removing"></span><div class="header">
<p>
Previous: <a href="#String-Indices" accesskey="p" rel="prev">String Indices</a>, Up: <a href="#Accessing-and-Modifying-a-String" accesskey="u" rel="up">Accessing and Modifying a String</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Inserting-and-Removing-1"></span><h4 class="subsection">8.10.2 Inserting and Removing</h4>

<p>To insert a single character into a string at a specified index, use the
&lsquo;<samp>insert(_:at:)</samp>&rsquo; method, and to insert the contents of another string at
a specified index, use the &lsquo;<samp>insert(contentsOf:at:)</samp>&rsquo; method.
</p>
<div class="example">
<pre class="example">var welcome = &quot;hello&quot;
welcome.insert(&quot;!&quot;, at: welcome.endIndex)
// welcome now equals &quot;hello!&quot;

welcome.insert(contentsOf: &quot; there&quot;, at: welcome.index(before: welcome.endIndex))
// welcome now equals &quot;hello there!&quot;
</pre></div>

<p>To remove a single character from a string at a specified index, use the
&lsquo;<samp>remove(at:)</samp>&rsquo; method, and to remove a substring at a specified range,
use the &lsquo;<samp>removeSubrange(_:)</samp>&rsquo; method:
</p>
<div class="example">
<pre class="example">welcome.remove(at: welcome.index(before: welcome.endIndex))
// welcome now equals &quot;hello there&quot;

let range = welcome.index(welcome.endIndex, offsetBy: -6)..&lt;welcome.endIndex
welcome.removeSubrange(range)
// welcome now equals &quot;hello&quot;
</pre></div>

<p>Note
</p>
<p>You can use the &lsquo;<samp>insert(_:at:)</samp>&rsquo;, &lsquo;<samp>insert(contentsOf:at:)</samp>&rsquo;,
&lsquo;<samp>remove(at:)</samp>&rsquo;, and &lsquo;<samp>removeSubrange(_:)</samp>&rsquo; methods on any type that
conforms to the &lsquo;<samp>RangeReplaceableCollection</samp>&rsquo; protocol. This includes
&lsquo;<samp>String</samp>&rsquo;, as shown here, as well as collection types such as &lsquo;<samp>Array</samp>&rsquo;,
&lsquo;<samp>Dictionary</samp>&rsquo;, and &lsquo;<samp>Set</samp>&rsquo;.
</p>
<hr>
<span id="Substrings"></span><div class="header">
<p>
Next: <a href="#Comparing-Strings" accesskey="n" rel="next">Comparing Strings</a>, Previous: <a href="#Accessing-and-Modifying-a-String" accesskey="p" rel="prev">Accessing and Modifying a String</a>, Up: <a href="#Strings-and-Characters" accesskey="u" rel="up">Strings and Characters</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Substrings-1"></span><h3 class="section">8.11 Substrings</h3>

<p>When you get a substring from a string&mdash;for example, using a subscript
or a method like &lsquo;<samp>prefix(_:)</samp>&rsquo;&mdash;the result is an instance of
<a href="https://developer.apple.com/documentation/swift/substring">&lsquo;<samp>Substring</samp>&rsquo;</a>
[<a href="https://developer.apple.com/documentation/swift/substring">https://developer.apple.com/documentation/swift/substring</a>], not another
string. Substrings in Swift have most of the same methods as strings,
which means you can work with substrings the same way you work with
strings. However, unlike strings, you use substrings for only a short
amount of time while performing actions on a string. When you&rsquo;re ready
to store the result for a longer time, you convert the substring to an
instance of &lsquo;<samp>String</samp>&rsquo;. For example:
</p>
<div class="example">
<pre class="example">let greeting = &quot;Hello, world!&quot;
let index = greeting.firstIndex(of: &quot;,&quot;) ?? greeting.endIndex
let beginning = greeting[..&lt;index]
// beginning is &quot;Hello&quot;

// Convert the result to a String for long-term storage.
let newString = String(beginning)
</pre></div>

<p>Like strings, each substring has a region of memory where the characters
that make up the substring are stored. The difference between strings
and substrings is that, as a performance optimization, a substring can
reuse part of the memory that&rsquo;s used to store the original string, or
part of the memory that&rsquo;s used to store another substring. (Strings have
a similar optimization, but if two strings share memory, they are
equal.) This performance optimization means you don&rsquo;t have to pay the
performance cost of copying memory until you modify either the string or
substring. As mentioned above, substrings aren&rsquo;t suitable for long-term
storage&mdash;because they reuse the storage of the original string, the
entire original string must be kept in memory as long as any of its
substrings are being used.
</p>
<p>In the example above, &lsquo;<samp>greeting</samp>&rsquo; is a string, which means it has a
region of memory where the characters that make up the string are
stored. Because &lsquo;<samp>beginning</samp>&rsquo; is a substring of &lsquo;<samp>greeting</samp>&rsquo;, it reuses the
memory that &lsquo;<samp>greeting</samp>&rsquo; uses. In contrast, &lsquo;<samp>newString</samp>&rsquo; is a string&mdash;when
it&rsquo;s created from the substring, it has its own storage. The figure
below shows these relationships:
</p>
<img src="images/stringSubstring_2x.png" alt="images/stringSubstring_2x">

<p>Note
</p>
<p>Both &lsquo;<samp>String</samp>&rsquo; and &lsquo;<samp>Substring</samp>&rsquo; conform to the
<a href="https://developer.apple.com/documentation/swift/stringprotocol">&lsquo;<samp>StringProtocol</samp>&rsquo;</a>
[<a href="https://developer.apple.com/documentation/swift/stringprotocol">https://developer.apple.com/documentation/swift/stringprotocol</a>]
protocol, which means it&rsquo;s often convenient for string-manipulation
functions to accept a &lsquo;<samp>StringProtocol</samp>&rsquo; value. You can call such
functions with either a &lsquo;<samp>String</samp>&rsquo; or &lsquo;<samp>Substring</samp>&rsquo; value.
</p>
<hr>
<span id="Comparing-Strings"></span><div class="header">
<p>
Next: <a href="#Unicode-Representations-of-Strings" accesskey="n" rel="next">Unicode Representations of Strings</a>, Previous: <a href="#Substrings" accesskey="p" rel="prev">Substrings</a>, Up: <a href="#Strings-and-Characters" accesskey="u" rel="up">Strings and Characters</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Comparing-Strings-1"></span><h3 class="section">8.12 Comparing Strings</h3>

<p>Swift provides three ways to compare textual values: string and
character equality, prefix equality, and suffix equality.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#String-and-Character-Equality" accesskey="1">String and Character Equality</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Prefix-and-Suffix-Equality" accesskey="2">Prefix and Suffix Equality</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="String-and-Character-Equality"></span><div class="header">
<p>
Next: <a href="#Prefix-and-Suffix-Equality" accesskey="n" rel="next">Prefix and Suffix Equality</a>, Up: <a href="#Comparing-Strings" accesskey="u" rel="up">Comparing Strings</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="String-and-Character-Equality-1"></span><h4 class="subsection">8.12.1 String and Character Equality</h4>

<p>String and character equality is checked with the “equal to” operator
(&lsquo;<samp>==</samp>&rsquo;) and the “not equal to” operator (&lsquo;<samp>!=</samp>&rsquo;), as described in
<a href="#Comparison-Operators">Comparison Operators</a>:
</p>
<div class="example">
<pre class="example">let quotation = &quot;We're a lot alike, you and I.&quot;
let sameQuotation = &quot;We're a lot alike, you and I.&quot;
if quotation == sameQuotation {
    print(&quot;These two strings are considered equal&quot;)
}
// Prints &quot;These two strings are considered equal&quot;
</pre></div>

<p>Two &lsquo;<samp>String</samp>&rsquo; values (or two &lsquo;<samp>Character</samp>&rsquo; values) are considered equal if
their extended grapheme clusters are <em>canonically equivalent</em>. Extended
grapheme clusters are canonically equivalent if they have the same
linguistic meaning and appearance, even if they&rsquo;re composed from
different Unicode scalars behind the scenes.
</p>
<p>For example, &lsquo;<samp>LATIN SMALL LETTER E WITH ACUTE</samp>&rsquo; (&lsquo;<samp>U+00E9</samp>&rsquo;) is canonically
equivalent to &lsquo;<samp>LATIN SMALL LETTER E</samp>&rsquo; (&lsquo;<samp>U+0065</samp>&rsquo;) followed by
&lsquo;<samp>COMBINING ACUTE ACCENT</samp>&rsquo; (&lsquo;<samp>U+0301</samp>&rsquo;). Both of these extended grapheme
clusters are valid ways to represent the character &lsquo;<samp>é</samp>&rsquo;, and so they&rsquo;re
considered to be canonically equivalent:
</p>
<div class="example">
<pre class="example">// &quot;Voulez-vous un café?&quot; using LATIN SMALL LETTER E WITH ACUTE
let eAcuteQuestion = &quot;Voulez-vous un caf\u{E9}?&quot;

// &quot;Voulez-vous un café?&quot; using LATIN SMALL LETTER E and COMBINING ACUTE ACCENT
let combinedEAcuteQuestion = &quot;Voulez-vous un caf\u{65}\u{301}?&quot;

if eAcuteQuestion == combinedEAcuteQuestion {
    print(&quot;These two strings are considered equal&quot;)
}
// Prints &quot;These two strings are considered equal&quot;
</pre></div>

<p>Conversely, &lsquo;<samp>LATIN CAPITAL LETTER A</samp>&rsquo; (&lsquo;<samp>U+0041</samp>&rsquo;, or &lsquo;<samp>&quot;A&quot;</samp>&rsquo;), as used in
English, is <em>not</em> equivalent to &lsquo;<samp>CYRILLIC CAPITAL LETTER A</samp>&rsquo; (&lsquo;<samp>U+0410</samp>&rsquo;,
or &lsquo;<samp>&quot;А&quot;</samp>&rsquo;), as used in Russian. The characters are visually similar, but
don&rsquo;t have the same linguistic meaning:
</p>
<div class="example">
<pre class="example">let latinCapitalLetterA: Character = &quot;\u{41}&quot;

let cyrillicCapitalLetterA: Character = &quot;\u{0410}&quot;

if latinCapitalLetterA != cyrillicCapitalLetterA {
    print(&quot;These two characters are not equivalent.&quot;)
}
// Prints &quot;These two characters are not equivalent.&quot;
</pre></div>

<p>Note
</p>
<p>String and character comparisons in Swift are not locale-sensitive.
</p>
<hr>
<span id="Prefix-and-Suffix-Equality"></span><div class="header">
<p>
Previous: <a href="#String-and-Character-Equality" accesskey="p" rel="prev">String and Character Equality</a>, Up: <a href="#Comparing-Strings" accesskey="u" rel="up">Comparing Strings</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Prefix-and-Suffix-Equality-1"></span><h4 class="subsection">8.12.2 Prefix and Suffix Equality</h4>

<p>To check whether a string has a particular string prefix or suffix, call
the string&rsquo;s &lsquo;<samp>hasPrefix(_:)</samp>&rsquo; and &lsquo;<samp>hasSuffix(_:)</samp>&rsquo; methods, both of which
take a single argument of type &lsquo;<samp>String</samp>&rsquo; and return a Boolean value.
</p>
<p>The examples below consider an array of strings representing the scene
locations from the first two acts of Shakespeare&rsquo;s <em>Romeo and Juliet</em>:
</p>
<div class="example">
<pre class="example">let romeoAndJuliet = [
  &quot;Act 1 Scene 1: Verona, A public place&quot;,
  &quot;Act 1 Scene 2: Capulet's mansion&quot;,
  &quot;Act 1 Scene 3: A room in Capulet's mansion&quot;,
  &quot;Act 1 Scene 4: A street outside Capulet's mansion&quot;,
  &quot;Act 1 Scene 5: The Great Hall in Capulet's mansion&quot;,
  &quot;Act 2 Scene 1: Outside Capulet's mansion&quot;,
  &quot;Act 2 Scene 2: Capulet's orchard&quot;,
  &quot;Act 2 Scene 3: Outside Friar Lawrence's cell&quot;,
  &quot;Act 2 Scene 4: A street in Verona&quot;,
  &quot;Act 2 Scene 5: Capulet's mansion&quot;,
  &quot;Act 2 Scene 6: Friar Lawrence's cell&quot;
]
</pre></div>

<p>You can use the &lsquo;<samp>hasPrefix(_:)</samp>&rsquo; method with the &lsquo;<samp>romeoAndJuliet</samp>&rsquo; array
to count the number of scenes in Act 1 of the play:
</p>
<div class="example">
<pre class="example">var act1SceneCount = 0
for scene in romeoAndJuliet {
    if scene.hasPrefix(&quot;Act 1 &quot;) {
        act1SceneCount += 1
    }
}
print(&quot;There are \(act1SceneCount) scenes in Act 1&quot;)
// Prints &quot;There are 5 scenes in Act 1&quot;
</pre></div>

<p>Similarly, use the &lsquo;<samp>hasSuffix(_:)</samp>&rsquo; method to count the number of scenes
that take place in or around Capulet&rsquo;s mansion and Friar Lawrence&rsquo;s
cell:
</p>
<div class="example">
<pre class="example">var mansionCount = 0
var cellCount = 0
for scene in romeoAndJuliet {
    if scene.hasSuffix(&quot;Capulet's mansion&quot;) {
        mansionCount += 1
    } else if scene.hasSuffix(&quot;Friar Lawrence's cell&quot;) {
        cellCount += 1
    }
}
print(&quot;\(mansionCount) mansion scenes; \(cellCount) cell scenes&quot;)
// Prints &quot;6 mansion scenes; 2 cell scenes&quot;
</pre></div>

<p>Note
</p>
<p>The &lsquo;<samp>hasPrefix(_:)</samp>&rsquo; and &lsquo;<samp>hasSuffix(_:)</samp>&rsquo; methods perform a
character-by-character canonical equivalence comparison between the
extended grapheme clusters in each string, as described in
<a href="#String-and-Character-Equality">String and Character Equality</a>.
</p>
<hr>
<span id="Unicode-Representations-of-Strings"></span><div class="header">
<p>
Previous: <a href="#Comparing-Strings" accesskey="p" rel="prev">Comparing Strings</a>, Up: <a href="#Strings-and-Characters" accesskey="u" rel="up">Strings and Characters</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Unicode-Representations-of-Strings-1"></span><h3 class="section">8.13 Unicode Representations of Strings</h3>

<p>When a Unicode string is written to a text file or some other storage,
the Unicode scalars in that string are encoded in one of several
Unicode-defined <em>encoding forms</em>. Each form encodes the string in small
chunks known as <em>code units</em>. These include the UTF-8 encoding form
(which encodes a string as 8-bit code units), the UTF-16 encoding form
(which encodes a string as 16-bit code units), and the UTF-32 encoding
form (which encodes a string as 32-bit code units).
</p>
<p>Swift provides several different ways to access Unicode representations
of strings. You can iterate over the string with a &lsquo;<samp>for</samp>&rsquo;-&lsquo;<samp>in</samp>&rsquo; statement,
to access its individual &lsquo;<samp>Character</samp>&rsquo; values as Unicode extended grapheme
clusters. This process is described in
<a href="#Working-with-Characters">Working with Characters</a>.
</p>
<p>Alternatively, access a &lsquo;<samp>String</samp>&rsquo; value in one of three other
Unicode-compliant representations:
</p>
<ul>
<li> A collection of UTF-8 code units (accessed with the string&rsquo;s &lsquo;<samp>utf8</samp>&rsquo;
property)

</li><li> A collection of UTF-16 code units (accessed with the string&rsquo;s &lsquo;<samp>utf16</samp>&rsquo;
property)

</li><li> A collection of 21-bit Unicode scalar values, equivalent to the
string&rsquo;s UTF-32 encoding form (accessed with the string&rsquo;s
&lsquo;<samp>unicodeScalars</samp>&rsquo; property)
</li></ul>

<p>Each example below shows a different representation of the following
string, which is made up of the characters &lsquo;<samp>D</samp>&rsquo;, &lsquo;<samp>o</samp>&rsquo;, &lsquo;<samp>g</samp>&rsquo;, &lsquo;<samp>‼</samp>&rsquo;
(&lsquo;<samp>DOUBLE EXCLAMATION MARK</samp>&rsquo;, or Unicode scalar &lsquo;<samp>U+203C</samp>&rsquo;), and the 🐶
character (&lsquo;<samp>DOG FACE</samp>&rsquo;, or Unicode scalar &lsquo;<samp>U+1F436</samp>&rsquo;):
</p>
<div class="example">
<pre class="example">let dogString = &quot;Dog‼🐶&quot;
</pre></div>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#UTF_002d8-Representation" accesskey="1">UTF-8 Representation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#UTF_002d16-Representation" accesskey="2">UTF-16 Representation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Unicode-Scalar-Representation" accesskey="3">Unicode Scalar Representation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="UTF_002d8-Representation"></span><div class="header">
<p>
Next: <a href="#UTF_002d16-Representation" accesskey="n" rel="next">UTF-16 Representation</a>, Up: <a href="#Unicode-Representations-of-Strings" accesskey="u" rel="up">Unicode Representations of Strings</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="UTF_002d8-Representation-1"></span><h4 class="subsection">8.13.1 UTF-8 Representation</h4>

<p>You can access a UTF-8 representation of a &lsquo;<samp>String</samp>&rsquo; by iterating over
its &lsquo;<samp>utf8</samp>&rsquo; property. This property is of type &lsquo;<samp>String.UTF8View</samp>&rsquo;, which
is a collection of unsigned 8-bit (&lsquo;<samp>UInt8</samp>&rsquo;) values, one for each byte in
the string&rsquo;s UTF-8 representation:
</p>
<img src="images/UTF8_2x.png" alt="images/UTF8_2x">

<div class="example">
<pre class="example">for codeUnit in dogString.utf8 {
    print(&quot;\(codeUnit) &quot;, terminator: &quot;&quot;)
}
print(&quot;&quot;)
// Prints &quot;68 111 103 226 128 188 240 159 144 182 &quot;
</pre></div>

<p>In the example above, the first three decimal &lsquo;<samp>codeUnit</samp>&rsquo; values (&lsquo;<samp>68</samp>&rsquo;,
&lsquo;<samp>111</samp>&rsquo;, &lsquo;<samp>103</samp>&rsquo;) represent the characters &lsquo;<samp>D</samp>&rsquo;, &lsquo;<samp>o</samp>&rsquo;, and &lsquo;<samp>g</samp>&rsquo;, whose UTF-8
representation is the same as their ASCII representation. The next three
decimal &lsquo;<samp>codeUnit</samp>&rsquo; values (&lsquo;<samp>226</samp>&rsquo;, &lsquo;<samp>128</samp>&rsquo;, &lsquo;<samp>188</samp>&rsquo;) are a three-byte UTF-8
representation of the &lsquo;<samp>DOUBLE EXCLAMATION MARK</samp>&rsquo; character. The last four
&lsquo;<samp>codeUnit</samp>&rsquo; values (&lsquo;<samp>240</samp>&rsquo;, &lsquo;<samp>159</samp>&rsquo;, &lsquo;<samp>144</samp>&rsquo;, &lsquo;<samp>182</samp>&rsquo;) are a four-byte UTF-8
representation of the &lsquo;<samp>DOG FACE</samp>&rsquo; character.
</p>
<hr>
<span id="UTF_002d16-Representation"></span><div class="header">
<p>
Next: <a href="#Unicode-Scalar-Representation" accesskey="n" rel="next">Unicode Scalar Representation</a>, Previous: <a href="#UTF_002d8-Representation" accesskey="p" rel="prev">UTF-8 Representation</a>, Up: <a href="#Unicode-Representations-of-Strings" accesskey="u" rel="up">Unicode Representations of Strings</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="UTF_002d16-Representation-1"></span><h4 class="subsection">8.13.2 UTF-16 Representation</h4>

<p>You can access a UTF-16 representation of a &lsquo;<samp>String</samp>&rsquo; by iterating over
its &lsquo;<samp>utf16</samp>&rsquo; property. This property is of type &lsquo;<samp>String.UTF16View</samp>&rsquo;, which
is a collection of unsigned 16-bit (&lsquo;<samp>UInt16</samp>&rsquo;) values, one for each
16-bit code unit in the string&rsquo;s UTF-16 representation:
</p>
<img src="images/UTF16_2x.png" alt="images/UTF16_2x">

<div class="example">
<pre class="example">for codeUnit in dogString.utf16 {
    print(&quot;\(codeUnit) &quot;, terminator: &quot;&quot;)
}
print(&quot;&quot;)
// Prints &quot;68 111 103 8252 55357 56374 &quot;
</pre></div>

<p>Again, the first three &lsquo;<samp>codeUnit</samp>&rsquo; values (&lsquo;<samp>68</samp>&rsquo;, &lsquo;<samp>111</samp>&rsquo;, &lsquo;<samp>103</samp>&rsquo;) represent
the characters &lsquo;<samp>D</samp>&rsquo;, &lsquo;<samp>o</samp>&rsquo;, and &lsquo;<samp>g</samp>&rsquo;, whose UTF-16 code units have the same
values as in the string&rsquo;s UTF-8 representation (because these Unicode
scalars represent ASCII characters).
</p>
<p>The fourth &lsquo;<samp>codeUnit</samp>&rsquo; value (&lsquo;<samp>8252</samp>&rsquo;) is a decimal equivalent of the
hexadecimal value &lsquo;<samp>203C</samp>&rsquo;, which represents the Unicode scalar &lsquo;<samp>U+203C</samp>&rsquo;
for the &lsquo;<samp>DOUBLE EXCLAMATION MARK</samp>&rsquo; character. This character can be
represented as a single code unit in UTF-16.
</p>
<p>The fifth and sixth &lsquo;<samp>codeUnit</samp>&rsquo; values (&lsquo;<samp>55357</samp>&rsquo; and &lsquo;<samp>56374</samp>&rsquo;) are a UTF-16
surrogate pair representation of the &lsquo;<samp>DOG FACE</samp>&rsquo; character. These values
are a high-surrogate value of &lsquo;<samp>U+D83D</samp>&rsquo; (decimal value &lsquo;<samp>55357</samp>&rsquo;) and a
low-surrogate value of &lsquo;<samp>U+DC36</samp>&rsquo; (decimal value &lsquo;<samp>56374</samp>&rsquo;).
</p>
<hr>
<span id="Unicode-Scalar-Representation"></span><div class="header">
<p>
Previous: <a href="#UTF_002d16-Representation" accesskey="p" rel="prev">UTF-16 Representation</a>, Up: <a href="#Unicode-Representations-of-Strings" accesskey="u" rel="up">Unicode Representations of Strings</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Unicode-Scalar-Representation-1"></span><h4 class="subsection">8.13.3 Unicode Scalar Representation</h4>

<p>You can access a Unicode scalar representation of a &lsquo;<samp>String</samp>&rsquo; value by
iterating over its &lsquo;<samp>unicodeScalars</samp>&rsquo; property. This property is of type
&lsquo;<samp>UnicodeScalarView</samp>&rsquo;, which is a collection of values of type
&lsquo;<samp>UnicodeScalar</samp>&rsquo;.
</p>
<p>Each &lsquo;<samp>UnicodeScalar</samp>&rsquo; has a &lsquo;<samp>value</samp>&rsquo; property that returns the scalar&rsquo;s
21-bit value, represented within a &lsquo;<samp>UInt32</samp>&rsquo; value:
</p>
<img src="images/UnicodeScalar_2x.png" alt="images/UnicodeScalar_2x">

<div class="example">
<pre class="example">for scalar in dogString.unicodeScalars {
    print(&quot;\(scalar.value) &quot;, terminator: &quot;&quot;)
}
print(&quot;&quot;)
// Prints &quot;68 111 103 8252 128054 &quot;
</pre></div>

<p>The &lsquo;<samp>value</samp>&rsquo; properties for the first three &lsquo;<samp>UnicodeScalar</samp>&rsquo; values (&lsquo;<samp>68</samp>&rsquo;,
&lsquo;<samp>111</samp>&rsquo;, &lsquo;<samp>103</samp>&rsquo;) once again represent the characters &lsquo;<samp>D</samp>&rsquo;, &lsquo;<samp>o</samp>&rsquo;, and &lsquo;<samp>g</samp>&rsquo;.
</p>
<p>The fourth &lsquo;<samp>codeUnit</samp>&rsquo; value (&lsquo;<samp>8252</samp>&rsquo;) is again a decimal equivalent of
the hexadecimal value &lsquo;<samp>203C</samp>&rsquo;, which represents the Unicode scalar
&lsquo;<samp>U+203C</samp>&rsquo; for the &lsquo;<samp>DOUBLE EXCLAMATION MARK</samp>&rsquo; character.
</p>
<p>The &lsquo;<samp>value</samp>&rsquo; property of the fifth and final &lsquo;<samp>UnicodeScalar</samp>&rsquo;, &lsquo;<samp>128054</samp>&rsquo;,
is a decimal equivalent of the hexadecimal value &lsquo;<samp>1F436</samp>&rsquo;, which
represents the Unicode scalar &lsquo;<samp>U+1F436</samp>&rsquo; for the &lsquo;<samp>DOG FACE</samp>&rsquo; character.
</p>
<p>As an alternative to querying their &lsquo;<samp>value</samp>&rsquo; properties, each
&lsquo;<samp>UnicodeScalar</samp>&rsquo; value can also be used to construct a new &lsquo;<samp>String</samp>&rsquo;
value, such as with string interpolation:
</p>
<div class="example">
<pre class="example">for scalar in dogString.unicodeScalars {
    print(&quot;\(scalar) &quot;)
}
// D
// o
// g
// ‼
// 🐶
</pre></div>

<hr>
<span id="Collection-Types"></span><div class="header">
<p>
Next: <a href="#Control-Flow-1" accesskey="n" rel="next">Control Flow 1</a>, Previous: <a href="#Strings-and-Characters" accesskey="p" rel="prev">Strings and Characters</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Collection-Types-1"></span><h2 class="chapter">9 Collection Types</h2>

<p>Swift provides three primary <em>collection types</em>, known as arrays, sets,
and dictionaries, for storing collections of values. Arrays are ordered
collections of values. Sets are unordered collections of unique values.
Dictionaries are unordered collections of key-value associations.
</p>
<img src="images/CollectionTypes_intro_2x.png" alt="images/CollectionTypes_intro_2x">
<p>Arrays, sets, and dictionaries in Swift are always clear about the types
of values and keys that they can store. This means that you cannot
insert a value of the wrong type into a collection by mistake. It also
means you can be confident about the type of values you will retrieve
from a collection.
</p>
<p>Note
</p>
<p>Swift&rsquo;s array, set, and dictionary types are implemented as <em>generic
collections</em>. For more about generic types and collections, see
<a href="#Generics">Generics</a>.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Mutability-of-Collections" accesskey="1">Mutability of Collections</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Arrays" accesskey="2">Arrays</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Sets" accesskey="3">Sets</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Performing-Set-Operations" accesskey="4">Performing Set Operations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Dictionaries" accesskey="5">Dictionaries</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Mutability-of-Collections"></span><div class="header">
<p>
Next: <a href="#Arrays" accesskey="n" rel="next">Arrays</a>, Up: <a href="#Collection-Types" accesskey="u" rel="up">Collection Types</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Mutability-of-Collections-1"></span><h3 class="section">9.1 Mutability of Collections</h3>

<p>If you create an array, a set, or a dictionary, and assign it to a
variable, the collection that is created will be <em>mutable</em>. This means
that you can change (or <em>mutate</em>) the collection after it&rsquo;s created by
adding, removing, or changing items in the collection. If you assign an
array, a set, or a dictionary to a constant, that collection is
<em>immutable</em>, and its size and contents cannot be changed.
</p>
<p>Note
</p>
<p>It is good practice to create immutable collections in all cases where
the collection does not need to change. Doing so makes it easier for you
to reason about your code and enables the Swift compiler to optimize the
performance of the collections you create.
</p>
<hr>
<span id="Arrays"></span><div class="header">
<p>
Next: <a href="#Sets" accesskey="n" rel="next">Sets</a>, Previous: <a href="#Mutability-of-Collections" accesskey="p" rel="prev">Mutability of Collections</a>, Up: <a href="#Collection-Types" accesskey="u" rel="up">Collection Types</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Arrays-1"></span><h3 class="section">9.2 Arrays</h3>

<p>An <em>array</em> stores values of the same type in an ordered list. The same
value can appear in an array multiple times at different positions.
</p>
<p>Note
</p>
<p>Swift&rsquo;s &lsquo;<samp>Array</samp>&rsquo; type is bridged to Foundation&rsquo;s &lsquo;<samp>NSArray</samp>&rsquo; class.
</p>
<p>For more information about using &lsquo;<samp>Array</samp>&rsquo; with Foundation and Cocoa, see
<a href="https://developer.apple.com/documentation/swift/array#2846730">Bridging
Between Array and NSArray</a>
[<a href="https://developer.apple.com/documentation/swift/array#2846730">https://developer.apple.com/documentation/swift/array#2846730</a>].
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Array-Type-Shorthand-Syntax" accesskey="1">Array Type Shorthand Syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Creating-an-Empty-Array" accesskey="2">Creating an Empty Array</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Creating-an-Array-with-a-Default-Value" accesskey="3">Creating an Array with a Default Value</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Creating-an-Array-by-Adding-Two-Arrays-Together" accesskey="4">Creating an Array by Adding Two Arrays Together</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Creating-an-Array-with-an-Array-Literal" accesskey="5">Creating an Array with an Array Literal</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Accessing-and-Modifying-an-Array" accesskey="6">Accessing and Modifying an Array</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Iterating-Over-an-Array" accesskey="7">Iterating Over an Array</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Array-Type-Shorthand-Syntax"></span><div class="header">
<p>
Next: <a href="#Creating-an-Empty-Array" accesskey="n" rel="next">Creating an Empty Array</a>, Up: <a href="#Arrays" accesskey="u" rel="up">Arrays</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Array-Type-Shorthand-Syntax-1"></span><h4 class="subsection">9.2.1 Array Type Shorthand Syntax</h4>

<span id="index-syntactic-sugar-to-declare-an-array"></span>

<p>The type of a Swift array is written in full as &lsquo;<samp>Array&lt;Element&gt;</samp>&rsquo;, where
&lsquo;<samp>Element</samp>&rsquo; is the type of values the array is allowed to store. You can
also write the type of an array in shorthand form as &lsquo;<samp>[Element]</samp>&rsquo;.
Although the two forms are functionally identical, the shorthand form is
preferred and is used throughout this guide when referring to the type
of an array.
</p>
<hr>
<span id="Creating-an-Empty-Array"></span><div class="header">
<p>
Next: <a href="#Creating-an-Array-with-a-Default-Value" accesskey="n" rel="next">Creating an Array with a Default Value</a>, Previous: <a href="#Array-Type-Shorthand-Syntax" accesskey="p" rel="prev">Array Type Shorthand Syntax</a>, Up: <a href="#Arrays" accesskey="u" rel="up">Arrays</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Creating-an-Empty-Array-1"></span><h4 class="subsection">9.2.2 Creating an Empty Array</h4>

<p>You can create an empty array of a certain type using initializer
syntax:
</p>
<div class="example">
<pre class="example">var someInts = [Int]()
print(&quot;someInts is of type [Int] with \(someInts.count) items.&quot;)
// Prints &quot;someInts is of type [Int] with 0 items.&quot;
</pre></div>

<p>Note that the type of the &lsquo;<samp>someInts</samp>&rsquo; variable is inferred to be &lsquo;<samp>[Int]</samp>&rsquo;
from the type of the initializer.
</p>
<p>Alternatively, if the context already provides type information, such as
a function argument or an already typed variable or constant, you can
create an empty array with an empty array literal, which is written as
&lsquo;<samp>[]</samp>&rsquo; (an empty pair of square brackets):
</p>
<div class="example">
<pre class="example">someInts.append(3)
// someInts now contains 1 value of type Int
someInts = []
// someInts is now an empty array, but is still of type [Int]
</pre></div>

<hr>
<span id="Creating-an-Array-with-a-Default-Value"></span><div class="header">
<p>
Next: <a href="#Creating-an-Array-by-Adding-Two-Arrays-Together" accesskey="n" rel="next">Creating an Array by Adding Two Arrays Together</a>, Previous: <a href="#Creating-an-Empty-Array" accesskey="p" rel="prev">Creating an Empty Array</a>, Up: <a href="#Arrays" accesskey="u" rel="up">Arrays</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Creating-an-Array-with-a-Default-Value-1"></span><h4 class="subsection">9.2.3 Creating an Array with a Default Value</h4>

<p>Swift&rsquo;s &lsquo;<samp>Array</samp>&rsquo; type also provides an initializer for creating an array
of a certain size with all of its values set to the same default value.
You pass this initializer a default value of the appropriate type
(called &lsquo;<samp>repeating</samp>&rsquo;): and the number of times that value is repeated in
the new array (called &lsquo;<samp>count</samp>&rsquo;):
</p>
<div class="example">
<pre class="example">var threeDoubles = Array(repeating: 0.0, count: 3)
// threeDoubles is of type [Double], and equals [0.0, 0.0, 0.0]
</pre></div>

<hr>
<span id="Creating-an-Array-by-Adding-Two-Arrays-Together"></span><div class="header">
<p>
Next: <a href="#Creating-an-Array-with-an-Array-Literal" accesskey="n" rel="next">Creating an Array with an Array Literal</a>, Previous: <a href="#Creating-an-Array-with-a-Default-Value" accesskey="p" rel="prev">Creating an Array with a Default Value</a>, Up: <a href="#Arrays" accesskey="u" rel="up">Arrays</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Creating-an-Array-by-Adding-Two-Arrays-Together-1"></span><h4 class="subsection">9.2.4 Creating an Array by Adding Two Arrays Together</h4>

<p>You can create a new array by adding together two existing arrays with
compatible types with the addition operator (&lsquo;<samp>+</samp>&rsquo;). The new array&rsquo;s type
is inferred from the type of the two arrays you add together:
</p>
<div class="example">
<pre class="example">var anotherThreeDoubles = Array(repeating: 2.5, count: 3)
// anotherThreeDoubles is of type [Double], and equals [2.5, 2.5, 2.5]

var sixDoubles = threeDoubles + anotherThreeDoubles
// sixDoubles is inferred as [Double], and equals [0.0, 0.0, 0.0, 2.5, 2.5, 2.5]
</pre></div>

<hr>
<span id="Creating-an-Array-with-an-Array-Literal"></span><div class="header">
<p>
Next: <a href="#Accessing-and-Modifying-an-Array" accesskey="n" rel="next">Accessing and Modifying an Array</a>, Previous: <a href="#Creating-an-Array-by-Adding-Two-Arrays-Together" accesskey="p" rel="prev">Creating an Array by Adding Two Arrays Together</a>, Up: <a href="#Arrays" accesskey="u" rel="up">Arrays</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Creating-an-Array-with-an-Array-Literal-1"></span><h4 class="subsection">9.2.5 Creating an Array with an Array Literal</h4>

<p>You can also initialize an array with an <em>array literal</em>, which is a
shorthand way to write one or more values as an array collection. An
array literal is written as a list of values, separated by commas,
surrounded by a pair of square brackets:
</p>
<div class="example">
<pre class="example">[value 1, value 2, value 3]
</pre></div>

<p>The example below creates an array called &lsquo;<samp>shoppingList</samp>&rsquo; to store
&lsquo;<samp>String</samp>&rsquo; values:
</p>
<div class="example">
<pre class="example">var shoppingList: [String] = [&quot;Eggs&quot;, &quot;Milk&quot;]
// shoppingList has been initialized with two initial items
</pre></div>

<p>The &lsquo;<samp>shoppingList</samp>&rsquo; variable is declared as “an array of string values”,
written as &lsquo;<samp>[String]</samp>&rsquo;. Because this particular array has specified a
value type of &lsquo;<samp>String</samp>&rsquo;, it is allowed to store &lsquo;<samp>String</samp>&rsquo; values only.
Here, the &lsquo;<samp>shoppingList</samp>&rsquo; array is initialized with two &lsquo;<samp>String</samp>&rsquo; values
(&lsquo;<samp>&quot;Eggs&quot;</samp>&rsquo; and &lsquo;<samp>&quot;Milk&quot;</samp>&rsquo;), written within an array literal.
</p>
<p>Note
</p>
<p>The &lsquo;<samp>shoppingList</samp>&rsquo; array is declared as a variable (with the &lsquo;<samp>var</samp>&rsquo;
introducer) and not a constant (with the &lsquo;<samp>let</samp>&rsquo; introducer) because more
items are added to the shopping list in the examples below.
</p>
<p>In this case, the array literal contains two &lsquo;<samp>String</samp>&rsquo; values and nothing
else. This matches the type of the &lsquo;<samp>shoppingList</samp>&rsquo; variable&rsquo;s declaration
(an array that can only contain &lsquo;<samp>String</samp>&rsquo; values), and so the assignment
of the array literal is permitted as a way to initialize &lsquo;<samp>shoppingList</samp>&rsquo;
with two initial items.
</p>
<p>Thanks to Swift&rsquo;s type inference, you don&rsquo;t have to write the type of
the array if you&rsquo;re initializing it with an array literal containing
values of the same type. The initialization of &lsquo;<samp>shoppingList</samp>&rsquo; could have
been written in a shorter form instead:
</p>
<div class="example">
<pre class="example">var shoppingList = [&quot;Eggs&quot;, &quot;Milk&quot;]
</pre></div>

<p>Because all values in the array literal are of the same type, Swift can
infer that &lsquo;<samp>[String]</samp>&rsquo; is the correct type to use for the &lsquo;<samp>shoppingList</samp>&rsquo;
variable.
</p>
<hr>
<span id="Accessing-and-Modifying-an-Array"></span><div class="header">
<p>
Next: <a href="#Iterating-Over-an-Array" accesskey="n" rel="next">Iterating Over an Array</a>, Previous: <a href="#Creating-an-Array-with-an-Array-Literal" accesskey="p" rel="prev">Creating an Array with an Array Literal</a>, Up: <a href="#Arrays" accesskey="u" rel="up">Arrays</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Accessing-and-Modifying-an-Array-1"></span><h4 class="subsection">9.2.6 Accessing and Modifying an Array</h4>

<p>You access and modify an array through its methods and properties, or by
using subscript syntax.
</p>
<p>To find out the number of items in an array, check its read-only &lsquo;<samp>count</samp>&rsquo;
property:
</p>
<div class="example">
<pre class="example">print(&quot;The shopping list contains \(shoppingList.count) items.&quot;)
// Prints &quot;The shopping list contains 2 items.&quot;
</pre></div>

<p>Use the Boolean &lsquo;<samp>isEmpty</samp>&rsquo; property as a shortcut for checking whether
the &lsquo;<samp>count</samp>&rsquo; property is equal to &lsquo;<samp>0</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">if shoppingList.isEmpty {
    print(&quot;The shopping list is empty.&quot;)
} else {
    print(&quot;The shopping list is not empty.&quot;)
}
// Prints &quot;The shopping list is not empty.&quot;
</pre></div>

<p>You can add a new item to the end of an array by calling the array&rsquo;s
&lsquo;<samp>append(_:)</samp>&rsquo; method:
</p>
<div class="example">
<pre class="example">shoppingList.append(&quot;Flour&quot;)
// shoppingList now contains 3 items, and someone is making pancakes
</pre></div>

<p>Alternatively, append an array of one or more compatible items with the
addition assignment operator (&lsquo;<samp>+=</samp>&rsquo;):
</p>
<div class="example">
<pre class="example">shoppingList += [&quot;Baking Powder&quot;]
// shoppingList now contains 4 items
shoppingList += [&quot;Chocolate Spread&quot;, &quot;Cheese&quot;, &quot;Butter&quot;]
// shoppingList now contains 7 items
</pre></div>

<p>Retrieve a value from the array by using <em>subscript syntax</em>, passing the
index of the value you want to retrieve within square brackets
immediately after the name of the array:
</p>
<div class="example">
<pre class="example">var firstItem = shoppingList[0]
// firstItem is equal to &quot;Eggs&quot;
</pre></div>

<p>Note
</p>
<p>The first item in the array has an index of &lsquo;<samp>0</samp>&rsquo;, not &lsquo;<samp>1</samp>&rsquo;. Arrays in
Swift are always zero-indexed.
</p>
<p>You can use subscript syntax to change an existing value at a given
index:
</p>
<div class="example">
<pre class="example">shoppingList[0] = &quot;Six eggs&quot;
// the first item in the list is now equal to &quot;Six eggs&quot; rather than &quot;Eggs&quot;
</pre></div>

<p>When you use subscript syntax, the index you specify needs to be valid.
For example, writing &lsquo;<samp>shoppingList[shoppingList.count] = &quot;Salt&quot;</samp>&rsquo; to try
to append an item to the end of the array results in a runtime error.
</p>
<p>You can also use subscript syntax to change a range of values at once,
even if the replacement set of values has a different length than the
range you are replacing. The following example replaces
&lsquo;<samp>&quot;Chocolate Spread&quot;</samp>&rsquo;, &lsquo;<samp>&quot;Cheese&quot;</samp>&rsquo;, and &lsquo;<samp>&quot;Butter&quot;</samp>&rsquo; with &lsquo;<samp>&quot;Bananas&quot;</samp>&rsquo; and
&lsquo;<samp>&quot;Apples&quot;</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">shoppingList[4...6] = [&quot;Bananas&quot;, &quot;Apples&quot;]
// shoppingList now contains 6 items
</pre></div>

<p>To insert an item into the array at a specified index, call the array&rsquo;s
&lsquo;<samp>insert(_:at:)</samp>&rsquo; method:
</p>
<div class="example">
<pre class="example">shoppingList.insert(&quot;Maple Syrup&quot;, at: 0)
 // shoppingList now contains 7 items
// &quot;Maple Syrup&quot; is now the first item in the list
</pre></div>

<p>This call to the &lsquo;<samp>insert(_:at:)</samp>&rsquo; method inserts a new item with a value
of &lsquo;<samp>&quot;Maple Syrup&quot;</samp>&rsquo; at the very beginning of the shopping list, indicated
by an index of &lsquo;<samp>0</samp>&rsquo;.
</p>
<p>Similarly, you remove an item from the array with the &lsquo;<samp>remove(at:)</samp>&rsquo;
method. This method removes the item at the specified index and returns
the removed item (although you can ignore the returned value if you do
not need it):
</p>
<div class="example">
<pre class="example">let mapleSyrup = shoppingList.remove(at: 0)
// the item that was at index 0 has just been removed
// shoppingList now contains 6 items, and no Maple Syrup
// the mapleSyrup constant is now equal to the removed &quot;Maple Syrup&quot; string
</pre></div>

<p>Note
</p>
<p>If you try to access or modify a value for an index that is outside of
an array&rsquo;s existing bounds, you will trigger a runtime error. You can
check that an index is valid before using it by comparing it to the
array&rsquo;s &lsquo;<samp>count</samp>&rsquo; property. The largest valid index in an array is
&lsquo;<samp>count - 1</samp>&rsquo; because arrays are indexed from zero&mdash;however, when &lsquo;<samp>count</samp>&rsquo;
is &lsquo;<samp>0</samp>&rsquo; (meaning the array is empty), there are no valid indexes.
</p>
<p>Any gaps in an array are closed when an item is removed, and so the
value at index &lsquo;<samp>0</samp>&rsquo; is once again equal to &lsquo;<samp>&quot;Six eggs&quot;</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">firstItem = shoppingList[0]
// firstItem is now equal to &quot;Six eggs&quot;
</pre></div>

<p>If you want to remove the final item from an array, use the
&lsquo;<samp>removeLast()</samp>&rsquo; method rather than the &lsquo;<samp>remove(at:)</samp>&rsquo; method to avoid the
need to query the array&rsquo;s &lsquo;<samp>count</samp>&rsquo; property. Like the &lsquo;<samp>remove(at:)</samp>&rsquo;
method, &lsquo;<samp>removeLast()</samp>&rsquo; returns the removed item:
</p>
<div class="example">
<pre class="example">let apples = shoppingList.removeLast()
// the last item in the array has just been removed
// shoppingList now contains 5 items, and no apples
// the apples constant is now equal to the removed &quot;Apples&quot; string
</pre></div>

<hr>
<span id="Iterating-Over-an-Array"></span><div class="header">
<p>
Previous: <a href="#Accessing-and-Modifying-an-Array" accesskey="p" rel="prev">Accessing and Modifying an Array</a>, Up: <a href="#Arrays" accesskey="u" rel="up">Arrays</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Iterating-Over-an-Array-1"></span><h4 class="subsection">9.2.7 Iterating Over an Array</h4>

<p>You can iterate over the entire set of values in an array with the
&lsquo;<samp>for</samp>&rsquo;-&lsquo;<samp>in</samp>&rsquo; loop:
</p>
<div class="example">
<pre class="example">for item in shoppingList {
    print(item)
}
// Six eggs
// Milk
// Flour
// Baking Powder
// Bananas
</pre></div>

<p>If you need the integer index of each item as well as its value, use the
&lsquo;<samp>enumerated()</samp>&rsquo; method to iterate over the array instead. For each item
in the array, the &lsquo;<samp>enumerated()</samp>&rsquo; method returns a tuple composed of an
integer and the item. The integers start at zero and count up by one for
each item; if you enumerate over a whole array, these integers match the
items&rsquo; indices. You can decompose the tuple into temporary constants or
variables as part of the iteration:
</p>
<div class="example">
<pre class="example">for (index, value) in shoppingList.enumerated() {
    print(&quot;Item \(index + 1): \(value)&quot;)
}
// Item 1: Six eggs
// Item 2: Milk
// Item 3: Flour
// Item 4: Baking Powder
// Item 5: Bananas
</pre></div>

<p>For more about the &lsquo;<samp>for</samp>&rsquo;-&lsquo;<samp>in</samp>&rsquo; loop, see
<a href="#For_002dIn-Loops">For-In Loops</a>.
</p>
<hr>
<span id="Sets"></span><div class="header">
<p>
Next: <a href="#Performing-Set-Operations" accesskey="n" rel="next">Performing Set Operations</a>, Previous: <a href="#Arrays" accesskey="p" rel="prev">Arrays</a>, Up: <a href="#Collection-Types" accesskey="u" rel="up">Collection Types</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Sets-1"></span><h3 class="section">9.3 Sets</h3>

<p>A <em>set</em> stores distinct values of the same type in a collection with no
defined ordering. You can use a set instead of an array when the order
of items is not important, or when you need to ensure that an item only
appears once.
</p>
<p>Note
</p>
<p>Swift&rsquo;s &lsquo;<samp>Set</samp>&rsquo; type is bridged to Foundation&rsquo;s &lsquo;<samp>NSSet</samp>&rsquo; class.
</p>
<p>For more information about using &lsquo;<samp>Set</samp>&rsquo; with Foundation and Cocoa, see
<a href="https://developer.apple.com/documentation/swift/set#2845530">Bridging
Between Set and NSSet</a>
[<a href="https://developer.apple.com/documentation/swift/set#2845530">https://developer.apple.com/documentation/swift/set#2845530</a>].
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Hash-Values-for-Set-Types" accesskey="1">Hash Values for Set Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Set-Type-Syntax" accesskey="2">Set Type Syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Creating-and-Initializing-an-Empty-Set" accesskey="3">Creating and Initializing an Empty Set</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Creating-a-Set-with-an-Array-Literal" accesskey="4">Creating a Set with an Array Literal</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Accessing-and-Modifying-a-Set" accesskey="5">Accessing and Modifying a Set</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Iterating-Over-a-Set" accesskey="6">Iterating Over a Set</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Hash-Values-for-Set-Types"></span><div class="header">
<p>
Next: <a href="#Set-Type-Syntax" accesskey="n" rel="next">Set Type Syntax</a>, Up: <a href="#Sets" accesskey="u" rel="up">Sets</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Hash-Values-for-Set-Types-1"></span><h4 class="subsection">9.3.1 Hash Values for Set Types</h4>

<p>A type must be <em>hashable</em> in order to be stored in a set&mdash;that is, the
type must provide a way to compute a <em>hash value</em> for itself. A hash
value is an &lsquo;<samp>Int</samp>&rsquo; value that is the same for all objects that compare
equally, such that if &lsquo;<samp>a =</samp>&rsquo; b=, it follows that
&lsquo;<samp>a.hashValue =</samp>&rsquo; b.hashValue=.
</p>
<p>All of Swift&rsquo;s basic types (such as &lsquo;<samp>String</samp>&rsquo;, &lsquo;<samp>Int</samp>&rsquo;, &lsquo;<samp>Double</samp>&rsquo;, and
&lsquo;<samp>Bool</samp>&rsquo;) are hashable by default, and can be used as set value types or
dictionary key types. Enumeration case values without associated values
(as described in <a href="#Enumeration">Enumeration</a>) are also hashable
by default.
</p>
<p>Note
</p>
<p>You can use your own custom types as set value types or dictionary key
types by making them conform to the &lsquo;<samp>Hashable</samp>&rsquo; protocol from Swift&rsquo;s
standard library. Types that conform to the &lsquo;<samp>Hashable</samp>&rsquo; protocol must
provide a gettable &lsquo;<samp>Int</samp>&rsquo; property called &lsquo;<samp>hashValue</samp>&rsquo;. The value returned
by a type&rsquo;s &lsquo;<samp>hashValue</samp>&rsquo; property is not required to be the same across
different executions of the same program, or in different programs.
</p>
<p>Because the &lsquo;<samp>Hashable</samp>&rsquo; protocol conforms to &lsquo;<samp>Equatable</samp>&rsquo;, conforming
types must also provide an implementation of the equals operator (&lsquo;<samp>==</samp>&rsquo;).
The &lsquo;<samp>Equatable</samp>&rsquo; protocol requires any conforming implementation of &lsquo;<samp>==</samp>&rsquo;
to be an equivalence relation. That is, an implementation of &lsquo;<samp>==</samp>&rsquo; must
satisfy the following three conditions, for all values &lsquo;<samp>a</samp>&rsquo;, &lsquo;<samp>b</samp>&rsquo;, and
&lsquo;<samp>c</samp>&rsquo;:
</p>
<ul>
<li> &lsquo;<samp>a =</samp>&rsquo; a= (Reflexivity)

</li><li> &lsquo;<samp>a =</samp>&rsquo; b= implies &lsquo;<samp>b =</samp>&rsquo; a= (Symmetry)

</li><li> &lsquo;<samp>a =</samp>&rsquo; b &amp;&amp; b &lsquo;<samp>= c</samp>&rsquo; implies &lsquo;<samp>a =</samp>&rsquo; c= (Transitivity)
</li></ul>

<p>For more information about conforming to protocols, see
<a href="#Protocols">Protocols</a>.
</p>
<hr>
<span id="Set-Type-Syntax"></span><div class="header">
<p>
Next: <a href="#Creating-and-Initializing-an-Empty-Set" accesskey="n" rel="next">Creating and Initializing an Empty Set</a>, Previous: <a href="#Hash-Values-for-Set-Types" accesskey="p" rel="prev">Hash Values for Set Types</a>, Up: <a href="#Sets" accesskey="u" rel="up">Sets</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Set-Type-Syntax-1"></span><h4 class="subsection">9.3.2 Set Type Syntax</h4>

<p>The type of a Swift set is written as &lsquo;<samp>Set&lt;Element&gt;</samp>&rsquo;, where &lsquo;<samp>Element</samp>&rsquo; is
the type that the set is allowed to store. Unlike arrays, sets do not
have an equivalent shorthand form.
</p>
<hr>
<span id="Creating-and-Initializing-an-Empty-Set"></span><div class="header">
<p>
Next: <a href="#Creating-a-Set-with-an-Array-Literal" accesskey="n" rel="next">Creating a Set with an Array Literal</a>, Previous: <a href="#Set-Type-Syntax" accesskey="p" rel="prev">Set Type Syntax</a>, Up: <a href="#Sets" accesskey="u" rel="up">Sets</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Creating-and-Initializing-an-Empty-Set-1"></span><h4 class="subsection">9.3.3 Creating and Initializing an Empty Set</h4>

<p>You can create an empty set of a certain type using initializer syntax:
</p>
<div class="example">
<pre class="example">var letters = Set&lt;Character&gt;()
print(&quot;letters is of type Set&lt;Character&gt; with \(letters.count) items.&quot;)
// Prints &quot;letters is of type Set&lt;Character&gt; with 0 items.&quot;
</pre></div>

<p>Note
</p>
<p>The type of the &lsquo;<samp>letters</samp>&rsquo; variable is inferred to be &lsquo;<samp>Set&lt;Character&gt;</samp>&rsquo;,
from the type of the initializer.
</p>
<p>Alternatively, if the context already provides type information, such as
a function argument or an already typed variable or constant, you can
create an empty set with an empty array literal:
</p>
<div class="example">
<pre class="example">letters.insert(&quot;a&quot;)
// letters now contains 1 value of type Character
letters = []
// letters is now an empty set, but is still of type Set&lt;Character&gt;
</pre></div>

<hr>
<span id="Creating-a-Set-with-an-Array-Literal"></span><div class="header">
<p>
Next: <a href="#Accessing-and-Modifying-a-Set" accesskey="n" rel="next">Accessing and Modifying a Set</a>, Previous: <a href="#Creating-and-Initializing-an-Empty-Set" accesskey="p" rel="prev">Creating and Initializing an Empty Set</a>, Up: <a href="#Sets" accesskey="u" rel="up">Sets</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Creating-a-Set-with-an-Array-Literal-1"></span><h4 class="subsection">9.3.4 Creating a Set with an Array Literal</h4>

<p>You can also initialize a set with an array literal, as a shorthand way
to write one or more values as a set collection.
</p>
<p>The example below creates a set called &lsquo;<samp>favoriteGenres</samp>&rsquo; to store
&lsquo;<samp>String</samp>&rsquo; values:
</p>
<div class="example">
<pre class="example">var favoriteGenres: Set&lt;String&gt; = [&quot;Rock&quot;, &quot;Classical&quot;, &quot;Hip hop&quot;]
// favoriteGenres has been initialized with three initial items
</pre></div>

<p>The &lsquo;<samp>favoriteGenres</samp>&rsquo; variable is declared as “a set of &lsquo;<samp>String</samp>&rsquo; values”,
written as &lsquo;<samp>Set&lt;String&gt;</samp>&rsquo;. Because this particular set has specified a
value type of &lsquo;<samp>String</samp>&rsquo;, it is <em>only</em> allowed to store &lsquo;<samp>String</samp>&rsquo; values.
Here, the &lsquo;<samp>favoriteGenres</samp>&rsquo; set is initialized with three &lsquo;<samp>String</samp>&rsquo; values
(&lsquo;<samp>&quot;Rock&quot;</samp>&rsquo;, &lsquo;<samp>&quot;Classical&quot;</samp>&rsquo;, and &lsquo;<samp>&quot;Hip hop&quot;</samp>&rsquo;), written within an array
literal.
</p>
<p>Note
</p>
<p>The &lsquo;<samp>favoriteGenres</samp>&rsquo; set is declared as a variable (with the &lsquo;<samp>var</samp>&rsquo;
introducer) and not a constant (with the &lsquo;<samp>let</samp>&rsquo; introducer) because items
are added and removed in the examples below.
</p>
<p>A set type cannot be inferred from an array literal alone, so the type
&lsquo;<samp>Set</samp>&rsquo; must be explicitly declared. However, because of Swift&rsquo;s type
inference, you don&rsquo;t have to write the type of the set&rsquo;s elements if
you&rsquo;re initializing it with an array literal that contains values of
just one type. The initialization of &lsquo;<samp>favoriteGenres</samp>&rsquo; could have been
written in a shorter form instead:
</p>
<div class="example">
<pre class="example">var favoriteGenres: Set = [&quot;Rock&quot;, &quot;Classical&quot;, &quot;Hip hop&quot;]
</pre></div>

<p>Because all values in the array literal are of the same type, Swift can
infer that &lsquo;<samp>Set&lt;String&gt;</samp>&rsquo; is the correct type to use for the
&lsquo;<samp>favoriteGenres</samp>&rsquo; variable.
</p>
<hr>
<span id="Accessing-and-Modifying-a-Set"></span><div class="header">
<p>
Next: <a href="#Iterating-Over-a-Set" accesskey="n" rel="next">Iterating Over a Set</a>, Previous: <a href="#Creating-a-Set-with-an-Array-Literal" accesskey="p" rel="prev">Creating a Set with an Array Literal</a>, Up: <a href="#Sets" accesskey="u" rel="up">Sets</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Accessing-and-Modifying-a-Set-1"></span><h4 class="subsection">9.3.5 Accessing and Modifying a Set</h4>

<p>You access and modify a set through its methods and properties.
</p>
<p>To find out the number of items in a set, check its read-only &lsquo;<samp>count</samp>&rsquo;
property:
</p>
<div class="example">
<pre class="example">print(&quot;I have \(favoriteGenres.count) favorite music genres.&quot;)
// Prints &quot;I have 3 favorite music genres.&quot;
</pre></div>

<p>Use the Boolean &lsquo;<samp>isEmpty</samp>&rsquo; property as a shortcut for checking whether
the &lsquo;<samp>count</samp>&rsquo; property is equal to &lsquo;<samp>0</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">if favoriteGenres.isEmpty {
    print(&quot;As far as music goes, I'm not picky.&quot;)
} else {
    print(&quot;I have particular music preferences.&quot;)
}
// Prints &quot;I have particular music preferences.&quot;
</pre></div>

<p>You can add a new item into a set by calling the set&rsquo;s &lsquo;<samp>insert(_:)</samp>&rsquo;
method:
</p>
<div class="example">
<pre class="example">favoriteGenres.insert(&quot;Jazz&quot;)
// favoriteGenres now contains 4 items
</pre></div>

<p>You can remove an item from a set by calling the set&rsquo;s &lsquo;<samp>remove(_:)</samp>&rsquo;
method, which removes the item if it&rsquo;s a member of the set, and returns
the removed value, or returns &lsquo;<samp>nil</samp>&rsquo; if the set did not contain it.
Alternatively, all items in a set can be removed with its &lsquo;<samp>removeAll()</samp>&rsquo;
method.
</p>
<div class="example">
<pre class="example">if let removedGenre = favoriteGenres.remove(&quot;Rock&quot;) {
    print(&quot;\(removedGenre)? I'm over it.&quot;)
} else {
    print(&quot;I never much cared for that.&quot;)
}
// Prints &quot;Rock? I'm over it.&quot;
</pre></div>

<p>To check whether a set contains a particular item, use the
&lsquo;<samp>contains(_:)</samp>&rsquo; method.
</p>
<div class="example">
<pre class="example">if favoriteGenres.contains(&quot;Funk&quot;) {
    print(&quot;I get up on the good foot.&quot;)
} else {
    print(&quot;It's too funky in here.&quot;)
}
// Prints &quot;It's too funky in here.&quot;
</pre></div>

<hr>
<span id="Iterating-Over-a-Set"></span><div class="header">
<p>
Previous: <a href="#Accessing-and-Modifying-a-Set" accesskey="p" rel="prev">Accessing and Modifying a Set</a>, Up: <a href="#Sets" accesskey="u" rel="up">Sets</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Iterating-Over-a-Set-1"></span><h4 class="subsection">9.3.6 Iterating Over a Set</h4>

<p>You can iterate over the values in a set with a &lsquo;<samp>for</samp>&rsquo;-&lsquo;<samp>in</samp>&rsquo; loop.
</p>
<div class="example">
<pre class="example">for genre in favoriteGenres {
    print(&quot;\(genre)&quot;)
}
// Classical
// Jazz
// Hip hop
</pre></div>

<p>For more about the &lsquo;<samp>for</samp>&rsquo;-&lsquo;<samp>in</samp>&rsquo; loop, see
<a href="#For_002dIn-Loops">For-In Loops</a>.
</p>
<p>Swift&rsquo;s &lsquo;<samp>Set</samp>&rsquo; type does not have a defined ordering. To iterate over the
values of a set in a specific order, use the &lsquo;<samp>sorted()</samp>&rsquo; method, which
returns the set&rsquo;s elements as an array sorted using the &lsquo;<samp>&lt;</samp>&rsquo; operator.
</p>
<div class="example">
<pre class="example">for genre in favoriteGenres.sorted() {
    print(&quot;\(genre)&quot;)
}
// Classical
// Hip hop
// Jazz
</pre></div>

<hr>
<span id="Performing-Set-Operations"></span><div class="header">
<p>
Next: <a href="#Dictionaries" accesskey="n" rel="next">Dictionaries</a>, Previous: <a href="#Sets" accesskey="p" rel="prev">Sets</a>, Up: <a href="#Collection-Types" accesskey="u" rel="up">Collection Types</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Performing-Set-Operations-1"></span><h3 class="section">9.4 Performing Set Operations</h3>

<p>You can efficiently perform fundamental set operations, such as
combining two sets together, determining which values two sets have in
common, or determining whether two sets contain all, some, or none of
the same values.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Fundamental-Set-Operations" accesskey="1">Fundamental Set Operations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Set-Membership-and-Equality" accesskey="2">Set Membership and Equality</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Fundamental-Set-Operations"></span><div class="header">
<p>
Next: <a href="#Set-Membership-and-Equality" accesskey="n" rel="next">Set Membership and Equality</a>, Up: <a href="#Performing-Set-Operations" accesskey="u" rel="up">Performing Set Operations</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Fundamental-Set-Operations-1"></span><h4 class="subsection">9.4.1 Fundamental Set Operations</h4>

<p>The illustration below depicts two sets&mdash;&lsquo;<samp>a</samp>&rsquo; and &lsquo;<samp>b</samp>&rsquo;&mdash;with the results
of various set operations represented by the shaded regions.
</p>
<img src="images/setVennDiagram_2x.png" alt="images/setVennDiagram_2x">

<ul>
<li> Use the &lsquo;<samp>intersection(_:)</samp>&rsquo; method to create a new set with only the
values common to both sets.

</li><li> Use the &lsquo;<samp>symmetricDifference(_:)</samp>&rsquo; method to create a new set with
values in either set, but not both.

</li><li> Use the &lsquo;<samp>union(_:)</samp>&rsquo; method to create a new set with all of the values
in both sets.

</li><li> Use the &lsquo;<samp>subtracting(_:)</samp>&rsquo; method to create a new set with values not
in the specified set.
</li></ul>

<div class="example">
<pre class="example">let oddDigits: Set = [1, 3, 5, 7, 9]
let evenDigits: Set = [0, 2, 4, 6, 8]
let singleDigitPrimeNumbers: Set = [2, 3, 5, 7]

oddDigits.union(evenDigits).sorted()
// [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
oddDigits.intersection(evenDigits).sorted()
// []
oddDigits.subtracting(singleDigitPrimeNumbers).sorted()
// [1, 9]
oddDigits.symmetricDifference(singleDigitPrimeNumbers).sorted()
// [1, 2, 9]
</pre></div>

<hr>
<span id="Set-Membership-and-Equality"></span><div class="header">
<p>
Previous: <a href="#Fundamental-Set-Operations" accesskey="p" rel="prev">Fundamental Set Operations</a>, Up: <a href="#Performing-Set-Operations" accesskey="u" rel="up">Performing Set Operations</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Set-Membership-and-Equality-1"></span><h4 class="subsection">9.4.2 Set Membership and Equality</h4>

<p>The illustration below depicts three sets&mdash;&lsquo;<samp>a</samp>&rsquo;, &lsquo;<samp>b</samp>&rsquo; and &lsquo;<samp>c</samp>&rsquo;&mdash;with
overlapping regions representing elements shared among sets. Set &lsquo;<samp>a</samp>&rsquo; is
a <em>superset</em> of set &lsquo;<samp>b</samp>&rsquo;, because &lsquo;<samp>a</samp>&rsquo; contains all elements in &lsquo;<samp>b</samp>&rsquo;.
Conversely, set &lsquo;<samp>b</samp>&rsquo; is a <em>subset</em> of set &lsquo;<samp>a</samp>&rsquo;, because all elements in
&lsquo;<samp>b</samp>&rsquo; are also contained by &lsquo;<samp>a</samp>&rsquo;. Set &lsquo;<samp>b</samp>&rsquo; and set &lsquo;<samp>c</samp>&rsquo; are <em>disjoint</em> with
one another, because they share no elements in common.
</p>
<img src="images/setEulerDiagram_2x.png" alt="images/setEulerDiagram_2x">

<ul>
<li> Use the “is equal” operator (&lsquo;<samp>==</samp>&rsquo;) to determine whether two sets
contain all of the same values.

</li><li> Use the &lsquo;<samp>isSubset(of:)</samp>&rsquo; method to determine whether all of the values
of a set are contained in the specified set.

</li><li> Use the &lsquo;<samp>isSuperset(of:)</samp>&rsquo; method to determine whether a set contains
all of the values in a specified set.

</li><li> Use the &lsquo;<samp>isStrictSubset(of:)</samp>&rsquo; or &lsquo;<samp>isStrictSuperset(of:)</samp>&rsquo; methods to
determine whether a set is a subset or superset, but not equal to, a
specified set.

</li><li> Use the &lsquo;<samp>isDisjoint(with:)</samp>&rsquo; method to determine whether two sets have
no values in common.
</li></ul>

<div class="example">
<pre class="example">let houseAnimals: Set = [&quot;🐶&quot;, &quot;🐱&quot;]
let farmAnimals: Set = [&quot;🐮&quot;, &quot;🐔&quot;, &quot;🐑&quot;, &quot;🐶&quot;, &quot;🐱&quot;]
let cityAnimals: Set = [&quot;🐦&quot;, &quot;🐭&quot;]

houseAnimals.isSubset(of: farmAnimals)
// true
farmAnimals.isSuperset(of: houseAnimals)
// true
farmAnimals.isDisjoint(with: cityAnimals)
// true
</pre></div>

<hr>
<span id="Dictionaries"></span><div class="header">
<p>
Previous: <a href="#Performing-Set-Operations" accesskey="p" rel="prev">Performing Set Operations</a>, Up: <a href="#Collection-Types" accesskey="u" rel="up">Collection Types</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Dictionaries-1"></span><h3 class="section">9.5 Dictionaries</h3>

<p>A <em>dictionary</em> stores associations between keys of the same type and
values of the same type in a collection with no defined ordering. Each
value is associated with a unique <em>key</em>, which acts as an identifier for
that value within the dictionary. Unlike items in an array, items in a
dictionary do not have a specified order. You use a dictionary when you
need to look up values based on their identifier, in much the same way
that a real-world dictionary is used to look up the definition for a
particular word.
</p>
<p>Note
</p>
<p>Swift&rsquo;s &lsquo;<samp>Dictionary</samp>&rsquo; type is bridged to Foundation&rsquo;s &lsquo;<samp>NSDictionary</samp>&rsquo;
class.
</p>
<p>For more information about using &lsquo;<samp>Dictionary</samp>&rsquo; with Foundation and Cocoa,
see
<a href="https://developer.apple.com/documentation/swift/dictionary#2846239">Bridging
Between Dictionary and NSDictionary</a>
[<a href="https://developer.apple.com/documentation/swift/dictionary#2846239">https://developer.apple.com/documentation/swift/dictionary#2846239</a>].
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Dictionary-Type-Shorthand-Syntax" accesskey="1">Dictionary Type Shorthand Syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Creating-an-Empty-Dictionary" accesskey="2">Creating an Empty Dictionary</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Creating-a-Dictionary-with-a-Dictionary-Literal" accesskey="3">Creating a Dictionary with a Dictionary Literal</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Accessing-and-Modifying-a-Dictionary" accesskey="4">Accessing and Modifying a Dictionary</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Iterating-Over-a-Dictionary" accesskey="5">Iterating Over a Dictionary</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Dictionary-Type-Shorthand-Syntax"></span><div class="header">
<p>
Next: <a href="#Creating-an-Empty-Dictionary" accesskey="n" rel="next">Creating an Empty Dictionary</a>, Up: <a href="#Dictionaries" accesskey="u" rel="up">Dictionaries</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Dictionary-Type-Shorthand-Syntax-1"></span><h4 class="subsection">9.5.1 Dictionary Type Shorthand Syntax</h4>

<span id="index-syntactic-sugar-to-declare-a-dictionary"></span>

<p>The type of a Swift dictionary is written in full as
&lsquo;<samp>Dictionary&lt;Key, Value&gt;</samp>&rsquo;, where &lsquo;<samp>Key</samp>&rsquo; is the type of value that can be
used as a dictionary key, and &lsquo;<samp>Value</samp>&rsquo; is the type of value that the
dictionary stores for those keys.
</p>
<p>Note
</p>
<p>A dictionary &lsquo;<samp>Key</samp>&rsquo; type must conform to the &lsquo;<samp>Hashable</samp>&rsquo; protocol, like a
set&rsquo;s value type.
</p>
<p>You can also write the type of a dictionary in shorthand form as
&lsquo;<samp>[Key: Value]</samp>&rsquo;. Although the two forms are functionally identical, the
shorthand form is preferred and is used throughout this guide when
referring to the type of a dictionary.
</p>
<hr>
<span id="Creating-an-Empty-Dictionary"></span><div class="header">
<p>
Next: <a href="#Creating-a-Dictionary-with-a-Dictionary-Literal" accesskey="n" rel="next">Creating a Dictionary with a Dictionary Literal</a>, Previous: <a href="#Dictionary-Type-Shorthand-Syntax" accesskey="p" rel="prev">Dictionary Type Shorthand Syntax</a>, Up: <a href="#Dictionaries" accesskey="u" rel="up">Dictionaries</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Creating-an-Empty-Dictionary-1"></span><h4 class="subsection">9.5.2 Creating an Empty Dictionary</h4>

<p>As with arrays, you can create an empty &lsquo;<samp>Dictionary</samp>&rsquo; of a certain type
by using initializer syntax:
</p>
<div class="example">
<pre class="example">var namesOfIntegers = [Int: String]()
// namesOfIntegers is an empty [Int: String] dictionary
</pre></div>

<p>This example creates an empty dictionary of type &lsquo;<samp>[Int: String]</samp>&rsquo; to
store human-readable names of integer values. Its keys are of type
&lsquo;<samp>Int</samp>&rsquo;, and its values are of type &lsquo;<samp>String</samp>&rsquo;.
</p>
<p>If the context already provides type information, you can create an
empty dictionary with an empty dictionary literal, which is written as
&lsquo;<samp>[:]</samp>&rsquo; (a colon inside a pair of square brackets):
</p>
<div class="example">
<pre class="example">namesOfIntegers[16] = &quot;sixteen&quot;
// namesOfIntegers now contains 1 key-value pair
namesOfIntegers = [:]
// namesOfIntegers is once again an empty dictionary of type [Int: String]
</pre></div>

<hr>
<span id="Creating-a-Dictionary-with-a-Dictionary-Literal"></span><div class="header">
<p>
Next: <a href="#Accessing-and-Modifying-a-Dictionary" accesskey="n" rel="next">Accessing and Modifying a Dictionary</a>, Previous: <a href="#Creating-an-Empty-Dictionary" accesskey="p" rel="prev">Creating an Empty Dictionary</a>, Up: <a href="#Dictionaries" accesskey="u" rel="up">Dictionaries</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Creating-a-Dictionary-with-a-Dictionary-Literal-1"></span><h4 class="subsection">9.5.3 Creating a Dictionary with a Dictionary Literal</h4>

<p>You can also initialize a dictionary with a <em>dictionary literal</em>, which
has a similar syntax to the array literal seen earlier. A dictionary
literal is a shorthand way to write one or more key-value pairs as a
&lsquo;<samp>Dictionary</samp>&rsquo; collection.
</p>
<p>A <em>key-value pair</em> is a combination of a key and a value. In a
dictionary literal, the key and value in each key-value pair are
separated by a colon. The key-value pairs are written as a list,
separated by commas, surrounded by a pair of square brackets:
</p>
<div class="example">
<pre class="example">[key 1: value 1, key 2: value 2, key 3: value 3]
</pre></div>

<p>The example below creates a dictionary to store the names of
international airports. In this dictionary, the keys are three-letter
International Air Transport Association codes, and the values are
airport names:
</p>
<div class="example">
<pre class="example">var airports: [String: String] = [&quot;YYZ&quot;: &quot;Toronto Pearson&quot;, &quot;DUB&quot;: &quot;Dublin&quot;]
</pre></div>

<p>The &lsquo;<samp>airports</samp>&rsquo; dictionary is declared as having a type of
&lsquo;<samp>[String: String]</samp>&rsquo;, which means “a &lsquo;<samp>Dictionary</samp>&rsquo; whose keys are of type
&lsquo;<samp>String</samp>&rsquo;, and whose values are also of type =String=”.
</p>
<p>Note
</p>
<p>The &lsquo;<samp>airports</samp>&rsquo; dictionary is declared as a variable (with the &lsquo;<samp>var</samp>&rsquo;
introducer), and not a constant (with the &lsquo;<samp>let</samp>&rsquo; introducer), because
more airports are added to the dictionary in the examples below.
</p>
<p>The &lsquo;<samp>airports</samp>&rsquo; dictionary is initialized with a dictionary literal
containing two key-value pairs. The first pair has a key of &lsquo;<samp>&quot;YYZ&quot;</samp>&rsquo; and
a value of &lsquo;<samp>&quot;Toronto Pearson&quot;</samp>&rsquo;. The second pair has a key of &lsquo;<samp>&quot;DUB&quot;</samp>&rsquo; and
a value of &lsquo;<samp>&quot;Dublin&quot;</samp>&rsquo;.
</p>
<p>This dictionary literal contains two &lsquo;<samp>String: String</samp>&rsquo; pairs. This
key-value type matches the type of the &lsquo;<samp>airports</samp>&rsquo; variable declaration
(a dictionary with only &lsquo;<samp>String</samp>&rsquo; keys, and only &lsquo;<samp>String</samp>&rsquo; values), and so
the assignment of the dictionary literal is permitted as a way to
initialize the &lsquo;<samp>airports</samp>&rsquo; dictionary with two initial items.
</p>
<p>As with arrays, you don&rsquo;t have to write the type of the dictionary if
you&rsquo;re initializing it with a dictionary literal whose keys and values
have consistent types. The initialization of &lsquo;<samp>airports</samp>&rsquo; could have been
written in a shorter form instead:
</p>
<div class="example">
<pre class="example">var airports = [&quot;YYZ&quot;: &quot;Toronto Pearson&quot;, &quot;DUB&quot;: &quot;Dublin&quot;]
</pre></div>

<p>Because all keys in the literal are of the same type as each other, and
likewise all values are of the same type as each other, Swift can infer
that &lsquo;<samp>[String: String]</samp>&rsquo; is the correct type to use for the &lsquo;<samp>airports</samp>&rsquo;
dictionary.
</p>
<hr>
<span id="Accessing-and-Modifying-a-Dictionary"></span><div class="header">
<p>
Next: <a href="#Iterating-Over-a-Dictionary" accesskey="n" rel="next">Iterating Over a Dictionary</a>, Previous: <a href="#Creating-a-Dictionary-with-a-Dictionary-Literal" accesskey="p" rel="prev">Creating a Dictionary with a Dictionary Literal</a>, Up: <a href="#Dictionaries" accesskey="u" rel="up">Dictionaries</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Accessing-and-Modifying-a-Dictionary-1"></span><h4 class="subsection">9.5.4 Accessing and Modifying a Dictionary</h4>

<p>You access and modify a dictionary through its methods and properties,
or by using subscript syntax.
</p>
<p>As with an array, you find out the number of items in a &lsquo;<samp>Dictionary</samp>&rsquo; by
checking its read-only &lsquo;<samp>count</samp>&rsquo; property:
</p>
<div class="example">
<pre class="example">print(&quot;The airports dictionary contains \(airports.count) items.&quot;)
// Prints &quot;The airports dictionary contains 2 items.&quot;
</pre></div>

<p>Use the Boolean &lsquo;<samp>isEmpty</samp>&rsquo; property as a shortcut for checking whether
the &lsquo;<samp>count</samp>&rsquo; property is equal to &lsquo;<samp>0</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">if airports.isEmpty {
    print(&quot;The airports dictionary is empty.&quot;)
} else {
    print(&quot;The airports dictionary is not empty.&quot;)
}
// Prints &quot;The airports dictionary is not empty.&quot;
</pre></div>

<p>You can add a new item to a dictionary with subscript syntax. Use a new
key of the appropriate type as the subscript index, and assign a new
value of the appropriate type:
</p>
<div class="example">
<pre class="example">airports[&quot;LHR&quot;] = &quot;London&quot;
// the airports dictionary now contains 3 items
</pre></div>

<p>You can also use subscript syntax to change the value associated with a
particular key:
</p>
<div class="example">
<pre class="example">airports[&quot;LHR&quot;] = &quot;London Heathrow&quot;
// the value for &quot;LHR&quot; has been changed to &quot;London Heathrow&quot;
</pre></div>

<p>As an alternative to subscripting, use a dictionary&rsquo;s
&lsquo;<samp>updateValue(_:forKey:)</samp>&rsquo; method to set or update the value for a
particular key. Like the subscript examples above, the
&lsquo;<samp>updateValue(_:forKey:)</samp>&rsquo; method sets a value for a key if none exists,
or updates the value if that key already exists. Unlike a subscript,
however, the &lsquo;<samp>updateValue(_:forKey:)</samp>&rsquo; method returns the <em>old</em> value
after performing an update. This enables you to check whether or not an
update took place.
</p>
<p>The &lsquo;<samp>updateValue(_:forKey:)</samp>&rsquo; method returns an optional value of the
dictionary&rsquo;s value type. For a dictionary that stores &lsquo;<samp>String</samp>&rsquo; values,
for example, the method returns a value of type &lsquo;<samp>String?</samp>&rsquo;, or “optional
&lsquo;<samp>String=”. This optional value contains the old value for that key if
one existed before the update, or =nil</samp>&rsquo; if no value existed:
</p>
<div class="example">
<pre class="example">if let oldValue = airports.updateValue(&quot;Dublin Airport&quot;, forKey: &quot;DUB&quot;) {
    print(&quot;The old value for DUB was \(oldValue).&quot;)
}
// Prints &quot;The old value for DUB was Dublin.&quot;
</pre></div>

<p>You can also use subscript syntax to retrieve a value from the
dictionary for a particular key. Because it is possible to request a key
for which no value exists, a dictionary&rsquo;s subscript returns an optional
value of the dictionary&rsquo;s value type. If the dictionary contains a value
for the requested key, the subscript returns an optional value
containing the existing value for that key. Otherwise, the subscript
returns &lsquo;<samp>nil</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">if let airportName = airports[&quot;DUB&quot;] {
    print(&quot;The name of the airport is \(airportName).&quot;)
} else {
    print(&quot;That airport is not in the airports dictionary.&quot;)
}
// Prints &quot;The name of the airport is Dublin Airport.&quot;
</pre></div>

<p>You can use subscript syntax to remove a key-value pair from a
dictionary by assigning a value of &lsquo;<samp>nil</samp>&rsquo; for that key:
</p>
<div class="example">
<pre class="example">airports[&quot;APL&quot;] = &quot;Apple International&quot;
// &quot;Apple International&quot; is not the real airport for APL, so delete it
airports[&quot;APL&quot;] = nil
// APL has now been removed from the dictionary
</pre></div>

<p>Alternatively, remove a key-value pair from a dictionary with the
&lsquo;<samp>removeValue(forKey:)</samp>&rsquo; method. This method removes the key-value pair if
it exists and returns the removed value, or returns &lsquo;<samp>nil</samp>&rsquo; if no value
existed:
</p>
<div class="example">
<pre class="example">if let removedValue = airports.removeValue(forKey: &quot;DUB&quot;) {
    print(&quot;The removed airport's name is \(removedValue).&quot;)
} else {
    print(&quot;The airports dictionary does not contain a value for DUB.&quot;)
}
// Prints &quot;The removed airport's name is Dublin Airport.&quot;
</pre></div>

<hr>
<span id="Iterating-Over-a-Dictionary"></span><div class="header">
<p>
Previous: <a href="#Accessing-and-Modifying-a-Dictionary" accesskey="p" rel="prev">Accessing and Modifying a Dictionary</a>, Up: <a href="#Dictionaries" accesskey="u" rel="up">Dictionaries</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Iterating-Over-a-Dictionary-1"></span><h4 class="subsection">9.5.5 Iterating Over a Dictionary</h4>

<p>You can iterate over the key-value pairs in a dictionary with a
&lsquo;<samp>for</samp>&rsquo;-&lsquo;<samp>in</samp>&rsquo; loop. Each item in the dictionary is returned as a
&lsquo;<samp>(key, value)</samp>&rsquo; tuple, and you can decompose the tuple&rsquo;s members into
temporary constants or variables as part of the iteration:
</p>
<div class="example">
<pre class="example">for (airportCode, airportName) in airports {
    print(&quot;\(airportCode): \(airportName)&quot;)
}
// LHR: London Heathrow
// YYZ: Toronto Pearson
</pre></div>

<p>For more about the &lsquo;<samp>for</samp>&rsquo;-&lsquo;<samp>in</samp>&rsquo; loop, see
<a href="#For_002dIn-Loops">For-In Loops</a>.
</p>
<p>You can also retrieve an iterable collection of a dictionary&rsquo;s keys or
values by accessing its &lsquo;<samp>keys</samp>&rsquo; and &lsquo;<samp>values</samp>&rsquo; properties:
</p>
<div class="example">
<pre class="example">for airportCode in airports.keys {
    print(&quot;Airport code: \(airportCode)&quot;)
}
// Airport code: LHR
// Airport code: YYZ

for airportName in airports.values {
    print(&quot;Airport name: \(airportName)&quot;)
}
// Airport name: London Heathrow
// Airport name: Toronto Pearson
</pre></div>

<p>If you need to use a dictionary&rsquo;s keys or values with an API that takes
an &lsquo;<samp>Array</samp>&rsquo; instance, initialize a new array with the &lsquo;<samp>keys</samp>&rsquo; or &lsquo;<samp>values</samp>&rsquo;
property:
</p>
<div class="example">
<pre class="example">let airportCodes = [String](airports.keys)
// airportCodes is [&quot;LHR&quot;, &quot;YYZ&quot;]
let airportNames = [String](airports.values)
// airportNames is [&quot;London Heathrow&quot;, &quot;Toronto Pearson&quot;]
</pre></div>

<p>Swift&rsquo;s &lsquo;<samp>Dictionary</samp>&rsquo; type does not have a defined ordering. To iterate
over the keys or values of a dictionary in a specific order, use the
&lsquo;<samp>sorted()</samp>&rsquo; method on its &lsquo;<samp>keys</samp>&rsquo; or &lsquo;<samp>values</samp>&rsquo; property.
</p>
<hr>
<span id="Control-Flow-1"></span><div class="header">
<p>
Next: <a href="#Functions" accesskey="n" rel="next">Functions</a>, Previous: <a href="#Collection-Types" accesskey="p" rel="prev">Collection Types</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Control-Flow-3"></span><h2 class="chapter">10 Control Flow</h2>

<p>Swift provides a variety of control flow statements. These include
&lsquo;<samp>while</samp>&rsquo; loops to perform a task multiple times; &lsquo;<samp>if</samp>&rsquo;, &lsquo;<samp>guard</samp>&rsquo;, and
&lsquo;<samp>switch</samp>&rsquo; statements to execute different branches of code based on
certain conditions; and statements such as &lsquo;<samp>break</samp>&rsquo; and &lsquo;<samp>continue</samp>&rsquo; to
transfer the flow of execution to another point in your code.
</p>
<p>Swift also provides a &lsquo;<samp>for</samp>&rsquo;-&lsquo;<samp>in</samp>&rsquo; loop that makes it easy to iterate over
arrays, dictionaries, ranges, strings, and other sequences.
</p>
<p>Swift&rsquo;s &lsquo;<samp>switch</samp>&rsquo; statement is considerably more powerful than its
counterpart in many C-like languages. Cases can match many different
patterns, including interval matches, tuples, and casts to a specific
type. Matched values in a &lsquo;<samp>switch</samp>&rsquo; case can be bound to temporary
constants or variables for use within the case&rsquo;s body, and complex
matching conditions can be expressed with a &lsquo;<samp>where</samp>&rsquo; clause for each
case.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#For_002dIn-Loops" accesskey="1">For-In Loops</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#While-Loops" accesskey="2">While Loops</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Conditional-Statements" accesskey="3">Conditional Statements</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Control-Transfer-Statements" accesskey="4">Control Transfer Statements</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Early-Exit" accesskey="5">Early Exit</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Checking-API-Availability" accesskey="6">Checking API Availability</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="For_002dIn-Loops"></span><div class="header">
<p>
Next: <a href="#While-Loops" accesskey="n" rel="next">While Loops</a>, Up: <a href="#Control-Flow-1" accesskey="u" rel="up">Control Flow 1</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="For_002dIn-Loops-1"></span><h3 class="section">10.1 For-In Loops</h3>

<span id="index-for"></span>
<span id="index-in"></span>

<p>You use the &lsquo;<samp>for</samp>&rsquo;-&lsquo;<samp>in</samp>&rsquo; loop to iterate over a sequence, such as items in
an array, ranges of numbers, or characters in a string.
</p>
<p>This example uses a &lsquo;<samp>for</samp>&rsquo;-&lsquo;<samp>in</samp>&rsquo; loop to iterate over the items in an
array:
</p>
<div class="example">
<pre class="example">let names = [&quot;Anna&quot;, &quot;Alex&quot;, &quot;Brian&quot;, &quot;Jack&quot;]
for name in names {
    print(&quot;Hello, \(name)!&quot;)
}
// Hello, Anna!
// Hello, Alex!
// Hello, Brian!
// Hello, Jack!
</pre></div>

<p>You can also iterate over a dictionary to access its key-value pairs.
Each item in the dictionary is returned as a &lsquo;<samp>(key, value)</samp>&rsquo; tuple when
the dictionary is iterated, and you can decompose the &lsquo;<samp>(key, value)</samp>&rsquo;
tuple&rsquo;s members as explicitly named constants for use within the body of
the &lsquo;<samp>for</samp>&rsquo;-&lsquo;<samp>in</samp>&rsquo; loop. In the code example below, the dictionary&rsquo;s keys
are decomposed into a constant called &lsquo;<samp>animalName</samp>&rsquo;, and the dictionary&rsquo;s
values are decomposed into a constant called &lsquo;<samp>legCount</samp>&rsquo;.
</p>
<div class="example">
<pre class="example">let numberOfLegs = [&quot;spider&quot;: 8, &quot;ant&quot;: 6, &quot;cat&quot;: 4]
for (animalName, legCount) in numberOfLegs {
    print(&quot;\(animalName)s have \(legCount) legs&quot;)
}
// cats have 4 legs
// ants have 6 legs
// spiders have 8 legs
</pre></div>

<p>The contents of a &lsquo;<samp>Dictionary</samp>&rsquo; are inherently unordered, and iterating
over them does not guarantee the order in which they will be retrieved.
In particular, the order you insert items into a &lsquo;<samp>Dictionary</samp>&rsquo; doesn&rsquo;t
define the order they are iterated. For more about arrays and
dictionaries, see <a href="#Collection-Types">Collection Types</a>.
</p>
<p>You can also use &lsquo;<samp>for</samp>&rsquo;-&lsquo;<samp>in</samp>&rsquo; loops with numeric ranges. This example
prints the first few entries in a five-times table:
</p>
<div class="example">
<pre class="example">for index in 1...5 {
    print(&quot;\(index) times 5 is \(index * 5)&quot;)
}
// 1 times 5 is 5
// 2 times 5 is 10
// 3 times 5 is 15
// 4 times 5 is 20
// 5 times 5 is 25
</pre></div>

<p>The sequence being iterated over is a range of numbers from &lsquo;<samp>1</samp>&rsquo; to &lsquo;<samp>5</samp>&rsquo;,
inclusive, as indicated by the use of the closed range operator (&lsquo;<samp>...</samp>&rsquo;).
The value of &lsquo;<samp>index</samp>&rsquo; is set to the first number in the range (&lsquo;<samp>1</samp>&rsquo;), and
the statements inside the loop are executed. In this case, the loop
contains only one statement, which prints an entry from the five-times
table for the current value of &lsquo;<samp>index</samp>&rsquo;. After the statement is executed,
the value of &lsquo;<samp>index</samp>&rsquo; is updated to contain the second value in the range
(&lsquo;<samp>2</samp>&rsquo;), and the &lsquo;<samp>print(_:separator:terminator:)</samp>&rsquo; function is called
again. This process continues until the end of the range is reached.
</p>
<p>In the example above, &lsquo;<samp>index</samp>&rsquo; is a constant whose value is automatically
set at the start of each iteration of the loop. As such, &lsquo;<samp>index</samp>&rsquo; does
not have to be declared before it is used. It is implicitly declared
simply by its inclusion in the loop declaration, without the need for a
&lsquo;<samp>let</samp>&rsquo; declaration keyword.
</p>
<p>If you don&rsquo;t need each value from a sequence, you can ignore the values
by using an underscore in place of a variable name.
</p>
<div class="example">
<pre class="example">let base = 3
let power = 10
var answer = 1
for _ in 1...power {
    answer *= base
}
print(&quot;\(base) to the power of \(power) is \(answer)&quot;)
// Prints &quot;3 to the power of 10 is 59049&quot;
</pre></div>

<p>The example above calculates the value of one number to the power of
another (in this case, &lsquo;<samp>3</samp>&rsquo; to the power of &lsquo;<samp>10</samp>&rsquo;). It multiplies a
starting value of &lsquo;<samp>1</samp>&rsquo; (that is, &lsquo;<samp>3</samp>&rsquo; to the power of &lsquo;<samp>0</samp>&rsquo;) by &lsquo;<samp>3</samp>&rsquo;, ten
times, using a closed range that starts with &lsquo;<samp>1</samp>&rsquo; and ends with &lsquo;<samp>10</samp>&rsquo;. For
this calculation, the individual counter values each time through the
loop are unnecessary&mdash;the code simply executes the loop the correct
number of times. The underscore character (&lsquo;<samp>_</samp>&rsquo;) used in place of a loop
variable causes the individual values to be ignored and does not provide
access to the current value during each iteration of the loop.
</p>
<p>In some situations, you might not want to use closed ranges, which
include both endpoints. Consider drawing the tick marks for every minute
on a watch face. You want to draw &lsquo;<samp>60</samp>&rsquo; tick marks, starting with the &lsquo;<samp>0</samp>&rsquo;
minute. Use the half-open range operator (&lsquo;<samp>..&lt;</samp>&rsquo;) to include the lower
bound but not the upper bound. For more about ranges, see
<a href="#Range-Operators">Range Operators</a>.
</p>
<div class="example">
<pre class="example">let minutes = 60
for tickMark in 0..&lt;minutes {
    // render the tick mark each minute (60 times)
}
</pre></div>

<p>Some users might want fewer tick marks in their UI. They could prefer
one mark every &lsquo;<samp>5</samp>&rsquo; minutes instead. Use the &lsquo;<samp>stride(from:to:by:)</samp>&rsquo;
function to skip the unwanted marks.
</p>
<div class="example">
<pre class="example">let minuteInterval = 5
for tickMark in stride(from: 0, to: minutes, by: minuteInterval) {
    // render the tick mark every 5 minutes (0, 5, 10, 15 ... 45, 50, 55)
}
</pre></div>

<p>Closed ranges are also available, by using &lsquo;<samp>stride(from:through:by:)</samp>&rsquo;
instead:
</p>
<div class="example">
<pre class="example">let hours = 12
let hourInterval = 3
for tickMark in stride(from: 3, through: hours, by: hourInterval) {
    // render the tick mark every 3 hours (3, 6, 9, 12)
}
</pre></div>

<hr>
<span id="While-Loops"></span><div class="header">
<p>
Next: <a href="#Conditional-Statements" accesskey="n" rel="next">Conditional Statements</a>, Previous: <a href="#For_002dIn-Loops" accesskey="p" rel="prev">For-In Loops</a>, Up: <a href="#Control-Flow-1" accesskey="u" rel="up">Control Flow 1</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="While-Loops-1"></span><h3 class="section">10.2 While Loops</h3>

<p>A &lsquo;<samp>while</samp>&rsquo; loop performs a set of statements until a condition becomes
&lsquo;<samp>false</samp>&rsquo;. These kinds of loops are best used when the number of
iterations is not known before the first iteration begins. Swift
provides two kinds of &lsquo;<samp>while</samp>&rsquo; loops:
</p>
<ul>
<li> &lsquo;<samp>while</samp>&rsquo; evaluates its condition at the start of each pass through the
loop.

</li><li> &lsquo;<samp>repeat</samp>&rsquo;-&lsquo;<samp>while</samp>&rsquo; evaluates its condition at the end of each pass
through the loop.
</li></ul>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#While" accesskey="1">While</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Repeat_002dWhile" accesskey="2">Repeat-While</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="While"></span><div class="header">
<p>
Next: <a href="#Repeat_002dWhile" accesskey="n" rel="next">Repeat-While</a>, Up: <a href="#While-Loops" accesskey="u" rel="up">While Loops</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="While-1"></span><h4 class="subsection">10.2.1 While</h4>

<span id="index-while"></span>

<p>A &lsquo;<samp>while</samp>&rsquo; loop starts by evaluating a single condition. If the condition
is &lsquo;<samp>true</samp>&rsquo;, a set of statements is repeated until the condition becomes
&lsquo;<samp>false</samp>&rsquo;.
</p>
<p>Here&rsquo;s the general form of a &lsquo;<samp>while</samp>&rsquo; loop:
</p>
<div class="example">
<pre class="example">while condition {
    statements
}
</pre></div>

<p>This example plays a simple game of <em>Snakes and Ladders</em> (also known as
<em>Chutes and Ladders</em>):
</p>
<img src="images/snakesAndLadders_2x.png" alt="images/snakesAndLadders_2x">
<p>The rules of the game are as follows:
</p>
<ul>
<li> The board has 25 squares, and the aim is to land on or beyond square

</li><li> The player&rsquo;s starting square is “square zero”, which is just off the
bottom-left corner of the board.

</li><li> Each turn, you roll a six-sided dice and move by that number of
squares, following the horizontal path indicated by the dotted arrow
above.

</li><li> If your turn ends at the bottom of a ladder, you move up that ladder.

</li><li> If your turn ends at the head of a snake, you move down that snake.
</li></ul>

<p>The game board is represented by an array of &lsquo;<samp>Int</samp>&rsquo; values. Its size is
based on a constant called &lsquo;<samp>finalSquare</samp>&rsquo;, which is used to initialize
the array and also to check for a win condition later in the example.
Because the players start off the board, on “square zero”, the board is
initialized with 26 zero &lsquo;<samp>Int</samp>&rsquo; values, not 25.
</p>
<div class="example">
<pre class="example">let finalSquare = 25
var board = [Int](repeating: 0, count: finalSquare + 1)
</pre></div>

<p>Some squares are then set to have more specific values for the snakes
and ladders. Squares with a ladder base have a positive number to move
you up the board, whereas squares with a snake head have a negative
number to move you back down the board.
</p>
<div class="example">
<pre class="example">board[03] = +08; board[06] = +11; board[09] = +09; board[10] = +02
board[14] = -10; board[19] = -11; board[22] = -02; board[24] = -08
</pre></div>

<p>Square 3 contains the bottom of a ladder that moves you up to square 11.
To represent this, &lsquo;<samp>board[03]</samp>&rsquo; is equal to &lsquo;<samp>+08</samp>&rsquo;, which is equivalent to
an integer value of &lsquo;<samp>8</samp>&rsquo; (the difference between &lsquo;<samp>3</samp>&rsquo; and &lsquo;<samp>11</samp>&rsquo;). To align
the values and statements, the unary plus operator (&lsquo;<samp>+i</samp>&rsquo;) is explicitly
used with the unary minus operator (&lsquo;<samp>-i</samp>&rsquo;) and numbers lower than &lsquo;<samp>10</samp>&rsquo;
are padded with zeros. (Neither stylistic technique is strictly
necessary, but they lead to neater code.)
</p>
<div class="example">
<pre class="example">var square = 0
var diceRoll = 0
while square &lt; finalSquare {
    // roll the dice
    diceRoll += 1
    if diceRoll == 7 { diceRoll = 1 }
    // move by the rolled amount
    square += diceRoll
    if square &lt; board.count {
        // if we're still on the board, move up or down for a snake or a ladder
        square += board[square]
    }
}
print(&quot;Game over!&quot;)
</pre></div>

<p>The example above uses a very simple approach to dice rolling. Instead
of generating a random number, it starts with a &lsquo;<samp>diceRoll</samp>&rsquo; value of &lsquo;<samp>0</samp>&rsquo;.
Each time through the &lsquo;<samp>while</samp>&rsquo; loop, &lsquo;<samp>diceRoll</samp>&rsquo; is incremented by one and
is then checked to see whether it has become too large. Whenever this
return value equals &lsquo;<samp>7</samp>&rsquo;, the dice roll has become too large and is reset
to a value of &lsquo;<samp>1</samp>&rsquo;. The result is a sequence of &lsquo;<samp>diceRoll</samp>&rsquo; values that is
always &lsquo;<samp>1</samp>&rsquo;, &lsquo;<samp>2</samp>&rsquo;, &lsquo;<samp>3</samp>&rsquo;, &lsquo;<samp>4</samp>&rsquo;, &lsquo;<samp>5</samp>&rsquo;, &lsquo;<samp>6</samp>&rsquo;, &lsquo;<samp>1</samp>&rsquo;, &lsquo;<samp>2</samp>&rsquo; and so on.
</p>
<p>After rolling the dice, the player moves forward by &lsquo;<samp>diceRoll</samp>&rsquo; squares.
It&rsquo;s possible that the dice roll may have moved the player beyond square
25, in which case the game is over. To cope with this scenario, the code
checks that &lsquo;<samp>square</samp>&rsquo; is less than the &lsquo;<samp>board</samp>&rsquo; array&rsquo;s &lsquo;<samp>count</samp>&rsquo; property.
If &lsquo;<samp>square</samp>&rsquo; is valid, the value stored in &lsquo;<samp>board[square]</samp>&rsquo; is added to
the current &lsquo;<samp>square</samp>&rsquo; value to move the player up or down any ladders or
snakes.
</p>
<p>Note
</p>
<p>If this check is not performed, &lsquo;<samp>board[square]</samp>&rsquo; might try to access a
value outside the bounds of the &lsquo;<samp>board</samp>&rsquo; array, which would trigger a
runtime error.
</p>
<p>The current &lsquo;<samp>while</samp>&rsquo; loop execution then ends, and the loop&rsquo;s condition
is checked to see if the loop should be executed again. If the player
has moved on or beyond square number &lsquo;<samp>25</samp>&rsquo;, the loop&rsquo;s condition
evaluates to &lsquo;<samp>false</samp>&rsquo; and the game ends.
</p>
<p>A &lsquo;<samp>while</samp>&rsquo; loop is appropriate in this case, because the length of the
game is not clear at the start of the &lsquo;<samp>while</samp>&rsquo; loop. Instead, the loop is
executed until a particular condition is satisfied.
</p>
<hr>
<span id="Repeat_002dWhile"></span><div class="header">
<p>
Previous: <a href="#While" accesskey="p" rel="prev">While</a>, Up: <a href="#While-Loops" accesskey="u" rel="up">While Loops</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Repeat_002dWhile-1"></span><h4 class="subsection">10.2.2 Repeat-While</h4>

<span id="index-repeat"></span>

<p>The other variation of the &lsquo;<samp>while</samp>&rsquo; loop, known as the &lsquo;<samp>repeat</samp>&rsquo;-&lsquo;<samp>while</samp>&rsquo;
loop, performs a single pass through the loop block first, <em>before</em>
considering the loop&rsquo;s condition. It then continues to repeat the loop
until the condition is &lsquo;<samp>false</samp>&rsquo;.
</p>
<p>Note
</p>
<p>The &lsquo;<samp>repeat</samp>&rsquo;-&lsquo;<samp>while</samp>&rsquo; loop in Swift is analogous to a &lsquo;<samp>do</samp>&rsquo;-&lsquo;<samp>while</samp>&rsquo; loop
in other languages.
</p>
<p>Here&rsquo;s the general form of a &lsquo;<samp>repeat</samp>&rsquo;-&lsquo;<samp>while</samp>&rsquo; loop:
</p>
<div class="example">
<pre class="example">repeat {
    statements
} while condition
</pre></div>

<p>Here&rsquo;s the <em>Snakes and Ladders</em> example again, written as a
&lsquo;<samp>repeat</samp>&rsquo;-&lsquo;<samp>while</samp>&rsquo; loop rather than a &lsquo;<samp>while</samp>&rsquo; loop. The values of
&lsquo;<samp>finalSquare</samp>&rsquo;, &lsquo;<samp>board</samp>&rsquo;, &lsquo;<samp>square</samp>&rsquo;, and &lsquo;<samp>diceRoll</samp>&rsquo; are initialized in
exactly the same way as with a &lsquo;<samp>while</samp>&rsquo; loop.
</p>
<div class="example">
<pre class="example">let finalSquare = 25
var board = [Int](repeating: 0, count: finalSquare + 1)
board[03] = +08; board[06] = +11; board[09] = +09; board[10] = +02
board[14] = -10; board[19] = -11; board[22] = -02; board[24] = -08
var square = 0
var diceRoll = 0
</pre></div>

<p>In this version of the game, the <em>first</em> action in the loop is to check
for a ladder or a snake. No ladder on the board takes the player
straight to square 25, and so it isn&rsquo;t possible to win the game by
moving up a ladder. Therefore, it&rsquo;s safe to check for a snake or a
ladder as the first action in the loop.
</p>
<p>At the start of the game, the player is on “square zero”. &lsquo;<samp>board[0]</samp>&rsquo;
always equals &lsquo;<samp>0</samp>&rsquo; and has no effect.
</p>
<div class="example">
<pre class="example">repeat {
    // move up or down for a snake or ladder
    square += board[square]
    // roll the dice
    diceRoll += 1
    if diceRoll == 7 { diceRoll = 1 }
    // move by the rolled amount
    square += diceRoll
} while square &lt; finalSquare
print(&quot;Game over!&quot;)
</pre></div>

<p>After the code checks for snakes and ladders, the dice is rolled and the
player is moved forward by &lsquo;<samp>diceRoll</samp>&rsquo; squares. The current loop
execution then ends.
</p>
<p>The loop&rsquo;s condition (&lsquo;<samp>while square &lt; finalSquare</samp>&rsquo;) is the same as
before, but this time it&rsquo;s not evaluated until the <em>end</em> of the first
run through the loop. The structure of the &lsquo;<samp>repeat</samp>&rsquo;-&lsquo;<samp>while</samp>&rsquo; loop is
better suited to this game than the &lsquo;<samp>while</samp>&rsquo; loop in the previous
example. In the &lsquo;<samp>repeat</samp>&rsquo;-&lsquo;<samp>while</samp>&rsquo; loop above, &lsquo;<samp>square +</samp>&rsquo; board[square]=
is always executed <em>immediately after</em> the loop&rsquo;s &lsquo;<samp>while</samp>&rsquo; condition
confirms that &lsquo;<samp>square</samp>&rsquo; is still on the board. This behavior removes the
need for the array bounds check seen in the &lsquo;<samp>while</samp>&rsquo; loop version of the
game described earlier.
</p>
<hr>
<span id="Conditional-Statements"></span><div class="header">
<p>
Next: <a href="#Control-Transfer-Statements" accesskey="n" rel="next">Control Transfer Statements</a>, Previous: <a href="#While-Loops" accesskey="p" rel="prev">While Loops</a>, Up: <a href="#Control-Flow-1" accesskey="u" rel="up">Control Flow 1</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Conditional-Statements-1"></span><h3 class="section">10.3 Conditional Statements</h3>

<p>It is often useful to execute different pieces of code based on certain
conditions. You might want to run an extra piece of code when an error
occurs, or to display a message when a value becomes too high or too
low. To do this, you make parts of your code <em>conditional</em>.
</p>
<p>Swift provides two ways to add conditional branches to your code: the
&lsquo;<samp>if</samp>&rsquo; statement and the &lsquo;<samp>switch</samp>&rsquo; statement. Typically, you use the &lsquo;<samp>if</samp>&rsquo;
statement to evaluate simple conditions with only a few possible
outcomes. The &lsquo;<samp>switch</samp>&rsquo; statement is better suited to more complex
conditions with multiple possible permutations and is useful in
situations where pattern matching can help select an appropriate code
branch to execute.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#If" accesskey="1">If</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Switch" accesskey="2">Switch</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="If"></span><div class="header">
<p>
Next: <a href="#Switch" accesskey="n" rel="next">Switch</a>, Up: <a href="#Conditional-Statements" accesskey="u" rel="up">Conditional Statements</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="If-1"></span><h4 class="subsection">10.3.1 If</h4>

<span id="index-if"></span>

<p>In its simplest form, the &lsquo;<samp>if</samp>&rsquo; statement has a single &lsquo;<samp>if</samp>&rsquo; condition. It
executes a set of statements only if that condition is &lsquo;<samp>true</samp>&rsquo;.
</p>
<div class="example">
<pre class="example">var temperatureInFahrenheit = 30
if temperatureInFahrenheit &lt;= 32 {
    print(&quot;It's very cold. Consider wearing a scarf.&quot;)
}
// Prints &quot;It's very cold. Consider wearing a scarf.&quot;
</pre></div>

<p>The example above checks whether the temperature is less than or equal
to 32 degrees Fahrenheit (the freezing point of water). If it is, a
message is printed. Otherwise, no message is printed, and code execution
continues after the &lsquo;<samp>if</samp>&rsquo; statement&rsquo;s closing brace.
</p>
<span id="index-else"></span>

<p>The &lsquo;<samp>if</samp>&rsquo; statement can provide an alternative set of statements, known
as an <em>else clause</em>, for situations when the &lsquo;<samp>if</samp>&rsquo; condition is &lsquo;<samp>false</samp>&rsquo;.
These statements are indicated by the &lsquo;<samp>else</samp>&rsquo; keyword.
</p>
<div class="example">
<pre class="example">temperatureInFahrenheit = 40
if temperatureInFahrenheit &lt;= 32 {
    print(&quot;It's very cold. Consider wearing a scarf.&quot;)
} else {
    print(&quot;It's not that cold. Wear a t-shirt.&quot;)
}
// Prints &quot;It's not that cold. Wear a t-shirt.&quot;
</pre></div>

<p>One of these two branches is always executed. Because the temperature
has increased to &lsquo;<samp>40</samp>&rsquo; degrees Fahrenheit, it is no longer cold enough to
advise wearing a scarf and so the &lsquo;<samp>else</samp>&rsquo; branch is triggered instead.
</p>
<p>You can chain multiple &lsquo;<samp>if</samp>&rsquo; statements together to consider additional
clauses.
</p>
<div class="example">
<pre class="example">temperatureInFahrenheit = 90
if temperatureInFahrenheit &lt;= 32 {
    print(&quot;It's very cold. Consider wearing a scarf.&quot;)
} else if temperatureInFahrenheit &gt;= 86 {
    print(&quot;It's really warm. Don't forget to wear sunscreen.&quot;)
} else {
    print(&quot;It's not that cold. Wear a t-shirt.&quot;)
}
// Prints &quot;It's really warm. Don't forget to wear sunscreen.&quot;
</pre></div>

<p>Here, an additional &lsquo;<samp>if</samp>&rsquo; statement was added to respond to particularly
warm temperatures. The final &lsquo;<samp>else</samp>&rsquo; clause remains, and it prints a
response for any temperatures that are neither too warm nor too cold.
</p>
<p>The final &lsquo;<samp>else</samp>&rsquo; clause is optional, however, and can be excluded if the
set of conditions does not need to be complete.
</p>
<div class="example">
<pre class="example">temperatureInFahrenheit = 72
if temperatureInFahrenheit &lt;= 32 {
    print(&quot;It's very cold. Consider wearing a scarf.&quot;)
} else if temperatureInFahrenheit &gt;= 86 {
    print(&quot;It's really warm. Don't forget to wear sunscreen.&quot;)
}
</pre></div>

<p>Because the temperature is neither too cold nor too warm to trigger the
&lsquo;<samp>if</samp>&rsquo; or &lsquo;<samp>else if</samp>&rsquo; conditions, no message is printed.
</p>
<hr>
<span id="Switch"></span><div class="header">
<p>
Previous: <a href="#If" accesskey="p" rel="prev">If</a>, Up: <a href="#Conditional-Statements" accesskey="u" rel="up">Conditional Statements</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Switch-1"></span><h4 class="subsection">10.3.2 Switch</h4>

<span id="index-switch"></span>

<p>A &lsquo;<samp>switch</samp>&rsquo; statement considers a value and compares it against several
possible matching patterns. It then executes an appropriate block of
code, based on the first pattern that matches successfully. A &lsquo;<samp>switch</samp>&rsquo;
statement provides an alternative to the &lsquo;<samp>if</samp>&rsquo; statement for responding
to multiple potential states.
</p>
<p>In its simplest form, a &lsquo;<samp>switch</samp>&rsquo; statement compares a value against one
or more values of the same type.
</p>
<div class="example">
<pre class="example">switch some value to consider {
case value 1:
    respond to value 1
case value 2,
     value 3:
    respond to value 2 or 3
default:
    otherwise, do something else
}
</pre></div>

<span id="index-case"></span>

<p>Every &lsquo;<samp>switch</samp>&rsquo; statement consists of multiple possible <em>cases</em>, each of
which begins with the &lsquo;<samp>case</samp>&rsquo; keyword. In addition to comparing against
specific values, Swift provides several ways for each case to specify
more complex matching patterns. These options are described later in
this chapter.
</p>
<p>Like the body of an &lsquo;<samp>if</samp>&rsquo; statement, each &lsquo;<samp>case</samp>&rsquo; is a separate branch of
code execution. The &lsquo;<samp>switch</samp>&rsquo; statement determines which branch should be
selected. This procedure is known as <em>switching</em> on the value that is
being considered.
</p>
<span id="index-default"></span>

<p>Every &lsquo;<samp>switch</samp>&rsquo; statement must be <em>exhaustive</em>. That is, every possible
value of the type being considered must be matched by one of the
&lsquo;<samp>switch</samp>&rsquo; cases. If it&rsquo;s not appropriate to provide a case for every
possible value, you can define a default case to cover any values that
are not addressed explicitly. This default case is indicated by the
&lsquo;<samp>default</samp>&rsquo; keyword, and must always appear last.
</p>
<p>This example uses a &lsquo;<samp>switch</samp>&rsquo; statement to consider a single lowercase
character called &lsquo;<samp>someCharacter</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">let someCharacter: Character = &quot;z&quot;
switch someCharacter {
case &quot;a&quot;:
    print(&quot;The first letter of the alphabet&quot;)
case &quot;z&quot;:
    print(&quot;The last letter of the alphabet&quot;)
default:
    print(&quot;Some other character&quot;)
}
// Prints &quot;The last letter of the alphabet&quot;
</pre></div>

<p>The &lsquo;<samp>switch</samp>&rsquo; statement&rsquo;s first case matches the first letter of the
English alphabet, &lsquo;<samp>a</samp>&rsquo;, and its second case matches the last letter, &lsquo;<samp>z</samp>&rsquo;.
Because the &lsquo;<samp>switch</samp>&rsquo; must have a case for every possible character, not
just every alphabetic character, this &lsquo;<samp>switch</samp>&rsquo; statement uses a
&lsquo;<samp>default</samp>&rsquo; case to match all characters other than &lsquo;<samp>a</samp>&rsquo; and &lsquo;<samp>z</samp>&rsquo;. This
provision ensures that the &lsquo;<samp>switch</samp>&rsquo; statement is exhaustive.
</p>
<ol>
<li> No Implicit Fallthrough


<p>In contrast with &lsquo;<samp>switch</samp>&rsquo; statements in C and Objective-C, &lsquo;<samp>switch</samp>&rsquo;
statements in Swift do not fall through the bottom of each case and into
the next one by default. Instead, the entire &lsquo;<samp>switch</samp>&rsquo; statement finishes
its execution as soon as the first matching &lsquo;<samp>switch</samp>&rsquo; case is completed,
without requiring an explicit &lsquo;<samp>break</samp>&rsquo; statement. This makes the &lsquo;<samp>switch</samp>&rsquo;
statement safer and easier to use than the one in C and avoids executing
more than one &lsquo;<samp>switch</samp>&rsquo; case by mistake.
</p>
<p>Note
</p>
<p>Although &lsquo;<samp>break</samp>&rsquo; is not required in Swift, you can use a &lsquo;<samp>break</samp>&rsquo;
statement to match and ignore a particular case or to break out of a
matched case before that case has completed its execution. For details,
see Break in a Switch Statement.
</p>
<p>The body of each case <em>must</em> contain at least one executable statement.
It is not valid to write the following code, because the first case is
empty:
</p>
<div class="example">
<pre class="example">let anotherCharacter: Character = &quot;a&quot;
switch anotherCharacter {
case &quot;a&quot;: // Invalid, the case has an empty body
case &quot;A&quot;:
    print(&quot;The letter A&quot;)
default:
    print(&quot;Not the letter A&quot;)
}
// This will report a compile-time error.
</pre></div>

<p>Unlike a &lsquo;<samp>switch</samp>&rsquo; statement in C, this &lsquo;<samp>switch</samp>&rsquo; statement does not match
both &lsquo;<samp>&quot;a&quot;</samp>&rsquo; and &lsquo;<samp>&quot;A&quot;</samp>&rsquo;. Rather, it reports a compile-time error that
&lsquo;<samp>case &quot;a&quot;:</samp>&rsquo; does not contain any executable statements. This approach
avoids accidental fallthrough from one case to another and makes for
safer code that is clearer in its intent.
</p>
<p>To make a &lsquo;<samp>switch</samp>&rsquo; with a single case that matches both &lsquo;<samp>&quot;a&quot;</samp>&rsquo; and &lsquo;<samp>&quot;A&quot;</samp>&rsquo;,
combine the two values into a compound case, separating the values with
commas.
</p>
<div class="example">
<pre class="example">let anotherCharacter: Character = &quot;a&quot;
switch anotherCharacter {
case &quot;a&quot;, &quot;A&quot;:
    print(&quot;The letter A&quot;)
default:
    print(&quot;Not the letter A&quot;)
}
// Prints &quot;The letter A&quot;
</pre></div>

<p>For readability, a compound case can also be written over multiple
lines. For more information about compound cases, see Compound Cases.
</p>
<p>Note
</p>
<p>To explicitly fall through at the end of a particular &lsquo;<samp>switch</samp>&rsquo; case, use
the &lsquo;<samp>fallthrough</samp>&rsquo; keyword, as described in
<a href="#Fallthrough">Fallthrough</a>.
</p>
</li><li> Interval Matching


<p>Values in &lsquo;<samp>switch</samp>&rsquo; cases can be checked for their inclusion in an
interval. This example uses number intervals to provide a
natural-language count for numbers of any size:
</p>
<div class="example">
<pre class="example">let approximateCount = 62
let countedThings = &quot;moons orbiting Saturn&quot;
let naturalCount: String
switch approximateCount {
case 0:
    naturalCount = &quot;no&quot;
case 1..&lt;5:
    naturalCount = &quot;a few&quot;
case 5..&lt;12:
    naturalCount = &quot;several&quot;
case 12..&lt;100:
    naturalCount = &quot;dozens of&quot;
case 100..&lt;1000:
    naturalCount = &quot;hundreds of&quot;
default:
    naturalCount = &quot;many&quot;
}
print(&quot;There are \(naturalCount) \(countedThings).&quot;)
// Prints &quot;There are dozens of moons orbiting Saturn.&quot;
</pre></div>

<p>In the above example, &lsquo;<samp>approximateCount</samp>&rsquo; is evaluated in a &lsquo;<samp>switch</samp>&rsquo;
statement. Each &lsquo;<samp>case</samp>&rsquo; compares that value to a number or interval.
Because the value of &lsquo;<samp>approximateCount</samp>&rsquo; falls between 12 and 100,
&lsquo;<samp>naturalCount</samp>&rsquo; is assigned the value &lsquo;<samp>&quot;dozens of&quot;</samp>&rsquo;, and execution is
transferred out of the &lsquo;<samp>switch</samp>&rsquo; statement.
</p>
</li><li> Tuples


<span id="index-_005f-1"></span>

<p>You can use tuples to test multiple values in the same &lsquo;<samp>switch</samp>&rsquo;
statement. Each element of the tuple can be tested against a different
value or interval of values. Alternatively, use the underscore character
(&lsquo;<samp>_</samp>&rsquo;), also known as the wildcard pattern, to match any possible value.
</p>
<p>The example below takes an (x, y) point, expressed as a simple tuple of
type &lsquo;<samp>(Int, Int)</samp>&rsquo;, and categorizes it on the graph that follows the
example.
</p>
<div class="example">
<pre class="example">let somePoint = (1, 1)
switch somePoint {
case (0, 0):
    print(&quot;\(somePoint) is at the origin&quot;)
case (_, 0):
    print(&quot;\(somePoint) is on the x-axis&quot;)
case (0, _):
    print(&quot;\(somePoint) is on the y-axis&quot;)
case (-2...2, -2...2):
    print(&quot;\(somePoint) is inside the box&quot;)
default:
    print(&quot;\(somePoint) is outside of the box&quot;)
}
// Prints &quot;(1, 1) is inside the box&quot;
</pre></div>

<img src="images/coordinateGraphSimple_2x.png" alt="images/coordinateGraphSimple_2x">
<p>The &lsquo;<samp>switch</samp>&rsquo; statement determines whether the point is at the origin (0,
0), on the red x-axis, on the orange y-axis, inside the blue 4-by-4 box
centered on the origin, or outside of the box.
</p>
<p>Unlike C, Swift allows multiple &lsquo;<samp>switch</samp>&rsquo; cases to consider the same
value or values. In fact, the point (0, 0) could match all <em>four</em> of the
cases in this example. However, if multiple matches are possible, the
first matching case is always used. The point (0, 0) would match
&lsquo;<samp>case (0, 0)</samp>&rsquo; first, and so all other matching cases would be ignored.
</p>
</li><li> Value Bindings


<p>A &lsquo;<samp>switch</samp>&rsquo; case can name the value or values it matches to temporary
constants or variables, for use in the body of the case. This behavior
is known as <em>value binding</em>, because the values are bound to temporary
constants or variables within the case&rsquo;s body.
</p>
<p>The example below takes an (x, y) point, expressed as a tuple of type
&lsquo;<samp>(Int, Int)</samp>&rsquo;, and categorizes it on the graph that follows:
</p>
<div class="example">
<pre class="example">let anotherPoint = (2, 0)
switch anotherPoint {
case (let x, 0):
    print(&quot;on the x-axis with an x value of \(x)&quot;)
case (0, let y):
    print(&quot;on the y-axis with a y value of \(y)&quot;)
case let (x, y):
    print(&quot;somewhere else at (\(x), \(y))&quot;)
}
// Prints &quot;on the x-axis with an x value of 2&quot;
</pre></div>

<img src="images/coordinateGraphMedium_2x.png" alt="images/coordinateGraphMedium_2x">
<p>The &lsquo;<samp>switch</samp>&rsquo; statement determines whether the point is on the red
x-axis, on the orange y-axis, or elsewhere (on neither axis).
</p>
<p>The three &lsquo;<samp>switch</samp>&rsquo; cases declare placeholder constants &lsquo;<samp>x</samp>&rsquo; and &lsquo;<samp>y</samp>&rsquo;,
which temporarily take on one or both tuple values from &lsquo;<samp>anotherPoint</samp>&rsquo;.
The first case, &lsquo;<samp>case (let x, 0)</samp>&rsquo;, matches any point with a &lsquo;<samp>y</samp>&rsquo; value of
&lsquo;<samp>0</samp>&rsquo; and assigns the point&rsquo;s &lsquo;<samp>x</samp>&rsquo; value to the temporary constant &lsquo;<samp>x</samp>&rsquo;.
Similarly, the second case, &lsquo;<samp>case (0, let y)</samp>&rsquo;, matches any point with an
&lsquo;<samp>x</samp>&rsquo; value of &lsquo;<samp>0</samp>&rsquo; and assigns the point&rsquo;s &lsquo;<samp>y</samp>&rsquo; value to the temporary
constant &lsquo;<samp>y</samp>&rsquo;.
</p>
<p>After the temporary constants are declared, they can be used within the
case&rsquo;s code block. Here, they are used to print the categorization of
the point.
</p>
<p>This &lsquo;<samp>switch</samp>&rsquo; statement does not have a &lsquo;<samp>default</samp>&rsquo; case. The final case,
&lsquo;<samp>case let (x, y)</samp>&rsquo;, declares a tuple of two placeholder constants that
can match any value. Because &lsquo;<samp>anotherPoint</samp>&rsquo; is always a tuple of two
values, this case matches all possible remaining values, and a &lsquo;<samp>default</samp>&rsquo;
case is not needed to make the &lsquo;<samp>switch</samp>&rsquo; statement exhaustive.
</p>
</li><li> Where


<p>A &lsquo;<samp>switch</samp>&rsquo; case can use a &lsquo;<samp>where</samp>&rsquo; clause to check for additional
conditions.
</p>
<p>The example below categorizes an (x, y) point on the following graph:
</p>
<div class="example">
<pre class="example">let yetAnotherPoint = (1, -1)
switch yetAnotherPoint {
case let (x, y) where x == y:
    print(&quot;(\(x), \(y)) is on the line x == y&quot;)
case let (x, y) where x == -y:
    print(&quot;(\(x), \(y)) is on the line x == -y&quot;)
case let (x, y):
    print(&quot;(\(x), \(y)) is just some arbitrary point&quot;)
}
// Prints &quot;(1, -1) is on the line x == -y&quot;
</pre></div>

<img src="images/coordinateGraphComplex_2x.png" alt="images/coordinateGraphComplex_2x">
<p>The &lsquo;<samp>switch</samp>&rsquo; statement determines whether the point is on the green
diagonal line where &lsquo;<samp>x =</samp>&rsquo; y=, on the purple diagonal line where
&lsquo;<samp>x =</samp>&rsquo; -y=, or neither.
</p>
<p>The three &lsquo;<samp>switch</samp>&rsquo; cases declare placeholder constants &lsquo;<samp>x</samp>&rsquo; and &lsquo;<samp>y</samp>&rsquo;,
which temporarily take on the two tuple values from &lsquo;<samp>yetAnotherPoint</samp>&rsquo;.
These constants are used as part of a &lsquo;<samp>where</samp>&rsquo; clause, to create a
dynamic filter. The &lsquo;<samp>switch</samp>&rsquo; case matches the current value of &lsquo;<samp>point</samp>&rsquo;
only if the &lsquo;<samp>where</samp>&rsquo; clause&rsquo;s condition evaluates to &lsquo;<samp>true</samp>&rsquo; for that
value.
</p>
<p>As in the previous example, the final case matches all possible
remaining values, and so a &lsquo;<samp>default</samp>&rsquo; case is not needed to make the
&lsquo;<samp>switch</samp>&rsquo; statement exhaustive.
</p>
</li><li> Compound Cases


<p>Multiple switch cases that share the same body can be combined by
writing several patterns after &lsquo;<samp>case</samp>&rsquo;, with a comma between each of the
patterns. If any of the patterns match, then the case is considered to
match. The patterns can be written over multiple lines if the list is
long. For example:
</p>
<div class="example">
<pre class="example">let someCharacter: Character = &quot;e&quot;
switch someCharacter {
case &quot;a&quot;, &quot;e&quot;, &quot;i&quot;, &quot;o&quot;, &quot;u&quot;:
    print(&quot;\(someCharacter) is a vowel&quot;)
case &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;f&quot;, &quot;g&quot;, &quot;h&quot;, &quot;j&quot;, &quot;k&quot;, &quot;l&quot;, &quot;m&quot;,
     &quot;n&quot;, &quot;p&quot;, &quot;q&quot;, &quot;r&quot;, &quot;s&quot;, &quot;t&quot;, &quot;v&quot;, &quot;w&quot;, &quot;x&quot;, &quot;y&quot;, &quot;z&quot;:
    print(&quot;\(someCharacter) is a consonant&quot;)
default:
    print(&quot;\(someCharacter) is not a vowel or a consonant&quot;)
}
// Prints &quot;e is a vowel&quot;
</pre></div>

<p>The &lsquo;<samp>switch</samp>&rsquo; statement&rsquo;s first case matches all five lowercase vowels in
the English language. Similarly, its second case matches all lowercase
English consonants. Finally, the &lsquo;<samp>default</samp>&rsquo; case matches any other
character.
</p>
<p>Compound cases can also include value bindings. All of the patterns of a
compound case have to include the same set of value bindings, and each
binding has to get a value of the same type from all of the patterns in
the compound case. This ensures that, no matter which part of the
compound case matched, the code in the body of the case can always
access a value for the bindings and that the value always has the same
type.
</p>
<div class="example">
<pre class="example">let stillAnotherPoint = (9, 0)
switch stillAnotherPoint {
case (let distance, 0), (0, let distance):
    print(&quot;On an axis, \(distance) from the origin&quot;)
default:
    print(&quot;Not on an axis&quot;)
}
// Prints &quot;On an axis, 9 from the origin&quot;
</pre></div>

<p>The &lsquo;<samp>case</samp>&rsquo; above has two patterns: &lsquo;<samp>(let distance, 0)</samp>&rsquo; matches points on
the x-axis and &lsquo;<samp>(0, let distance)</samp>&rsquo; matches points on the y-axis. Both
patterns include a binding for &lsquo;<samp>distance</samp>&rsquo; and &lsquo;<samp>distance</samp>&rsquo; is an integer
in both patterns&mdash;which means that the code in the body of the &lsquo;<samp>case</samp>&rsquo;
can always access a value for &lsquo;<samp>distance</samp>&rsquo;.
</p></li></ol>

<hr>
<span id="Control-Transfer-Statements"></span><div class="header">
<p>
Next: <a href="#Early-Exit" accesskey="n" rel="next">Early Exit</a>, Previous: <a href="#Conditional-Statements" accesskey="p" rel="prev">Conditional Statements</a>, Up: <a href="#Control-Flow-1" accesskey="u" rel="up">Control Flow 1</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Control-Transfer-Statements-1"></span><h3 class="section">10.4 Control Transfer Statements</h3>

<span id="index-transfer-control-from-one-piece-of-code-to-another"></span>

<p><em>Control transfer statements</em> change the order in which your code is
executed, by transferring control from one piece of code to another.
Swift has five control transfer statements:
</p>
<ul>
<li> &lsquo;<samp>continue</samp>&rsquo;

</li><li> &lsquo;<samp>break</samp>&rsquo;

</li><li> &lsquo;<samp>fallthrough</samp>&rsquo;

</li><li> &lsquo;<samp>return</samp>&rsquo;

</li><li> &lsquo;<samp>throw</samp>&rsquo;
</li></ul>

<p>The &lsquo;<samp>continue</samp>&rsquo;, &lsquo;<samp>break</samp>&rsquo;, and &lsquo;<samp>fallthrough</samp>&rsquo; statements are described
below. The &lsquo;<samp>return</samp>&rsquo; statement is described in
<a href="#Functions">Functions</a>, and the &lsquo;<samp>throw</samp>&rsquo; statement is described
in <a href="#Propagating-Errors-Using-Throwing-Functions">Propagating Errors Using Throwing Functions</a>.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Continue" accesskey="1">Continue</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Break" accesskey="2">Break</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Fallthrough" accesskey="3">Fallthrough</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Labeled-Statements" accesskey="4">Labeled Statements</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Continue"></span><div class="header">
<p>
Next: <a href="#Break" accesskey="n" rel="next">Break</a>, Up: <a href="#Control-Transfer-Statements" accesskey="u" rel="up">Control Transfer Statements</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Continue-1"></span><h4 class="subsection">10.4.1 Continue</h4>

<span id="index-continue"></span>

<p>The &lsquo;<samp>continue</samp>&rsquo; statement tells a loop to stop what it is doing and start
again at the beginning of the next iteration through the loop. It says
“I am done with the current loop iteration” without leaving the loop
altogether.
</p>
<p>The following example removes all vowels and spaces from a lowercase
string to create a cryptic puzzle phrase:
</p>
<div class="example">
<pre class="example">let puzzleInput = &quot;great minds think alike&quot;
var puzzleOutput = &quot;&quot;
let charactersToRemove: [Character] = [&quot;a&quot;, &quot;e&quot;, &quot;i&quot;, &quot;o&quot;, &quot;u&quot;, &quot; &quot;]
for character in puzzleInput {
    if charactersToRemove.contains(character) {
        continue
    }
    puzzleOutput.append(character)
}
print(puzzleOutput)
// Prints &quot;grtmndsthnklk&quot;
</pre></div>

<p>The code above calls the &lsquo;<samp>continue</samp>&rsquo; keyword whenever it matches a vowel
or a space, causing the current iteration of the loop to end immediately
and to jump straight to the start of the next iteration.
</p>
<hr>
<span id="Break"></span><div class="header">
<p>
Next: <a href="#Fallthrough" accesskey="n" rel="next">Fallthrough</a>, Previous: <a href="#Continue" accesskey="p" rel="prev">Continue</a>, Up: <a href="#Control-Transfer-Statements" accesskey="u" rel="up">Control Transfer Statements</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Break-1"></span><h4 class="subsection">10.4.2 Break</h4>

<span id="index-break"></span>

<p>The &lsquo;<samp>break</samp>&rsquo; statement ends execution of an entire control flow statement
immediately. The &lsquo;<samp>break</samp>&rsquo; statement can be used inside a &lsquo;<samp>switch</samp>&rsquo; or loop
statement when you want to terminate the execution of the &lsquo;<samp>switch</samp>&rsquo; or
loop statement earlier than would otherwise be the case.
</p>
<ol>
<li> Break in a Loop Statement


<p>When used inside a loop statement, &lsquo;<samp>break</samp>&rsquo; ends the loop&rsquo;s execution
immediately and transfers control to the code after the loop&rsquo;s closing
brace (&lsquo;<samp>}</samp>&rsquo;). No further code from the current iteration of the loop is
executed, and no further iterations of the loop are started.
</p>
</li><li> Break in a Switch Statement


<p>When used inside a &lsquo;<samp>switch</samp>&rsquo; statement, &lsquo;<samp>break</samp>&rsquo; causes the &lsquo;<samp>switch</samp>&rsquo;
statement to end its execution immediately and to transfer control to
the code after the &lsquo;<samp>switch</samp>&rsquo; statement&rsquo;s closing brace (&lsquo;<samp>}</samp>&rsquo;).
</p>
<p>This behavior can be used to match and ignore one or more cases in a
&lsquo;<samp>switch</samp>&rsquo; statement. Because Swift&rsquo;s &lsquo;<samp>switch</samp>&rsquo; statement is exhaustive and
does not allow empty cases, it is sometimes necessary to deliberately
match and ignore a case in order to make your intentions explicit. You
do this by writing the &lsquo;<samp>break</samp>&rsquo; statement as the entire body of the case
you want to ignore. When that case is matched by the &lsquo;<samp>switch</samp>&rsquo; statement,
the &lsquo;<samp>break</samp>&rsquo; statement inside the case ends the &lsquo;<samp>switch</samp>&rsquo; statement&rsquo;s
execution immediately.
</p>
<p>Note
</p>
<p>A &lsquo;<samp>switch</samp>&rsquo; case that contains only a comment is reported as a
compile-time error. Comments are not statements and do not cause a
&lsquo;<samp>switch</samp>&rsquo; case to be ignored. Always use a &lsquo;<samp>break</samp>&rsquo; statement to ignore a
&lsquo;<samp>switch</samp>&rsquo; case.
</p>
<p>The following example switches on a &lsquo;<samp>Character</samp>&rsquo; value and determines
whether it represents a number symbol in one of four languages. For
brevity, multiple values are covered in a single &lsquo;<samp>switch</samp>&rsquo; case.
</p>
<div class="example">
<pre class="example">let numberSymbol: Character = &quot;三&quot; // Chinese symbol for the number 3
var possibleIntegerValue: Int?
switch numberSymbol {
case &quot;1&quot;, &quot;١&quot;, &quot;一&quot;, &quot;๑&quot;:
    possibleIntegerValue = 1
case &quot;2&quot;, &quot;٢&quot;, &quot;二&quot;, &quot;๒&quot;:
    possibleIntegerValue = 2
case &quot;3&quot;, &quot;٣&quot;, &quot;三&quot;, &quot;๓&quot;:
    possibleIntegerValue = 3
case &quot;4&quot;, &quot;٤&quot;, &quot;四&quot;, &quot;๔&quot;:
    possibleIntegerValue = 4
default:
    break
}
if let integerValue = possibleIntegerValue {
    print(&quot;The integer value of \(numberSymbol) is \(integerValue).&quot;)
} else {
    print(&quot;An integer value could not be found for \(numberSymbol).&quot;)
}
// Prints &quot;The integer value of 三 is 3.&quot;
</pre></div>

<p>This example checks &lsquo;<samp>numberSymbol</samp>&rsquo; to determine whether it is a Latin,
Arabic, Chinese, or Thai symbol for the numbers &lsquo;<samp>1</samp>&rsquo; to &lsquo;<samp>4</samp>&rsquo;. If a match
is found, one of the &lsquo;<samp>switch</samp>&rsquo; statement&rsquo;s cases sets an optional &lsquo;<samp>Int?</samp>&rsquo;
variable called &lsquo;<samp>possibleIntegerValue</samp>&rsquo; to an appropriate integer value.
</p>
<p>After the &lsquo;<samp>switch</samp>&rsquo; statement completes its execution, the example uses
optional binding to determine whether a value was found. The
&lsquo;<samp>possibleIntegerValue</samp>&rsquo; variable has an implicit initial value of &lsquo;<samp>nil</samp>&rsquo;
by virtue of being an optional type, and so the optional binding will
succeed only if &lsquo;<samp>possibleIntegerValue</samp>&rsquo; was set to an actual value by one
of the &lsquo;<samp>switch</samp>&rsquo; statement&rsquo;s first four cases.
</p>
<p>Because it&rsquo;s not practical to list every possible &lsquo;<samp>Character</samp>&rsquo; value in
the example above, a &lsquo;<samp>default</samp>&rsquo; case handles any characters that are not
matched. This &lsquo;<samp>default</samp>&rsquo; case does not need to perform any action, and so
it is written with a single &lsquo;<samp>break</samp>&rsquo; statement as its body. As soon as
the &lsquo;<samp>default</samp>&rsquo; case is matched, the &lsquo;<samp>break</samp>&rsquo; statement ends the &lsquo;<samp>switch</samp>&rsquo;
statement&rsquo;s execution, and code execution continues from the &lsquo;<samp>if let</samp>&rsquo;
statement.
</p></li></ol>

<hr>
<span id="Fallthrough"></span><div class="header">
<p>
Next: <a href="#Labeled-Statements" accesskey="n" rel="next">Labeled Statements</a>, Previous: <a href="#Break" accesskey="p" rel="prev">Break</a>, Up: <a href="#Control-Transfer-Statements" accesskey="u" rel="up">Control Transfer Statements</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Fallthrough-1"></span><h4 class="subsection">10.4.3 Fallthrough</h4>

<span id="index-no-need-to-break-in-switch-statements"></span>

<p>In Swift, &lsquo;<samp>switch</samp>&rsquo; statements don&rsquo;t fall through the bottom of each case
and into the next one. That is, the entire &lsquo;<samp>switch</samp>&rsquo; statement completes
its execution as soon as the first matching case is completed. By
contrast, C requires you to insert an explicit &lsquo;<samp>break</samp>&rsquo; statement at the
end of every &lsquo;<samp>switch</samp>&rsquo; case to prevent fallthrough. Avoiding default
fallthrough means that Swift &lsquo;<samp>switch</samp>&rsquo; statements are much more concise
and predictable than their counterparts in C, and thus they avoid
executing multiple &lsquo;<samp>switch</samp>&rsquo; cases by mistake.
</p>
<span id="index-fallthrough"></span>

<p>If you need C-style fallthrough behavior, you can opt in to this
behavior on a case-by-case basis with the &lsquo;<samp>fallthrough</samp>&rsquo; keyword. The
example below uses &lsquo;<samp>fallthrough</samp>&rsquo; to create a textual description of a
number.
</p>
<div class="example">
<pre class="example">let integerToDescribe = 5
var description = &quot;The number \(integerToDescribe) is&quot;
switch integerToDescribe {
case 2, 3, 5, 7, 11, 13, 17, 19:
    description += &quot; a prime number, and also&quot;
    fallthrough
default:
    description += &quot; an integer.&quot;
}
print(description)
// Prints &quot;The number 5 is a prime number, and also an integer.&quot;
</pre></div>

<p>This example declares a new &lsquo;<samp>String</samp>&rsquo; variable called &lsquo;<samp>description</samp>&rsquo; and
assigns it an initial value. The function then considers the value of
&lsquo;<samp>integerToDescribe</samp>&rsquo; using a &lsquo;<samp>switch</samp>&rsquo; statement. If the value of
&lsquo;<samp>integerToDescribe</samp>&rsquo; is one of the prime numbers in the list, the
function appends text to the end of &lsquo;<samp>description</samp>&rsquo;, to note that the
number is prime. It then uses the &lsquo;<samp>fallthrough</samp>&rsquo; keyword to “fall into”
the &lsquo;<samp>default</samp>&rsquo; case as well. The &lsquo;<samp>default</samp>&rsquo; case adds some extra text to
the end of the description, and the &lsquo;<samp>switch</samp>&rsquo; statement is complete.
</p>
<p>Unless the value of &lsquo;<samp>integerToDescribe</samp>&rsquo; is in the list of known prime
numbers, it is not matched by the first &lsquo;<samp>switch</samp>&rsquo; case at all. Because
there are no other specific cases, &lsquo;<samp>integerToDescribe</samp>&rsquo; is matched by the
&lsquo;<samp>default</samp>&rsquo; case.
</p>
<p>After the &lsquo;<samp>switch</samp>&rsquo; statement has finished executing, the number&rsquo;s
description is printed using the &lsquo;<samp>print(_:separator:terminator:)</samp>&rsquo;
function. In this example, the number &lsquo;<samp>5</samp>&rsquo; is correctly identified as a
prime number.
</p>
<p>Note
</p>
<p>The &lsquo;<samp>fallthrough</samp>&rsquo; keyword does not check the case conditions for the
&lsquo;<samp>switch</samp>&rsquo; case that it causes execution to fall into. The &lsquo;<samp>fallthrough</samp>&rsquo;
keyword simply causes code execution to move directly to the statements
inside the next case (or &lsquo;<samp>default</samp>&rsquo; case) block, as in C&rsquo;s standard
&lsquo;<samp>switch</samp>&rsquo; statement behavior.
</p>
<hr>
<span id="Labeled-Statements"></span><div class="header">
<p>
Previous: <a href="#Fallthrough" accesskey="p" rel="prev">Fallthrough</a>, Up: <a href="#Control-Transfer-Statements" accesskey="u" rel="up">Control Transfer Statements</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Labeled-Statements-1"></span><h4 class="subsection">10.4.4 Labeled Statements</h4>

<span id="index-goto"></span>

<p>In Swift, you can nest loops and conditional statements inside other
loops and conditional statements to create complex control flow
structures. However, loops and conditional statements can both use the
&lsquo;<samp>break</samp>&rsquo; statement to end their execution prematurely. Therefore, it is
sometimes useful to be explicit about which loop or conditional
statement you want a &lsquo;<samp>break</samp>&rsquo; statement to terminate. Similarly, if you
have multiple nested loops, it can be useful to be explicit about which
loop the &lsquo;<samp>continue</samp>&rsquo; statement should affect.
</p>
<p>To achieve these aims, you can mark a loop statement or conditional
statement with a <em>statement label</em>. With a conditional statement, you
can use a statement label with the &lsquo;<samp>break</samp>&rsquo; statement to end the
execution of the labeled statement. With a loop statement, you can use a
statement label with the &lsquo;<samp>break</samp>&rsquo; or &lsquo;<samp>continue</samp>&rsquo; statement to end or
continue the execution of the labeled statement.
</p>
<p>A labeled statement is indicated by placing a label on the same line as
the statement&rsquo;s introducer keyword, followed by a colon. Here&rsquo;s an
example of this syntax for a &lsquo;<samp>while</samp>&rsquo; loop, although the principle is the
same for all loops and &lsquo;<samp>switch</samp>&rsquo; statements:
</p>
<div class="example">
<pre class="example">label name: while condition {
    statements
}
</pre></div>

<p>The following example uses the &lsquo;<samp>break</samp>&rsquo; and &lsquo;<samp>continue</samp>&rsquo; statements with a
labeled &lsquo;<samp>while</samp>&rsquo; loop for an adapted version of the <em>Snakes and Ladders</em>
game that you saw earlier in this chapter. This time around, the game
has an extra rule:
</p>
<ul>
<li> To win, you must land <em>exactly</em> on square 25.
</li></ul>

<p>If a particular dice roll would take you beyond square 25, you must roll
again until you roll the exact number needed to land on square 25.
</p>
<p>The game board is the same as before.
</p>
<img src="images/snakesAndLadders_2x.png" alt="images/snakesAndLadders_2x">
<p>The values of &lsquo;<samp>finalSquare</samp>&rsquo;, &lsquo;<samp>board</samp>&rsquo;, &lsquo;<samp>square</samp>&rsquo;, and &lsquo;<samp>diceRoll</samp>&rsquo; are
initialized in the same way as before:
</p>
<div class="example">
<pre class="example">let finalSquare = 25
var board = [Int](repeating: 0, count: finalSquare + 1)
board[03] = +08; board[06] = +11; board[09] = +09; board[10] = +02
board[14] = -10; board[19] = -11; board[22] = -02; board[24] = -08
var square = 0
var diceRoll = 0
</pre></div>

<p>This version of the game uses a &lsquo;<samp>while</samp>&rsquo; loop and a &lsquo;<samp>switch</samp>&rsquo; statement to
implement the game&rsquo;s logic. The &lsquo;<samp>while</samp>&rsquo; loop has a statement label
called &lsquo;<samp>gameLoop</samp>&rsquo; to indicate that it is the main game loop for the
Snakes and Ladders game.
</p>
<p>The &lsquo;<samp>while</samp>&rsquo; loop&rsquo;s condition is &lsquo;<samp>while square !</samp>&rsquo; finalSquare=, to
reflect that you must land exactly on square 25.
</p>
<div class="example">
<pre class="example">gameLoop: while square != finalSquare {
    diceRoll += 1
    if diceRoll == 7 { diceRoll = 1 }
    switch square + diceRoll {
    case finalSquare:
        // diceRoll will move us to the final square, so the game is over
        break gameLoop
    case let newSquare where newSquare &gt; finalSquare:
        // diceRoll will move us beyond the final square, so roll again
        continue gameLoop
    default:
        // this is a valid move, so find out its effect
        square += diceRoll
        square += board[square]
    }
}
print(&quot;Game over!&quot;)
</pre></div>

<p>The dice is rolled at the start of each loop. Rather than moving the
player immediately, the loop uses a &lsquo;<samp>switch</samp>&rsquo; statement to consider the
result of the move and to determine whether the move is allowed:
</p>
<ul>
<li> If the dice roll will move the player onto the final square, the game
is over. The &lsquo;<samp>break gameLoop</samp>&rsquo; statement transfers control to the first
line of code outside of the &lsquo;<samp>while</samp>&rsquo; loop, which ends the game.

</li><li> If the dice roll will move the player <em>beyond</em> the final square, the
move is invalid and the player needs to roll again. The
&lsquo;<samp>continue gameLoop</samp>&rsquo; statement ends the current &lsquo;<samp>while</samp>&rsquo; loop iteration
and begins the next iteration of the loop.

</li><li> In all other cases, the dice roll is a valid move. The player moves
forward by &lsquo;<samp>diceRoll</samp>&rsquo; squares, and the game logic checks for any
snakes and ladders. The loop then ends, and control returns to the
&lsquo;<samp>while</samp>&rsquo; condition to decide whether another turn is required.
</li></ul>

<p>Note
</p>
<p>If the &lsquo;<samp>break</samp>&rsquo; statement above did not use the &lsquo;<samp>gameLoop</samp>&rsquo; label, it
would break out of the &lsquo;<samp>switch</samp>&rsquo; statement, not the &lsquo;<samp>while</samp>&rsquo; statement.
Using the &lsquo;<samp>gameLoop</samp>&rsquo; label makes it clear which control statement should
be terminated.
</p>
<p>It is not strictly necessary to use the &lsquo;<samp>gameLoop</samp>&rsquo; label when calling
&lsquo;<samp>continue gameLoop</samp>&rsquo; to jump to the next iteration of the loop. There is
only one loop in the game, and therefore no ambiguity as to which loop
the &lsquo;<samp>continue</samp>&rsquo; statement will affect. However, there is no harm in using
the &lsquo;<samp>gameLoop</samp>&rsquo; label with the &lsquo;<samp>continue</samp>&rsquo; statement. Doing so is
consistent with the label&rsquo;s use alongside the &lsquo;<samp>break</samp>&rsquo; statement and
helps make the game&rsquo;s logic clearer to read and understand.
</p>
<hr>
<span id="Early-Exit"></span><div class="header">
<p>
Next: <a href="#Checking-API-Availability" accesskey="n" rel="next">Checking API Availability</a>, Previous: <a href="#Control-Transfer-Statements" accesskey="p" rel="prev">Control Transfer Statements</a>, Up: <a href="#Control-Flow-1" accesskey="u" rel="up">Control Flow 1</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Early-Exit-1"></span><h3 class="section">10.5 Early Exit</h3>

<span id="index-early-return"></span>
<span id="index-guard"></span>

<p>A &lsquo;<samp>guard</samp>&rsquo; statement, like an &lsquo;<samp>if</samp>&rsquo; statement, executes statements
depending on the Boolean value of an expression. You use a &lsquo;<samp>guard</samp>&rsquo;
statement to require that a condition must be true in order for the code
after the &lsquo;<samp>guard</samp>&rsquo; statement to be executed. Unlike an &lsquo;<samp>if</samp>&rsquo; statement, a
&lsquo;<samp>guard</samp>&rsquo; statement always has an &lsquo;<samp>else</samp>&rsquo; clause&mdash;the code inside the
&lsquo;<samp>else</samp>&rsquo; clause is executed if the condition is not true.
</p>
<div class="example">
<pre class="example">func greet(person: [String: String]) {
    guard let name = person[&quot;name&quot;] else {
        return
    }

    print(&quot;Hello \(name)!&quot;)

    guard let location = person[&quot;location&quot;] else {
        print(&quot;I hope the weather is nice near you.&quot;)
        return
    }

    print(&quot;I hope the weather is nice in \(location).&quot;)
}

greet(person: [&quot;name&quot;: &quot;John&quot;])
// Prints &quot;Hello John!&quot;
// Prints &quot;I hope the weather is nice near you.&quot;
greet(person: [&quot;name&quot;: &quot;Jane&quot;, &quot;location&quot;: &quot;Cupertino&quot;])
// Prints &quot;Hello Jane!&quot;
// Prints &quot;I hope the weather is nice in Cupertino.&quot;
</pre></div>

<p>If the &lsquo;<samp>guard</samp>&rsquo; statement&rsquo;s condition is met, code execution continues
after the &lsquo;<samp>guard</samp>&rsquo; statement&rsquo;s closing brace. Any variables or constants
that were assigned values using an optional binding as part of the
condition are available for the rest of the code block that the &lsquo;<samp>guard</samp>&rsquo;
statement appears in.
</p>
<p>If that condition is not met, the code inside the &lsquo;<samp>else</samp>&rsquo; branch is
executed. That branch must transfer control to exit the code block in
which the &lsquo;<samp>guard</samp>&rsquo; statement appears. It can do this with a control
transfer statement such as &lsquo;<samp>return</samp>&rsquo;, &lsquo;<samp>break</samp>&rsquo;, &lsquo;<samp>continue</samp>&rsquo;, or &lsquo;<samp>throw</samp>&rsquo;, or
it can call a function or method that doesn&rsquo;t return, such as
&lsquo;<samp>fatalError(_:file:line:)</samp>&rsquo;.
</p>
<p>Using a &lsquo;<samp>guard</samp>&rsquo; statement for requirements improves the readability of
your code, compared to doing the same check with an &lsquo;<samp>if</samp>&rsquo; statement. It
lets you write the code that&rsquo;s typically executed without wrapping it in
an &lsquo;<samp>else</samp>&rsquo; block, and it lets you keep the code that handles a violated
requirement next to the requirement.
</p>
<hr>
<span id="Checking-API-Availability"></span><div class="header">
<p>
Previous: <a href="#Early-Exit" accesskey="p" rel="prev">Early Exit</a>, Up: <a href="#Control-Flow-1" accesskey="u" rel="up">Control Flow 1</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Checking-API-Availability-1"></span><h3 class="section">10.6 Checking API Availability</h3>

<span id="index-_0023available"></span>

<p>Swift has built-in support for checking API availability, which ensures
that you don&rsquo;t accidentally use APIs that are unavailable on a given
deployment target.
</p>
<p>The compiler uses availability information in the SDK to verify that all
of the APIs used in your code are available on the deployment target
specified by your project. Swift reports an error at compile time if you
try to use an API that isn&rsquo;t available.
</p>
<p>You use an <em>availability condition</em> in an &lsquo;<samp>if</samp>&rsquo; or &lsquo;<samp>guard</samp>&rsquo; statement to
conditionally execute a block of code, depending on whether the APIs you
want to use are available at runtime. The compiler uses the information
from the availability condition when it verifies that the APIs in that
block of code are available.
</p>
<div class="example">
<pre class="example">if #available(iOS 10, macOS 10.12, *) {
    // Use iOS 10 APIs on iOS, and use macOS 10.12 APIs on macOS
} else {
    // Fall back to earlier iOS and macOS APIs
}
</pre></div>

<p>The availability condition above specifies that in iOS, the body of the
&lsquo;<samp>if</samp>&rsquo; statement executes only in iOS 10 and later; in macOS, only in
macOS 10.12 and later. The last argument, &lsquo;<samp>*</samp>&rsquo;, is required and specifies
that on any other platform, the body of the &lsquo;<samp>if</samp>&rsquo; executes on the minimum
deployment target specified by your target.
</p>
<p>In its general form, the availability condition takes a list of platform
names and versions. You use platform names such as &lsquo;<samp>iOS</samp>&rsquo;, &lsquo;<samp>macOS</samp>&rsquo;,
&lsquo;<samp>watchOS</samp>&rsquo;, and &lsquo;<samp>tvOS</samp>&rsquo;&mdash;for the full list, see
Declaration Attributes.
In addition to specifying major version numbers like iOS 8 or macOS
10.10, you can specify minor versions numbers like iOS 11.2.6 and macOS
10.13.3.
</p>
<div class="example">
<pre class="example">if #available(platform name version, ..., *) {
    statements to execute if the APIs are available
} else {
    fallback statements to execute if the APIs are unavailable
}
</pre></div>

<hr>
<span id="Functions"></span><div class="header">
<p>
Next: <a href="#Closures" accesskey="n" rel="next">Closures</a>, Previous: <a href="#Control-Flow-1" accesskey="p" rel="prev">Control Flow 1</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Functions-1"></span><h2 class="chapter">11 Functions</h2>

<p><em>Functions</em> are self-contained chunks of code that perform a specific
task. You give a function a name that identifies what it does, and this
name is used to “call” the function to perform its task when needed.
</p>
<p>Swift&rsquo;s unified function syntax is flexible enough to express anything
from a simple C-style function with no parameter names to a complex
Objective-C-style method with names and argument labels for each
parameter. Parameters can provide default values to simplify function
calls and can be passed as in-out parameters, which modify a passed
variable once the function has completed its execution.
</p>
<p>Every function in Swift has a type, consisting of the function&rsquo;s
parameter types and return type. You can use this type like any other
type in Swift, which makes it easy to pass functions as parameters to
other functions, and to return functions from functions. Functions can
also be written within other functions to encapsulate useful
functionality within a nested function scope.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Defining-and-Calling-Functions" accesskey="1">Defining and Calling Functions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Function-Parameters-and-Return-Values" accesskey="2">Function Parameters and Return Values</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Function-Argument-Labels-and-Parameter-Names" accesskey="3">Function Argument Labels and Parameter Names</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Function-Types" accesskey="4">Function Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Nested-Functions" accesskey="5">Nested Functions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Defining-and-Calling-Functions"></span><div class="header">
<p>
Next: <a href="#Function-Parameters-and-Return-Values" accesskey="n" rel="next">Function Parameters and Return Values</a>, Up: <a href="#Functions" accesskey="u" rel="up">Functions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Defining-and-Calling-Functions-1"></span><h3 class="section">11.1 Defining and Calling Functions</h3>

<span id="index-func"></span>

<p>When you define a function, you can optionally define one or more named,
typed values that the function takes as input, known as <em>parameters</em>.
You can also optionally define a type of value that the function will
pass back as output when it is done, known as its <em>return type</em>.
</p>
<p>Every function has a <em>function name</em>, which describes the task that the
function performs. To use a function, you “call” that function with its
name and pass it input values (known as <em>arguments</em>) that match the
types of the function&rsquo;s parameters. A function&rsquo;s arguments must always
be provided in the same order as the function&rsquo;s parameter list.
</p>
<p>The function in the example below is called &lsquo;<samp>greet(person:)</samp>&rsquo;, because
that&rsquo;s what it does&mdash;it takes a person&rsquo;s name as input and returns a
greeting for that person. To accomplish this, you define one input
parameter&mdash;a &lsquo;<samp>String</samp>&rsquo; value called &lsquo;<samp>person</samp>&rsquo;&mdash;and a return type of
&lsquo;<samp>String</samp>&rsquo;, which will contain a greeting for that person:
</p>
<div class="example">
<pre class="example">func greet(person: String) -&gt; String {
    let greeting = &quot;Hello, &quot; + person + &quot;!&quot;
    return greeting
}
</pre></div>

<p>All of this information is rolled up into the function&rsquo;s <em>definition</em>,
which is prefixed with the &lsquo;<samp>func</samp>&rsquo; keyword. You indicate the function&rsquo;s
return type with the <em>return arrow</em> &lsquo;<samp>-&gt;</samp>&rsquo; (a hyphen followed by a right
angle bracket), which is followed by the name of the type to return.
</p>
<p>The definition describes what the function does, what it expects to
receive, and what it returns when it is done. The definition makes it
easy for the function to be called unambiguously from elsewhere in your
code:
</p>
<div class="example">
<pre class="example">print(greet(person: &quot;Anna&quot;))
// Prints &quot;Hello, Anna!&quot;
print(greet(person: &quot;Brian&quot;))
// Prints &quot;Hello, Brian!&quot;
</pre></div>

<p>You call the &lsquo;<samp>greet(person:)</samp>&rsquo; function by passing it a &lsquo;<samp>String</samp>&rsquo; value
after the &lsquo;<samp>person</samp>&rsquo; argument label, such as &lsquo;<samp>greet(person: &quot;Anna&quot;)</samp>&rsquo;.
Because the function returns a &lsquo;<samp>String</samp>&rsquo; value, &lsquo;<samp>greet(person:)</samp>&rsquo; can be
wrapped in a call to the &lsquo;<samp>print(_:separator:terminator:)</samp>&rsquo; function to
print that string and see its return value, as shown above.
</p>
<p>Note
</p>
<p>The &lsquo;<samp>print(_:separator:terminator:)</samp>&rsquo; function doesn&rsquo;t have a label for
its first argument, and its other arguments are optional because they
have a default value. These variations on function syntax are discussed
below in <a href="#Function-Argument-Labels-and-Parameter-Names">Function Argument Labels and Parameter Names</a> and <a href="#Default-Parameter-Values">Default Parameter
Values</a>.
</p>
<p>The body of the &lsquo;<samp>greet(person:)</samp>&rsquo; function starts by defining a new
&lsquo;<samp>String</samp>&rsquo; constant called &lsquo;<samp>greeting</samp>&rsquo; and setting it to a simple greeting
message. This greeting is then passed back out of the function using the
&lsquo;<samp>return</samp>&rsquo; keyword. In the line of code that says &lsquo;<samp>return greeting</samp>&rsquo;, the
function finishes its execution and returns the current value of
&lsquo;<samp>greeting</samp>&rsquo;.
</p>
<p>You can call the &lsquo;<samp>greet(person:)</samp>&rsquo; function multiple times with different
input values. The example above shows what happens if it is called with
an input value of &lsquo;<samp>&quot;Anna&quot;</samp>&rsquo;, and an input value of &lsquo;<samp>&quot;Brian&quot;</samp>&rsquo;. The
function returns a tailored greeting in each case.
</p>
<p>To make the body of this function shorter, you can combine the message
creation and the return statement into one line:
</p>
<div class="example">
<pre class="example">func greetAgain(person: String) -&gt; String {
    return &quot;Hello again, &quot; + person + &quot;!&quot;
}
print(greetAgain(person: &quot;Anna&quot;))
// Prints &quot;Hello again, Anna!&quot;
</pre></div>

<hr>
<span id="Function-Parameters-and-Return-Values"></span><div class="header">
<p>
Next: <a href="#Function-Argument-Labels-and-Parameter-Names" accesskey="n" rel="next">Function Argument Labels and Parameter Names</a>, Previous: <a href="#Defining-and-Calling-Functions" accesskey="p" rel="prev">Defining and Calling Functions</a>, Up: <a href="#Functions" accesskey="u" rel="up">Functions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Function-Parameters-and-Return-Values-1"></span><h3 class="section">11.2 Function Parameters and Return Values</h3>

<span id="index-return"></span>

<p>Function parameters and return values are extremely flexible in Swift.
You can define anything from a simple utility function with a single
unnamed parameter to a complex function with expressive parameter names
and different parameter options.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Functions-Without-Parameters" accesskey="1">Functions Without Parameters</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Functions-With-Multiple-Parameters" accesskey="2">Functions With Multiple Parameters</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Functions-Without-Return-Values" accesskey="3">Functions Without Return Values</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Functions-with-Multiple-Return-Values" accesskey="4">Functions with Multiple Return Values</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Functions-With-an-Implicit-Return" accesskey="5">Functions With an Implicit Return</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Functions-Without-Parameters"></span><div class="header">
<p>
Next: <a href="#Functions-With-Multiple-Parameters" accesskey="n" rel="next">Functions With Multiple Parameters</a>, Up: <a href="#Function-Parameters-and-Return-Values" accesskey="u" rel="up">Function Parameters and Return Values</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Functions-Without-Parameters-1"></span><h4 class="subsection">11.2.1 Functions Without Parameters</h4>

<p>Functions are not required to define input parameters. Here&rsquo;s a function
with no input parameters, which always returns the same &lsquo;<samp>String</samp>&rsquo; message
whenever it is called:
</p>
<div class="example">
<pre class="example">func sayHelloWorld() -&gt; String {
    return &quot;hello, world&quot;
}
print(sayHelloWorld())
// Prints &quot;hello, world&quot;
</pre></div>

<p>The function definition still needs parentheses after the function&rsquo;s
name, even though it does not take any parameters. The function name is
also followed by an empty pair of parentheses when the function is
called.
</p>
<hr>
<span id="Functions-With-Multiple-Parameters"></span><div class="header">
<p>
Next: <a href="#Functions-Without-Return-Values" accesskey="n" rel="next">Functions Without Return Values</a>, Previous: <a href="#Functions-Without-Parameters" accesskey="p" rel="prev">Functions Without Parameters</a>, Up: <a href="#Function-Parameters-and-Return-Values" accesskey="u" rel="up">Function Parameters and Return Values</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Functions-With-Multiple-Parameters-1"></span><h4 class="subsection">11.2.2 Functions With Multiple Parameters</h4>

<p>Functions can have multiple input parameters, which are written within
the function&rsquo;s parentheses, separated by commas.
</p>
<p>This function takes a person&rsquo;s name and whether they have already been
greeted as input, and returns an appropriate greeting for that person:
</p>
<div class="example">
<pre class="example">func greet(person: String, alreadyGreeted: Bool) -&gt; String {
    if alreadyGreeted {
        return greetAgain(person: person)
    } else {
        return greet(person: person)
    }
}
print(greet(person: &quot;Tim&quot;, alreadyGreeted: true))
// Prints &quot;Hello again, Tim!&quot;
</pre></div>

<p>You call the &lsquo;<samp>greet(person:alreadyGreeted:)</samp>&rsquo; function by passing it both
a &lsquo;<samp>String</samp>&rsquo; argument value labeled &lsquo;<samp>person</samp>&rsquo; and a &lsquo;<samp>Bool</samp>&rsquo; argument value
labeled &lsquo;<samp>alreadyGreeted</samp>&rsquo; in parentheses, separated by commas. Note that
this function is distinct from the &lsquo;<samp>greet(person:)</samp>&rsquo; function shown in an
earlier section. Although both functions have names that begin with
&lsquo;<samp>greet</samp>&rsquo;, the &lsquo;<samp>greet(person:alreadyGreeted:)</samp>&rsquo; function takes two
arguments but the &lsquo;<samp>greet(person:)</samp>&rsquo; function takes only one.
</p>
<hr>
<span id="Functions-Without-Return-Values"></span><div class="header">
<p>
Next: <a href="#Functions-with-Multiple-Return-Values" accesskey="n" rel="next">Functions with Multiple Return Values</a>, Previous: <a href="#Functions-With-Multiple-Parameters" accesskey="p" rel="prev">Functions With Multiple Parameters</a>, Up: <a href="#Function-Parameters-and-Return-Values" accesskey="u" rel="up">Function Parameters and Return Values</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Functions-Without-Return-Values-1"></span><h4 class="subsection">11.2.3 Functions Without Return Values</h4>

<p>Functions are not required to define a return type. Here&rsquo;s a version of
the &lsquo;<samp>greet(person:)</samp>&rsquo; function, which prints its own &lsquo;<samp>String</samp>&rsquo; value
rather than returning it:
</p>
<div class="example">
<pre class="example">func greet(person: String) {
    print(&quot;Hello, \(person)!&quot;)
}
greet(person: &quot;Dave&quot;)
// Prints &quot;Hello, Dave!&quot;
</pre></div>

<p>Because it does not need to return a value, the function&rsquo;s definition
does not include the return arrow (&lsquo;<samp>-&gt;</samp>&rsquo;) or a return type.
</p>
<p>Note
</p>
<p>Strictly speaking, this version of the &lsquo;<samp>greet(person:)</samp>&rsquo; function <em>does</em>
still return a value, even though no return value is defined. Functions
without a defined return type return a special value of type &lsquo;<samp>Void</samp>&rsquo;.
This is simply an empty tuple, which is written as &lsquo;<samp>()</samp>&rsquo;.
</p>
<p>The return value of a function can be ignored when it is called:
</p>
<div class="example">
<pre class="example">func printAndCount(string: String) -&gt; Int {
    print(string)
    return string.count
}
func printWithoutCounting(string: String) {
    let _ = printAndCount(string: string)
}
printAndCount(string: &quot;hello, world&quot;)
// prints &quot;hello, world&quot; and returns a value of 12
printWithoutCounting(string: &quot;hello, world&quot;)
// prints &quot;hello, world&quot; but does not return a value
</pre></div>

<p>The first function, &lsquo;<samp>printAndCount(string:)</samp>&rsquo;, prints a string, and then
returns its character count as an &lsquo;<samp>Int</samp>&rsquo;. The second function,
&lsquo;<samp>printWithoutCounting(string:)</samp>&rsquo;, calls the first function, but ignores
its return value. When the second function is called, the message is
still printed by the first function, but the returned value is not used.
</p>
<p>Note
</p>
<p>Return values can be ignored, but a function that says it will return a
value must always do so. A function with a defined return type cannot
allow control to fall out of the bottom of the function without
returning a value, and attempting to do so will result in a compile-time
error.
</p>
<hr>
<span id="Functions-with-Multiple-Return-Values"></span><div class="header">
<p>
Next: <a href="#Functions-With-an-Implicit-Return" accesskey="n" rel="next">Functions With an Implicit Return</a>, Previous: <a href="#Functions-Without-Return-Values" accesskey="p" rel="prev">Functions Without Return Values</a>, Up: <a href="#Function-Parameters-and-Return-Values" accesskey="u" rel="up">Function Parameters and Return Values</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Functions-with-Multiple-Return-Values-1"></span><h4 class="subsection">11.2.4 Functions with Multiple Return Values</h4>

<p>You can use a tuple type as the return type for a function to return
multiple values as part of one compound return value.
</p>
<p>The example below defines a function called &lsquo;<samp>minMax(array:)</samp>&rsquo;, which
finds the smallest and largest numbers in an array of &lsquo;<samp>Int</samp>&rsquo; values:
</p>
<div class="example">
<pre class="example">func minMax(array: [Int]) -&gt; (min: Int, max: Int) {
    var currentMin = array[0]
    var currentMax = array[0]
    for value in array[1..&lt;array.count] {
        if value &lt; currentMin {
            currentMin = value
        } else if value &gt; currentMax {
            currentMax = value
        }
    }
    return (currentMin, currentMax)
}
</pre></div>

<p>The &lsquo;<samp>minMax(array:)</samp>&rsquo; function returns a tuple containing two &lsquo;<samp>Int</samp>&rsquo;
values. These values are labeled &lsquo;<samp>min</samp>&rsquo; and &lsquo;<samp>max</samp>&rsquo; so that they can be
accessed by name when querying the function&rsquo;s return value.
</p>
<p>The body of the &lsquo;<samp>minMax(array:)</samp>&rsquo; function starts by setting two working
variables called &lsquo;<samp>currentMin</samp>&rsquo; and &lsquo;<samp>currentMax</samp>&rsquo; to the value of the first
integer in the array. The function then iterates over the remaining
values in the array and checks each value to see if it is smaller or
larger than the values of &lsquo;<samp>currentMin</samp>&rsquo; and &lsquo;<samp>currentMax</samp>&rsquo; respectively.
Finally, the overall minimum and maximum values are returned as a tuple
of two &lsquo;<samp>Int</samp>&rsquo; values.
</p>
<p>Because the tuple&rsquo;s member values are named as part of the function&rsquo;s
return type, they can be accessed with dot syntax to retrieve the
minimum and maximum found values:
</p>
<div class="example">
<pre class="example">let bounds = minMax(array: [8, -6, 2, 109, 3, 71])
print(&quot;min is \(bounds.min) and max is \(bounds.max)&quot;)
// Prints &quot;min is -6 and max is 109&quot;
</pre></div>

<p>Note that the tuple&rsquo;s members do not need to be named at the point that
the tuple is returned from the function, because their names are already
specified as part of the function&rsquo;s return type.
</p>
<ol>
<li> Optional Tuple Return Types


<p>If the tuple type to be returned from a function has the potential to
have “no value” for the entire tuple, you can use an <em>optional</em> tuple
return type to reflect the fact that the entire tuple can be &lsquo;<samp>nil</samp>&rsquo;. You
write an optional tuple return type by placing a question mark after the
tuple type&rsquo;s closing parenthesis, such as &lsquo;<samp>(Int, Int)?</samp>&rsquo; or
&lsquo;<samp>(String, Int, Bool)?</samp>&rsquo;.
</p>
<p>Note
</p>
<p>An optional tuple type such as &lsquo;<samp>(Int, Int)?</samp>&rsquo; is different from a tuple
that contains optional types such as &lsquo;<samp>(Int?, Int?)</samp>&rsquo;. With an optional
tuple type, the entire tuple is optional, not just each individual value
within the tuple.
</p>
<p>The &lsquo;<samp>minMax(array:)</samp>&rsquo; function above returns a tuple containing two &lsquo;<samp>Int</samp>&rsquo;
values. However, the function does not perform any safety checks on the
array it is passed. If the &lsquo;<samp>array</samp>&rsquo; argument contains an empty array, the
&lsquo;<samp>minMax(array:)</samp>&rsquo; function, as defined above, will trigger a runtime
error when attempting to access &lsquo;<samp>array[0]</samp>&rsquo;.
</p>
<p>To handle an empty array safely, write the &lsquo;<samp>minMax(array:)</samp>&rsquo; function
with an optional tuple return type and return a value of &lsquo;<samp>nil</samp>&rsquo; when the
array is empty:
</p>
<div class="example">
<pre class="example">func minMax(array: [Int]) -&gt; (min: Int, max: Int)? {
    if array.isEmpty { return nil }
    var currentMin = array[0]
    var currentMax = array[0]
    for value in array[1..&lt;array.count] {
        if value &lt; currentMin {
            currentMin = value
        } else if value &gt; currentMax {
            currentMax = value
        }
    }
    return (currentMin, currentMax)
}
</pre></div>

<p>You can use optional binding to check whether this version of the
&lsquo;<samp>minMax(array:)</samp>&rsquo; function returns an actual tuple value or &lsquo;<samp>nil</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">if let bounds = minMax(array: [8, -6, 2, 109, 3, 71]) {
    print(&quot;min is \(bounds.min) and max is \(bounds.max)&quot;)
}
// Prints &quot;min is -6 and max is 109&quot;
</pre></div>
</li></ol>

<hr>
<span id="Functions-With-an-Implicit-Return"></span><div class="header">
<p>
Previous: <a href="#Functions-with-Multiple-Return-Values" accesskey="p" rel="prev">Functions with Multiple Return Values</a>, Up: <a href="#Function-Parameters-and-Return-Values" accesskey="u" rel="up">Function Parameters and Return Values</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Functions-With-an-Implicit-Return-1"></span><h4 class="subsection">11.2.5 Functions With an Implicit Return</h4>

<p><a href="https://github.com/apple/swift-evolution/blob/master/proposals/0255-omit-return.md">Proposal</a>
</p>
<p>If the entire body of the function is a single expression, the function
implicitly returns that expression. For example, both functions below
have the same behavior:
</p>
<div class="example">
<pre class="example">func greeting(for person: String) -&gt; String {
    &quot;Hello, &quot; + person + &quot;!&quot;
}
print(greeting(for: &quot;Dave&quot;))
// Prints &quot;Hello, Dave!&quot;

func anotherGreeting(for person: String) -&gt; String {
    return &quot;Hello, &quot; + person + &quot;!&quot;
}
print(anotherGreeting(for: &quot;Dave&quot;))
// Prints &quot;Hello, Dave!&quot;
</pre></div>

<p>The entire definition of the &lsquo;<samp>greeting(for:)</samp>&rsquo; function is the greeting
message that it returns, which means it can use this shorter form. The
&lsquo;<samp>anotherGreeting(for:)</samp>&rsquo; function returns the same greeting message,
using the &lsquo;<samp>return</samp>&rsquo; keyword like a longer function. Any function that you
write as just one &lsquo;<samp>return</samp>&rsquo; line can omit the &lsquo;<samp>return</samp>&rsquo;.
</p>
<p>As you&rsquo;ll see in <a href="#Shorthand-Getter-Declaration">Shorthand Getter
Declaration</a>, property getters can also use an implicit return.
</p>
<hr>
<span id="Function-Argument-Labels-and-Parameter-Names"></span><div class="header">
<p>
Next: <a href="#Function-Types" accesskey="n" rel="next">Function Types</a>, Previous: <a href="#Function-Parameters-and-Return-Values" accesskey="p" rel="prev">Function Parameters and Return Values</a>, Up: <a href="#Functions" accesskey="u" rel="up">Functions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Function-Argument-Labels-and-Parameter-Names-1"></span><h3 class="section">11.3 Function Argument Labels and Parameter Names</h3>

<p>Each function parameter has both an <em>argument label</em> and a <em>parameter
name</em>. The argument label is used when calling the function; each
argument is written in the function call with its argument label before
it. The parameter name is used in the implementation of the function. By
default, parameters use their parameter name as their argument label.
</p>
<div class="example">
<pre class="example">func someFunction(firstParameterName: Int, secondParameterName: Int) {
    // In the function body, firstParameterName and secondParameterName
    // refer to the argument values for the first and second parameters.
}
someFunction(firstParameterName: 1, secondParameterName: 2)
</pre></div>

<p>All parameters must have unique names. Although it&rsquo;s possible for
multiple parameters to have the same argument label, unique argument
labels help make your code more readable.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Specifying-Argument-Labels" accesskey="1">Specifying Argument Labels</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Omitting-Argument-Labels" accesskey="2">Omitting Argument Labels</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Default-Parameter-Values" accesskey="3">Default Parameter Values</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Variadic-Parameters" accesskey="4">Variadic Parameters</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#In_002dOut-Parameters" accesskey="5">In-Out Parameters</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Specifying-Argument-Labels"></span><div class="header">
<p>
Next: <a href="#Omitting-Argument-Labels" accesskey="n" rel="next">Omitting Argument Labels</a>, Up: <a href="#Function-Argument-Labels-and-Parameter-Names" accesskey="u" rel="up">Function Argument Labels and Parameter Names</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Specifying-Argument-Labels-1"></span><h4 class="subsection">11.3.1 Specifying Argument Labels</h4>

<p>You write an argument label before the parameter name, separated by a
space:
</p>
<div class="example">
<pre class="example">func someFunction(argumentLabel parameterName: Int) {
    // In the function body, parameterName refers to the argument value
    // for that parameter.
}
</pre></div>

<p>Here&rsquo;s a variation of the &lsquo;<samp>greet(person:)</samp>&rsquo; function that takes a
person&rsquo;s name and hometown and returns a greeting:
</p>
<div class="example">
<pre class="example">func greet(person: String, from hometown: String) -&gt; String {
    return &quot;Hello \(person)! Glad you could visit from \(hometown).&quot;
}
print(greet(person: &quot;Bill&quot;, from: &quot;Cupertino&quot;))
// Prints &quot;Hello Bill! Glad you could visit from Cupertino.&quot;
</pre></div>

<p>The use of argument labels can allow a function to be called in an
expressive, sentence-like manner, while still providing a function body
that is readable and clear in intent.
</p>
<hr>
<span id="Omitting-Argument-Labels"></span><div class="header">
<p>
Next: <a href="#Default-Parameter-Values" accesskey="n" rel="next">Default Parameter Values</a>, Previous: <a href="#Specifying-Argument-Labels" accesskey="p" rel="prev">Specifying Argument Labels</a>, Up: <a href="#Function-Argument-Labels-and-Parameter-Names" accesskey="u" rel="up">Function Argument Labels and Parameter Names</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Omitting-Argument-Labels-1"></span><h4 class="subsection">11.3.2 Omitting Argument Labels</h4>

<span id="index-_005f-2"></span>

<p>If you don&rsquo;t want an argument label for a parameter, write an underscore
(&lsquo;<samp>_</samp>&rsquo;) instead of an explicit argument label for that parameter.
</p>
<div class="example">
<pre class="example">func someFunction(_ firstParameterName: Int, secondParameterName: Int) {
    // In the function body, firstParameterName and secondParameterName
    // refer to the argument values for the first and second parameters.
}
someFunction(1, secondParameterName: 2)
</pre></div>

<p>If a parameter has an argument label, the argument <em>must</em> be labeled
when you call the function.
</p>
<hr>
<span id="Default-Parameter-Values"></span><div class="header">
<p>
Next: <a href="#Variadic-Parameters" accesskey="n" rel="next">Variadic Parameters</a>, Previous: <a href="#Omitting-Argument-Labels" accesskey="p" rel="prev">Omitting Argument Labels</a>, Up: <a href="#Function-Argument-Labels-and-Parameter-Names" accesskey="u" rel="up">Function Argument Labels and Parameter Names</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Default-Parameter-Values-1"></span><h4 class="subsection">11.3.3 Default Parameter Values</h4>

<p>You can define a <em>default value</em> for any parameter in a function by
assigning a value to the parameter after that parameter&rsquo;s type. If a
default value is defined, you can omit that parameter when calling the
function.
</p>
<div class="example">
<pre class="example">func someFunction(parameterWithoutDefault: Int, parameterWithDefault: Int = 12) {
    // If you omit the second argument when calling this function, then
    // the value of parameterWithDefault is 12 inside the function body.
}
someFunction(parameterWithoutDefault: 3, parameterWithDefault: 6) // parameterWithDefault is 6
someFunction(parameterWithoutDefault: 4) // parameterWithDefault is 12
</pre></div>

<p>Place parameters that don&rsquo;t have default values at the beginning of a
function&rsquo;s parameter list, before the parameters that have default
values. Parameters that don&rsquo;t have default values are usually more
important to the function&rsquo;s meaning&mdash;writing them first makes it easier
to recognize that the same function is being called, regardless of
whether any default parameters are omitted.
</p>
<hr>
<span id="Variadic-Parameters"></span><div class="header">
<p>
Next: <a href="#In_002dOut-Parameters" accesskey="n" rel="next">In-Out Parameters</a>, Previous: <a href="#Default-Parameter-Values" accesskey="p" rel="prev">Default Parameter Values</a>, Up: <a href="#Function-Argument-Labels-and-Parameter-Names" accesskey="u" rel="up">Function Argument Labels and Parameter Names</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Variadic-Parameters-1"></span><h4 class="subsection">11.3.4 Variadic Parameters</h4>

<p>A <em>variadic parameter</em> accepts zero or more values of a specified type.
You use a variadic parameter to specify that the parameter can be passed
a varying number of input values when the function is called. Write
variadic parameters by inserting three period characters (&lsquo;<samp>...</samp>&rsquo;) after
the parameter&rsquo;s type name.
</p>
<p>The values passed to a variadic parameter are made available within the
function&rsquo;s body as an array of the appropriate type. For example, a
variadic parameter with a name of &lsquo;<samp>numbers</samp>&rsquo; and a type of &lsquo;<samp>Double...</samp>&rsquo; is
made available within the function&rsquo;s body as a constant array called
&lsquo;<samp>numbers</samp>&rsquo; of type &lsquo;<samp>[Double]</samp>&rsquo;.
</p>
<p>The example below calculates the <em>arithmetic mean</em> (also known as the
<em>average</em>) for a list of numbers of any length:
</p>
<div class="example">
<pre class="example">func arithmeticMean(_ numbers: Double...) -&gt; Double {
    var total: Double = 0
    for number in numbers {
        total += number
    }
    return total / Double(numbers.count)
}
arithmeticMean(1, 2, 3, 4, 5)
// returns 3.0, which is the arithmetic mean of these five numbers
arithmeticMean(3, 8.25, 18.75)
// returns 10.0, which is the arithmetic mean of these three numbers
</pre></div>

<p>Note
</p>
<p>A function may have at most one variadic parameter.
</p>
<hr>
<span id="In_002dOut-Parameters"></span><div class="header">
<p>
Previous: <a href="#Variadic-Parameters" accesskey="p" rel="prev">Variadic Parameters</a>, Up: <a href="#Function-Argument-Labels-and-Parameter-Names" accesskey="u" rel="up">Function Argument Labels and Parameter Names</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="In_002dOut-Parameters-1"></span><h4 class="subsection">11.3.5 In-Out Parameters</h4>

<p>Function parameters are constants by default. Trying to change the value
of a function parameter from within the body of that function results in
a compile-time error. This means that you can&rsquo;t change the value of a
parameter by mistake. If you want a function to modify a parameter&rsquo;s
value, and you want those changes to persist after the function call has
ended, define that parameter as an <em>in-out parameter</em> instead.
</p>
<span id="index-inout"></span>

<p>You write an in-out parameter by placing the &lsquo;<samp>inout</samp>&rsquo; keyword right
before a parameter&rsquo;s type. An in-out parameter has a value that is
passed <em>in</em> to the function, is modified by the function, and is passed
back <em>out</em> of the function to replace the original value. For a detailed
discussion of the behavior of in-out parameters and associated compiler
optimizations, see <a href="swift-reference.html#In_002dOut-Parameters">(swift-reference)In-Out
Parameters</a>.
</p>
<p>You can only pass a variable as the argument for an in-out parameter.
You cannot pass a constant or a literal value as the argument, because
constants and literals cannot be modified. You place an ampersand (&lsquo;<samp>&amp;</samp>&rsquo;)
directly before a variable&rsquo;s name when you pass it as an argument to an
in-out parameter, to indicate that it can be modified by the function.
</p>
<p>Note
</p>
<p>In-out parameters cannot have default values, and variadic parameters
cannot be marked as &lsquo;<samp>inout</samp>&rsquo;.
</p>
<p>Here&rsquo;s an example of a function called &lsquo;<samp>swapTwoInts(_:_:)</samp>&rsquo;, which has
two in-out integer parameters called &lsquo;<samp>a</samp>&rsquo; and &lsquo;<samp>b</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">func swapTwoInts(_ a: inout Int, _ b: inout Int) {
    let temporaryA = a
    a = b
    b = temporaryA
}
</pre></div>

<p>The &lsquo;<samp>swapTwoInts(_:_:)</samp>&rsquo; function simply swaps the value of &lsquo;<samp>b</samp>&rsquo; into &lsquo;<samp>a</samp>&rsquo;,
and the value of &lsquo;<samp>a</samp>&rsquo; into &lsquo;<samp>b</samp>&rsquo;. The function performs this swap by
storing the value of &lsquo;<samp>a</samp>&rsquo; in a temporary constant called &lsquo;<samp>temporaryA</samp>&rsquo;,
assigning the value of &lsquo;<samp>b</samp>&rsquo; to &lsquo;<samp>a</samp>&rsquo;, and then assigning &lsquo;<samp>temporaryA</samp>&rsquo; to
&lsquo;<samp>b</samp>&rsquo;.
</p>
<p>You can call the &lsquo;<samp>swapTwoInts(_:_:)</samp>&rsquo; function with two variables of type
&lsquo;<samp>Int</samp>&rsquo; to swap their values. Note that the names of &lsquo;<samp>someInt</samp>&rsquo; and
&lsquo;<samp>anotherInt</samp>&rsquo; are prefixed with an ampersand when they are passed to the
&lsquo;<samp>swapTwoInts(_:_:)</samp>&rsquo; function:
</p>
<div class="example">
<pre class="example">var someInt = 3
var anotherInt = 107
swapTwoInts(&amp;someInt, &amp;anotherInt)
print(&quot;someInt is now \(someInt), and anotherInt is now \(anotherInt)&quot;)
// Prints &quot;someInt is now 107, and anotherInt is now 3&quot;
</pre></div>

<p>The example above shows that the original values of &lsquo;<samp>someInt</samp>&rsquo; and
&lsquo;<samp>anotherInt</samp>&rsquo; are modified by the &lsquo;<samp>swapTwoInts(_:_:)</samp>&rsquo; function, even
though they were originally defined outside of the function.
</p>
<p>Note
</p>
<p>In-out parameters are not the same as returning a value from a function.
The &lsquo;<samp>swapTwoInts</samp>&rsquo; example above does not define a return type or return
a value, but it still modifies the values of &lsquo;<samp>someInt</samp>&rsquo; and &lsquo;<samp>anotherInt</samp>&rsquo;.
In-out parameters are an alternative way for a function to have an
effect outside of the scope of its function body.
</p>
<hr>
<span id="Function-Types"></span><div class="header">
<p>
Next: <a href="#Nested-Functions" accesskey="n" rel="next">Nested Functions</a>, Previous: <a href="#Function-Argument-Labels-and-Parameter-Names" accesskey="p" rel="prev">Function Argument Labels and Parameter Names</a>, Up: <a href="#Functions" accesskey="u" rel="up">Functions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Function-Types-2"></span><h3 class="section">11.4 Function Types</h3>

<p>Every function has a specific <em>function type</em>, made up of the parameter
types and the return type of the function.
</p>
<p>For example:
</p>
<div class="example">
<pre class="example">func addTwoInts(_ a: Int, _ b: Int) -&gt; Int {
    return a + b
}
func multiplyTwoInts(_ a: Int, _ b: Int) -&gt; Int {
    return a * b
}
</pre></div>

<p>This example defines two simple mathematical functions called
&lsquo;<samp>addTwoInts</samp>&rsquo; and &lsquo;<samp>multiplyTwoInts</samp>&rsquo;. These functions each take two &lsquo;<samp>Int</samp>&rsquo;
values, and return an &lsquo;<samp>Int</samp>&rsquo; value, which is the result of performing an
appropriate mathematical operation.
</p>
<p>The type of both of these functions is &lsquo;<samp>(Int, Int) -&gt; Int</samp>&rsquo;. This can be
read as:
</p>
<p>“A function that has two parameters, both of type &lsquo;<samp>Int</samp>&rsquo;, and that
returns a value of type &lsquo;<samp>Int</samp>&rsquo;.”
</p>
<p>Here&rsquo;s another example, for a function with no parameters or return
value:
</p>
<div class="example">
<pre class="example">func printHelloWorld() {
    print(&quot;hello, world&quot;)
}
</pre></div>

<p>The type of this function is &lsquo;<samp>() -&gt; Void</samp>&rsquo;, or “a function that has no
parameters, and returns &lsquo;<samp>Void</samp>&rsquo;.”
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Using-Function-Types" accesskey="1">Using Function Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Function-Types-as-Parameter-Types" accesskey="2">Function Types as Parameter Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Function-Types-as-Return-Types" accesskey="3">Function Types as Return Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Using-Function-Types"></span><div class="header">
<p>
Next: <a href="#Function-Types-as-Parameter-Types" accesskey="n" rel="next">Function Types as Parameter Types</a>, Up: <a href="#Function-Types" accesskey="u" rel="up">Function Types</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Using-Function-Types-1"></span><h4 class="subsection">11.4.1 Using Function Types</h4>

<p>You use function types just like any other types in Swift. For example,
you can define a constant or variable to be of a function type and
assign an appropriate function to that variable:
</p>
<div class="example">
<pre class="example">var mathFunction: (Int, Int) -&gt; Int = addTwoInts
</pre></div>

<p>This can be read as:
</p>
<p>“Define a variable called &lsquo;<samp>mathFunction</samp>&rsquo;, which has a type of ‘a
function that takes two &lsquo;<samp>Int</samp>&rsquo; values, and returns an &lsquo;<samp>Int</samp>&rsquo; value.&rsquo; Set
this new variable to refer to the function called &lsquo;<samp>addTwoInts</samp>&rsquo;.”
</p>
<p>The &lsquo;<samp>addTwoInts(_:_:)</samp>&rsquo; function has the same type as the &lsquo;<samp>mathFunction</samp>&rsquo;
variable, and so this assignment is allowed by Swift&rsquo;s type-checker.
</p>
<p>You can now call the assigned function with the name &lsquo;<samp>mathFunction</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">print(&quot;Result: \(mathFunction(2, 3))&quot;)
// Prints &quot;Result: 5&quot;
</pre></div>

<p>A different function with the same matching type can be assigned to the
same variable, in the same way as for nonfunction types:
</p>
<div class="example">
<pre class="example">mathFunction = multiplyTwoInts
print(&quot;Result: \(mathFunction(2, 3))&quot;)
// Prints &quot;Result: 6&quot;
</pre></div>

<p>As with any other type, you can leave it to Swift to infer the function
type when you assign a function to a constant or variable:
</p>
<div class="example">
<pre class="example">let anotherMathFunction = addTwoInts
// anotherMathFunction is inferred to be of type (Int, Int) -&gt; Int
</pre></div>

<hr>
<span id="Function-Types-as-Parameter-Types"></span><div class="header">
<p>
Next: <a href="#Function-Types-as-Return-Types" accesskey="n" rel="next">Function Types as Return Types</a>, Previous: <a href="#Using-Function-Types" accesskey="p" rel="prev">Using Function Types</a>, Up: <a href="#Function-Types" accesskey="u" rel="up">Function Types</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Function-Types-as-Parameter-Types-1"></span><h4 class="subsection">11.4.2 Function Types as Parameter Types</h4>

<p>You can use a function type such as &lsquo;<samp>(Int, Int) -&gt; Int</samp>&rsquo; as a parameter
type for another function. This enables you to leave some aspects of a
function&rsquo;s implementation for the function&rsquo;s caller to provide when the
function is called.
</p>
<p>Here&rsquo;s an example to print the results of the math functions from above:
</p>
<div class="example">
<pre class="example">func printMathResult(_ mathFunction: (Int, Int) -&gt; Int, _ a: Int, _ b: Int) {
    print(&quot;Result: \(mathFunction(a, b))&quot;)
}
printMathResult(addTwoInts, 3, 5)
// Prints &quot;Result: 8&quot;
</pre></div>

<p>This example defines a function called &lsquo;<samp>printMathResult(_:_:_:)</samp>&rsquo;, which
has three parameters. The first parameter is called &lsquo;<samp>mathFunction</samp>&rsquo;, and
is of type &lsquo;<samp>(Int, Int) -&gt; Int</samp>&rsquo;. You can pass any function of that type
as the argument for this first parameter. The second and third
parameters are called &lsquo;<samp>a</samp>&rsquo; and &lsquo;<samp>b</samp>&rsquo;, and are both of type &lsquo;<samp>Int</samp>&rsquo;. These are
used as the two input values for the provided math function.
</p>
<p>When &lsquo;<samp>printMathResult(_:_:_:)</samp>&rsquo; is called, it is passed the
&lsquo;<samp>addTwoInts(_:_:)</samp>&rsquo; function, and the integer values &lsquo;<samp>3</samp>&rsquo; and &lsquo;<samp>5</samp>&rsquo;. It
calls the provided function with the values &lsquo;<samp>3</samp>&rsquo; and &lsquo;<samp>5</samp>&rsquo;, and prints the
result of &lsquo;<samp>8</samp>&rsquo;.
</p>
<p>The role of &lsquo;<samp>printMathResult(_:_:_:)</samp>&rsquo; is to print the result of a call
to a math function of an appropriate type. It doesn&rsquo;t matter what that
function&rsquo;s implementation actually does&mdash;it matters only that the
function is of the correct type. This enables &lsquo;<samp>printMathResult(_:_:_:)</samp>&rsquo;
to hand off some of its functionality to the caller of the function in a
type-safe way.
</p>
<hr>
<span id="Function-Types-as-Return-Types"></span><div class="header">
<p>
Previous: <a href="#Function-Types-as-Parameter-Types" accesskey="p" rel="prev">Function Types as Parameter Types</a>, Up: <a href="#Function-Types" accesskey="u" rel="up">Function Types</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Function-Types-as-Return-Types-1"></span><h4 class="subsection">11.4.3 Function Types as Return Types</h4>

<p>You can use a function type as the return type of another function. You
do this by writing a complete function type immediately after the return
arrow (&lsquo;<samp>-&gt;</samp>&rsquo;) of the returning function.
</p>
<p>The next example defines two simple functions called &lsquo;<samp>stepForward(_:)</samp>&rsquo;
and &lsquo;<samp>stepBackward(_:)</samp>&rsquo;. The &lsquo;<samp>stepForward(_:)</samp>&rsquo; function returns a value
one more than its input value, and the &lsquo;<samp>stepBackward(_:)</samp>&rsquo; function
returns a value one less than its input value. Both functions have a
type of &lsquo;<samp>(Int) -&gt; Int</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">func stepForward(_ input: Int) -&gt; Int {
    return input + 1
}
func stepBackward(_ input: Int) -&gt; Int {
    return input - 1
}
</pre></div>

<p>Here&rsquo;s a function called &lsquo;<samp>chooseStepFunction(backward:)</samp>&rsquo;, whose return
type is &lsquo;<samp>(Int) -&gt; Int</samp>&rsquo;. The &lsquo;<samp>chooseStepFunction(backward:)</samp>&rsquo; function
returns the &lsquo;<samp>stepForward(_:)</samp>&rsquo; function or the &lsquo;<samp>stepBackward(_:)</samp>&rsquo;
function based on a Boolean parameter called &lsquo;<samp>backward</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">func chooseStepFunction(backward: Bool) -&gt; (Int) -&gt; Int {
    return backward ? stepBackward : stepForward
}
</pre></div>

<p>You can now use &lsquo;<samp>chooseStepFunction(backward:)</samp>&rsquo; to obtain a function
that will step in one direction or the other:
</p>
<div class="example">
<pre class="example">var currentValue = 3
let moveNearerToZero = chooseStepFunction(backward: currentValue &gt; 0)
// moveNearerToZero now refers to the stepBackward() function
</pre></div>

<p>The example above determines whether a positive or negative step is
needed to move a variable called &lsquo;<samp>currentValue</samp>&rsquo; progressively closer to
zero. &lsquo;<samp>currentValue</samp>&rsquo; has an initial value of &lsquo;<samp>3</samp>&rsquo;, which means that
&lsquo;<samp>currentValue &gt; 0</samp>&rsquo; returns &lsquo;<samp>true</samp>&rsquo;, causing
&lsquo;<samp>chooseStepFunction(backward:)</samp>&rsquo; to return the &lsquo;<samp>stepBackward(_:)</samp>&rsquo;
function. A reference to the returned function is stored in a constant
called &lsquo;<samp>moveNearerToZero</samp>&rsquo;.
</p>
<p>Now that &lsquo;<samp>moveNearerToZero</samp>&rsquo; refers to the correct function, it can be
used to count to zero:
</p>
<div class="example">
<pre class="example">print(&quot;Counting to zero:&quot;)
// Counting to zero:
while currentValue != 0 {
    print(&quot;\(currentValue)... &quot;)
    currentValue = moveNearerToZero(currentValue)
}
print(&quot;zero!&quot;)
// 3...
// 2...
// 1...
// zero!
</pre></div>

<hr>
<span id="Nested-Functions"></span><div class="header">
<p>
Previous: <a href="#Function-Types" accesskey="p" rel="prev">Function Types</a>, Up: <a href="#Functions" accesskey="u" rel="up">Functions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Nested-Functions-1"></span><h3 class="section">11.5 Nested Functions</h3>

<p>All of the functions you have encountered so far in this chapter have
been examples of <em>global functions</em>, which are defined at a global
scope. You can also define functions inside the bodies of other
functions, known as <em>nested functions</em>.
</p>
<p>Nested functions are hidden from the outside world by default, but can
still be called and used by their enclosing function. An enclosing
function can also return one of its nested functions to allow the nested
function to be used in another scope.
</p>
<p>You can rewrite the &lsquo;<samp>chooseStepFunction(backward:)</samp>&rsquo; example above to use
and return nested functions:
</p>
<div class="example">
<pre class="example">func chooseStepFunction(backward: Bool) -&gt; (Int) -&gt; Int {
    func stepForward(input: Int) -&gt; Int { return input + 1 }
    func stepBackward(input: Int) -&gt; Int { return input - 1 }
    return backward ? stepBackward : stepForward
}
var currentValue = -4
let moveNearerToZero = chooseStepFunction(backward: currentValue &gt; 0)
// moveNearerToZero now refers to the nested stepForward() function
while currentValue != 0 {
    print(&quot;\(currentValue)... &quot;)
    currentValue = moveNearerToZero(currentValue)
}
print(&quot;zero!&quot;)
// -4...
// -3...
// -2...
// -1...
// zero!
</pre></div>

<hr>
<span id="Closures"></span><div class="header">
<p>
Next: <a href="#Enumeration" accesskey="n" rel="next">Enumeration</a>, Previous: <a href="#Functions" accesskey="p" rel="prev">Functions</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Closures-1"></span><h2 class="chapter">12 Closures</h2>

<p><em>Closures</em> are self-contained blocks of functionality that can be passed
around and used in your code. Closures in Swift are similar to blocks in
C and Objective-C and to lambdas in other programming languages.
</p>
<p>Closures can capture and store references to any constants and variables
from the context in which they are defined. This is known as <em>closing
over</em> those constants and variables. Swift handles all of the memory
management of capturing for you.
</p>
<p>Note
</p>
<p>Don&rsquo;t worry if you are not familiar with the concept of capturing. It is
explained in detail below in <a href="#Capturing-Values">Capturing
Values</a>.
</p>
<p>Global and nested functions, as introduced in
<a href="#Functions">Functions</a>, are actually special cases of closures.
Closures take one of three forms:
</p>
<ul>
<li> Global functions are closures that have a name and do not capture any
values.

</li><li> Nested functions are closures that have a name and can capture values
from their enclosing function.

</li><li> Closure expressions are unnamed closures written in a lightweight
syntax that can capture values from their surrounding context.
</li></ul>

<p>Swift&rsquo;s closure expressions have a clean, clear style, with
optimizations that encourage brief, clutter-free syntax in common
scenarios. These optimizations include:
</p>
<ul>
<li> Inferring parameter and return value types from context

</li><li> Implicit returns from single-expression closures

</li><li> Shorthand argument names

</li><li> Trailing closure syntax
</li></ul>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Closure-Expressions" accesskey="1">Closure Expressions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Trailing-Closures" accesskey="2">Trailing Closures</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Capturing-Values" accesskey="3">Capturing Values</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Closures-Are-Reference-Types" accesskey="4">Closures Are Reference Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Escaping-Closures" accesskey="5">Escaping Closures</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Autoclosures" accesskey="6">Autoclosures</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Closure-Expressions"></span><div class="header">
<p>
Next: <a href="#Trailing-Closures" accesskey="n" rel="next">Trailing Closures</a>, Up: <a href="#Closures" accesskey="u" rel="up">Closures</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Closure-Expressions-1"></span><h3 class="section">12.1 Closure Expressions</h3>

<span id="index-define-a-closure-inline"></span>

<p>Nested functions, as introduced in <a href="#Nested-Functions">Nested
Functions</a>, are a convenient means of naming and defining
self-contained blocks of code as part of a larger function. However, it
is sometimes useful to write shorter versions of function-like
constructs without a full declaration and name. This is particularly
true when you work with functions or methods that take functions as one
or more of their arguments.
</p>
<p><em>Closure expressions</em> are a way to write inline closures in a brief,
focused syntax. Closure expressions provide several syntax optimizations
for writing closures in a shortened form without loss of clarity or
intent. The closure expression examples below illustrate these
optimizations by refining a single example of the &lsquo;<samp>sorted(by:)</samp>&rsquo; method
over several iterations, each of which expresses the same functionality
in a more succinct way.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#The-Sorted-Method" accesskey="1">The Sorted Method</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Closure-Expression-Syntax" accesskey="2">Closure Expression Syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Inferring-Type-From-Context" accesskey="3">Inferring Type From Context</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Implicit-Returns-from-Single_002dExpression-Closures" accesskey="4">Implicit Returns from Single-Expression Closures</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Shorthand-Argument-Names" accesskey="5">Shorthand Argument Names</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Operator-Methods" accesskey="6">Operator Methods</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="The-Sorted-Method"></span><div class="header">
<p>
Next: <a href="#Closure-Expression-Syntax" accesskey="n" rel="next">Closure Expression Syntax</a>, Up: <a href="#Closure-Expressions" accesskey="u" rel="up">Closure Expressions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="The-Sorted-Method-1"></span><h4 class="subsection">12.1.1 The Sorted Method</h4>

<p>Swift&rsquo;s standard library provides a method called &lsquo;<samp>sorted(by:)</samp>&rsquo;, which
sorts an array of values of a known type, based on the output of a
sorting closure that you provide. Once it completes the sorting process,
the &lsquo;<samp>sorted(by:)</samp>&rsquo; method returns a new array of the same type and size
as the old one, with its elements in the correct sorted order. The
original array is not modified by the &lsquo;<samp>sorted(by:)</samp>&rsquo; method.
</p>
<p>The closure expression examples below use the &lsquo;<samp>sorted(by:)</samp>&rsquo; method to
sort an array of &lsquo;<samp>String</samp>&rsquo; values in reverse alphabetical order. Here&rsquo;s
the initial array to be sorted:
</p>
<div class="example">
<pre class="example">let names = [&quot;Chris&quot;, &quot;Alex&quot;, &quot;Ewa&quot;, &quot;Barry&quot;, &quot;Daniella&quot;]
</pre></div>

<p>The &lsquo;<samp>sorted(by:)</samp>&rsquo; method accepts a closure that takes two arguments of
the same type as the array&rsquo;s contents, and returns a &lsquo;<samp>Bool</samp>&rsquo; value to say
whether the first value should appear before or after the second value
once the values are sorted. The sorting closure needs to return &lsquo;<samp>true</samp>&rsquo;
if the first value should appear <em>before</em> the second value, and &lsquo;<samp>false</samp>&rsquo;
otherwise.
</p>
<p>This example is sorting an array of &lsquo;<samp>String</samp>&rsquo; values, and so the sorting
closure needs to be a function of type &lsquo;<samp>(String, String) -&gt; Bool</samp>&rsquo;.
</p>
<p>One way to provide the sorting closure is to write a normal function of
the correct type, and to pass it in as an argument to the &lsquo;<samp>sorted(by:)</samp>&rsquo;
method:
</p>
<div class="example">
<pre class="example">func backward(_ s1: String, _ s2: String) -&gt; Bool {
    return s1 &gt; s2
}
var reversedNames = names.sorted(by: backward)
// reversedNames is equal to [&quot;Ewa&quot;, &quot;Daniella&quot;, &quot;Chris&quot;, &quot;Barry&quot;, &quot;Alex&quot;]
</pre></div>

<p>If the first string (&lsquo;<samp>s1</samp>&rsquo;) is greater than the second string (&lsquo;<samp>s2</samp>&rsquo;), the
&lsquo;<samp>backward(_:_:)</samp>&rsquo; function will return &lsquo;<samp>true</samp>&rsquo;, indicating that &lsquo;<samp>s1</samp>&rsquo;
should appear before &lsquo;<samp>s2</samp>&rsquo; in the sorted array. For characters in
strings, “greater than” means “appears later in the alphabet than”. This
means that the letter &lsquo;<samp>&quot;B&quot;</samp>&rsquo; is “greater than” the letter &lsquo;<samp>&quot;A&quot;</samp>&rsquo;, and the
string &lsquo;<samp>&quot;Tom&quot;</samp>&rsquo; is greater than the string &lsquo;<samp>&quot;Tim&quot;</samp>&rsquo;. This gives a reverse
alphabetical sort, with &lsquo;<samp>&quot;Barry&quot;</samp>&rsquo; being placed before &lsquo;<samp>&quot;Alex&quot;</samp>&rsquo;, and so
on.
</p>
<p>However, this is a rather long-winded way to write what is essentially a
single-expression function (&lsquo;<samp>a &gt; b</samp>&rsquo;). In this example, it would be
preferable to write the sorting closure inline, using closure expression
syntax.
</p>
<hr>
<span id="Closure-Expression-Syntax"></span><div class="header">
<p>
Next: <a href="#Inferring-Type-From-Context" accesskey="n" rel="next">Inferring Type From Context</a>, Previous: <a href="#The-Sorted-Method" accesskey="p" rel="prev">The Sorted Method</a>, Up: <a href="#Closure-Expressions" accesskey="u" rel="up">Closure Expressions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Closure-Expression-Syntax-1"></span><h4 class="subsection">12.1.2 Closure Expression Syntax</h4>

<p>Closure expression syntax has the following general form:
</p>
<div class="example">
<pre class="example">{ (parameters) -&gt; return type in
    statements
}
</pre></div>

<p>The <em>parameters</em> in closure expression syntax can be in-out parameters,
but they can&rsquo;t have a default value. Variadic parameters can be used if
you name the variadic parameter. Tuples can also be used as parameter
types and return types.
</p>
<p>The example below shows a closure expression version of the
&lsquo;<samp>backward(_:_:)</samp>&rsquo; function from above:
</p>
<div class="example">
<pre class="example">reversedNames = names.sorted(by: { (s1: String, s2: String) -&gt; Bool in
                                 return s1 &gt; s2
                             })
</pre></div>

<p>Note that the declaration of parameters and return type for this inline
closure is identical to the declaration from the &lsquo;<samp>backward(_:_:)</samp>&rsquo;
function. In both cases, it is written as
&lsquo;<samp>(s1: String, s2: String) -&gt; Bool</samp>&rsquo;. However, for the inline closure
expression, the parameters and return type are written <em>inside</em> the
curly braces, not outside of them.
</p>
<p>The start of the closure&rsquo;s body is introduced by the &lsquo;<samp>in</samp>&rsquo; keyword. This
keyword indicates that the definition of the closure&rsquo;s parameters and
return type has finished, and the body of the closure is about to begin.
</p>
<p>Because the body of the closure is so short, it can even be written on a
single line:
</p>
<div class="example">
<pre class="example">reversedNames = names.sorted(by: { (s1: String, s2: String) -&gt; Bool in return s1 &gt; s2 } )
</pre></div>

<p>This illustrates that the overall call to the &lsquo;<samp>sorted(by:)</samp>&rsquo; method has
remained the same. A pair of parentheses still wrap the entire argument
for the method. However, that argument is now an inline closure.
</p>
<hr>
<span id="Inferring-Type-From-Context"></span><div class="header">
<p>
Next: <a href="#Implicit-Returns-from-Single_002dExpression-Closures" accesskey="n" rel="next">Implicit Returns from Single-Expression Closures</a>, Previous: <a href="#Closure-Expression-Syntax" accesskey="p" rel="prev">Closure Expression Syntax</a>, Up: <a href="#Closure-Expressions" accesskey="u" rel="up">Closure Expressions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Inferring-Type-From-Context-1"></span><h4 class="subsection">12.1.3 Inferring Type From Context</h4>

<p>Because the sorting closure is passed as an argument to a method, Swift
can infer the types of its parameters and the type of the value it
returns. The &lsquo;<samp>sorted(by:)</samp>&rsquo; method is being called on an array of
strings, so its argument must be a function of type
&lsquo;<samp>(String, String) -&gt; Bool</samp>&rsquo;. This means that the &lsquo;<samp>(String, String)</samp>&rsquo; and
&lsquo;<samp>Bool</samp>&rsquo; types do not need to be written as part of the closure
expression&rsquo;s definition. Because all of the types can be inferred, the
return arrow (&lsquo;<samp>-&gt;</samp>&rsquo;) and the parentheses around the names of the
parameters can also be omitted:
</p>
<div class="example">
<pre class="example">reversedNames = names.sorted(by: { s1, s2 in return s1 &gt; s2 } )
</pre></div>

<p>It is always possible to infer the parameter types and return type when
passing a closure to a function or method as an inline closure
expression. As a result, you never need to write an inline closure in
its fullest form when the closure is used as a function or method
argument.
</p>
<p>Nonetheless, you can still make the types explicit if you wish, and
doing so is encouraged if it avoids ambiguity for readers of your code.
In the case of the &lsquo;<samp>sorted(by:)</samp>&rsquo; method, the purpose of the closure is
clear from the fact that sorting is taking place, and it is safe for a
reader to assume that the closure is likely to be working with &lsquo;<samp>String</samp>&rsquo;
values, because it is assisting with the sorting of an array of strings.
</p>
<hr>
<span id="Implicit-Returns-from-Single_002dExpression-Closures"></span><div class="header">
<p>
Next: <a href="#Shorthand-Argument-Names" accesskey="n" rel="next">Shorthand Argument Names</a>, Previous: <a href="#Inferring-Type-From-Context" accesskey="p" rel="prev">Inferring Type From Context</a>, Up: <a href="#Closure-Expressions" accesskey="u" rel="up">Closure Expressions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Implicit-Returns-from-Single_002dExpression-Closures-1"></span><h4 class="subsection">12.1.4 Implicit Returns from Single-Expression Closures</h4>

<span id="index-no-need-to-return-from-a-closure-with-a-single-expression"></span>

<p>Single-expression closures can implicitly return the result of their
single expression by omitting the &lsquo;<samp>return</samp>&rsquo; keyword from their
declaration, as in this version of the previous example:
</p>
<div class="example">
<pre class="example">reversedNames = names.sorted(by: { s1, s2 in s1 &gt; s2 } )
</pre></div>

<p>Here, the function type of the &lsquo;<samp>sorted(by:)</samp>&rsquo; method&rsquo;s argument makes it
clear that a &lsquo;<samp>Bool</samp>&rsquo; value must be returned by the closure. Because the
closure&rsquo;s body contains a single expression (&lsquo;<samp>s1 &gt; s2</samp>&rsquo;) that returns a
&lsquo;<samp>Bool</samp>&rsquo; value, there is no ambiguity, and the &lsquo;<samp>return</samp>&rsquo; keyword can be
omitted.
</p>
<hr>
<span id="Shorthand-Argument-Names"></span><div class="header">
<p>
Next: <a href="#Operator-Methods" accesskey="n" rel="next">Operator Methods</a>, Previous: <a href="#Implicit-Returns-from-Single_002dExpression-Closures" accesskey="p" rel="prev">Implicit Returns from Single-Expression Closures</a>, Up: <a href="#Closure-Expressions" accesskey="u" rel="up">Closure Expressions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Shorthand-Argument-Names-1"></span><h4 class="subsection">12.1.5 Shorthand Argument Names</h4>

<span id="index-way-to-refer-to-a-closure-argument"></span>

<p>Swift automatically provides shorthand argument names to inline
closures, which can be used to refer to the values of the closure&rsquo;s
arguments by the names &lsquo;<samp>$0</samp>&rsquo;, &lsquo;<samp>$1</samp>&rsquo;, &lsquo;<samp>$2</samp>&rsquo;, and so on.
</p>
<p>If you use these shorthand argument names within your closure
expression, you can omit the closure&rsquo;s argument list from its
definition, and the number and type of the shorthand argument names will
be inferred from the expected function type. The &lsquo;<samp>in</samp>&rsquo; keyword can also
be omitted, because the closure expression is made up entirely of its
body:
</p>
<div class="example">
<pre class="example">reversedNames = names.sorted(by: { $0 &gt; $1 } )
</pre></div>

<p>Here, &lsquo;<samp>$0</samp>&rsquo; and &lsquo;<samp>$1</samp>&rsquo; refer to the closure&rsquo;s first and second &lsquo;<samp>String</samp>&rsquo;
arguments.
</p>
<hr>
<span id="Operator-Methods"></span><div class="header">
<p>
Previous: <a href="#Shorthand-Argument-Names" accesskey="p" rel="prev">Shorthand Argument Names</a>, Up: <a href="#Closure-Expressions" accesskey="u" rel="up">Closure Expressions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Operator-Methods-2"></span><h4 class="subsection">12.1.6 Operator Methods</h4>

<p>There&rsquo;s actually an even <em>shorter</em> way to write the closure expression
above. Swift&rsquo;s &lsquo;<samp>String</samp>&rsquo; type defines its string-specific implementation
of the greater-than operator (&lsquo;<samp>&gt;</samp>&rsquo;) as a method that has two parameters
of type &lsquo;<samp>String</samp>&rsquo;, and returns a value of type &lsquo;<samp>Bool</samp>&rsquo;. This exactly
matches the method type needed by the &lsquo;<samp>sorted(by:)</samp>&rsquo; method. Therefore,
you can simply pass in the greater-than operator, and Swift will infer
that you want to use its string-specific implementation:
</p>
<div class="example">
<pre class="example">reversedNames = names.sorted(by: &gt;)
</pre></div>

<p>For more about operator method, see
<a href="#Operator-Methods">Operator Methods</a>.
</p>
<hr>
<span id="Trailing-Closures"></span><div class="header">
<p>
Next: <a href="#Capturing-Values" accesskey="n" rel="next">Capturing Values</a>, Previous: <a href="#Closure-Expressions" accesskey="p" rel="prev">Closure Expressions</a>, Up: <a href="#Closures" accesskey="u" rel="up">Closures</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Trailing-Closures-1"></span><h3 class="section">12.2 Trailing Closures</h3>

<span id="index-closures-as-last-argument-in-a-function"></span>

<p>If you need to pass a closure expression to a function as the function&rsquo;s
final argument and the closure expression is long, it can be useful to
write it as a <em>trailing closure</em> instead. A trailing closure is written
after the function call&rsquo;s parentheses, even though it is still an
argument to the function. When you use the trailing closure syntax, you
don&rsquo;t write the argument label for the closure as part of the function
call.
</p>
<div class="example">
<pre class="example">func someFunctionThatTakesAClosure(closure: () -&gt; Void) {
    // function body goes here
}

// Here's how you call this function without using a trailing closure:
someFunctionThatTakesAClosure(closure: {
                                  // closure's body goes here
                              })

// Here's how you call this function with a trailing closure instead:
someFunctionThatTakesAClosure() {
    // trailing closure's body goes here
}
</pre></div>

<p>The string-sorting closure from the <a href="#Closure-Expression-Syntax">Closure
Expression Syntax</a> section above can be written outside of the
&lsquo;<samp>sorted(by:)</samp>&rsquo; method&rsquo;s parentheses as a trailing closure:
</p>
<div class="example">
<pre class="example">reversedNames = names.sorted() { $0 &gt; $1 }
</pre></div>

<p>If a closure expression is provided as the function or method&rsquo;s only
argument and you provide that expression as a trailing closure, you do
not need to write a pair of parentheses &lsquo;<samp>()</samp>&rsquo; after the function or
method&rsquo;s name when you call the function:
</p>
<div class="example">
<pre class="example">reversedNames = names.sorted { $0 &gt; $1 }
</pre></div>

<p>Trailing closures are most useful when the closure is sufficiently long
that it is not possible to write it inline on a single line. As an
example, Swift&rsquo;s &lsquo;<samp>Array</samp>&rsquo; type has a &lsquo;<samp>map(_:)</samp>&rsquo; method which takes a
closure expression as its single argument. The closure is called once
for each item in the array, and returns an alternative mapped value
(possibly of some other type) for that item. The nature of the mapping
and the type of the returned value is left up to the closure to specify.
</p>
<p>After applying the provided closure to each array element, the &lsquo;<samp>map(_:)</samp>&rsquo;
method returns a new array containing all of the new mapped values, in
the same order as their corresponding values in the original array.
</p>
<p>Here&rsquo;s how you can use the &lsquo;<samp>map(_:)</samp>&rsquo; method with a trailing closure to
convert an array of &lsquo;<samp>Int</samp>&rsquo; values into an array of &lsquo;<samp>String</samp>&rsquo; values. The
array &lsquo;<samp>[16, 58, 510]</samp>&rsquo; is used to create the new array
&lsquo;<samp>[&quot;OneSix&quot;, &quot;FiveEight&quot;, &quot;FiveOneZero&quot;]</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">let digitNames = [
  0: &quot;Zero&quot;, 1: &quot;One&quot;, 2: &quot;Two&quot;, 3: &quot;Three&quot;, 4: &quot;Four&quot;,
  5: &quot;Five&quot;, 6: &quot;Six&quot;, 7: &quot;Seven&quot;, 8: &quot;Eight&quot;, 9: &quot;Nine&quot;
]
let numbers = [16, 58, 510]
</pre></div>

<p>The code above creates a dictionary of mappings between the integer
digits and English-language versions of their names. It also defines an
array of integers, ready to be converted into strings.
</p>
<p>You can now use the &lsquo;<samp>numbers</samp>&rsquo; array to create an array of &lsquo;<samp>String</samp>&rsquo;
values, by passing a closure expression to the array&rsquo;s &lsquo;<samp>map(_:)</samp>&rsquo; method
as a trailing closure:
</p>
<div class="example">
<pre class="example">let strings = numbers.map { (number) -&gt; String in
    var number = number
    var output = &quot;&quot;
    repeat {
        output = digitNames[number % 10]! + output
        number /= 10
    } while number &gt; 0
    return output
}
// strings is inferred to be of type [String]
// its value is [&quot;OneSix&quot;, &quot;FiveEight&quot;, &quot;FiveOneZero&quot;]
</pre></div>

<p>The &lsquo;<samp>map(_:)</samp>&rsquo; method calls the closure expression once for each item in
the array. You do not need to specify the type of the closure&rsquo;s input
parameter, &lsquo;<samp>number</samp>&rsquo;, because the type can be inferred from the values in
the array to be mapped.
</p>
<p>In this example, the variable &lsquo;<samp>number</samp>&rsquo; is initialized with the value of
the closure&rsquo;s &lsquo;<samp>number</samp>&rsquo; parameter, so that the value can be modified
within the closure body. (The parameters to functions and closures are
always constants.) The closure expression also specifies a return type
of &lsquo;<samp>String</samp>&rsquo;, to indicate the type that will be stored in the mapped
output array.
</p>
<p>The closure expression builds a string called &lsquo;<samp>output</samp>&rsquo; each time it is
called. It calculates the last digit of &lsquo;<samp>number</samp>&rsquo; by using the remainder
operator (&lsquo;<samp>number % 10</samp>&rsquo;), and uses this digit to look up an appropriate
string in the &lsquo;<samp>digitNames</samp>&rsquo; dictionary. The closure can be used to create
a string representation of any integer greater than zero.
</p>
<p>Note
</p>
<p>The call to the &lsquo;<samp>digitNames</samp>&rsquo; dictionary&rsquo;s subscript is followed by an
exclamation mark (&lsquo;<samp>!</samp>&rsquo;), because dictionary subscripts return an optional
value to indicate that the dictionary lookup can fail if the key does
not exist. In the example above, it is guaranteed that &lsquo;<samp>number % 10</samp>&rsquo;
will always be a valid subscript key for the &lsquo;<samp>digitNames</samp>&rsquo; dictionary,
and so an exclamation mark is used to force-unwrap the &lsquo;<samp>String</samp>&rsquo; value
stored in the subscript&rsquo;s optional return value.
</p>
<p>The string retrieved from the &lsquo;<samp>digitNames</samp>&rsquo; dictionary is added to the
<em>front</em> of &lsquo;<samp>output</samp>&rsquo;, effectively building a string version of the number
in reverse. (The expression &lsquo;<samp>number % 10</samp>&rsquo; gives a value of &lsquo;<samp>6</samp>&rsquo; for &lsquo;<samp>16</samp>&rsquo;,
&lsquo;<samp>8</samp>&rsquo; for &lsquo;<samp>58</samp>&rsquo;, and &lsquo;<samp>0</samp>&rsquo; for &lsquo;<samp>510</samp>&rsquo;.)
</p>
<p>The &lsquo;<samp>number</samp>&rsquo; variable is then divided by &lsquo;<samp>10</samp>&rsquo;. Because it is an integer,
it is rounded down during the division, so &lsquo;<samp>16</samp>&rsquo; becomes &lsquo;<samp>1</samp>&rsquo;, &lsquo;<samp>58</samp>&rsquo;
becomes &lsquo;<samp>5</samp>&rsquo;, and &lsquo;<samp>510</samp>&rsquo; becomes &lsquo;<samp>51</samp>&rsquo;.
</p>
<p>The process is repeated until &lsquo;<samp>number</samp>&rsquo; is equal to &lsquo;<samp>0</samp>&rsquo;, at which point
the &lsquo;<samp>output</samp>&rsquo; string is returned by the closure, and is added to the
output array by the &lsquo;<samp>map(_:)</samp>&rsquo; method.
</p>
<p>The use of trailing closure syntax in the example above neatly
encapsulates the closure&rsquo;s functionality immediately after the function
that closure supports, without needing to wrap the entire closure within
the &lsquo;<samp>map(_:)</samp>&rsquo; method&rsquo;s outer parentheses.
</p>
<hr>
<span id="Capturing-Values"></span><div class="header">
<p>
Next: <a href="#Closures-Are-Reference-Types" accesskey="n" rel="next">Closures Are Reference Types</a>, Previous: <a href="#Trailing-Closures" accesskey="p" rel="prev">Trailing Closures</a>, Up: <a href="#Closures" accesskey="u" rel="up">Closures</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Capturing-Values-1"></span><h3 class="section">12.3 Capturing Values</h3>

<p>A closure can <em>capture</em> constants and variables from the surrounding
context in which it is defined. The closure can then refer to and modify
the values of those constants and variables from within its body, even
if the original scope that defined the constants and variables no longer
exists.
</p>
<p>In Swift, the simplest form of a closure that can capture values is a
nested function, written within the body of another function. A nested
function can capture any of its outer function&rsquo;s arguments and can also
capture any constants and variables defined within the outer function.
</p>
<p>Here&rsquo;s an example of a function called &lsquo;<samp>makeIncrementer</samp>&rsquo;, which contains
a nested function called &lsquo;<samp>incrementer</samp>&rsquo;. The nested &lsquo;<samp>incrementer()</samp>&rsquo;
function captures two values, &lsquo;<samp>runningTotal</samp>&rsquo; and &lsquo;<samp>amount</samp>&rsquo;, from its
surrounding context. After capturing these values, &lsquo;<samp>incrementer</samp>&rsquo; is
returned by &lsquo;<samp>makeIncrementer</samp>&rsquo; as a closure that increments
&lsquo;<samp>runningTotal</samp>&rsquo; by &lsquo;<samp>amount</samp>&rsquo; each time it is called.
</p>
<div class="example">
<pre class="example">func makeIncrementer(forIncrement amount: Int) -&gt; () -&gt; Int {
    var runningTotal = 0
    func incrementer() -&gt; Int {
        runningTotal += amount
        return runningTotal
    }
    return incrementer
}
</pre></div>

<p>The return type of &lsquo;<samp>makeIncrementer</samp>&rsquo; is &lsquo;<samp>() -&gt; Int</samp>&rsquo;. This means that it
returns a <em>function</em>, rather than a simple value. The function it
returns has no parameters, and returns an &lsquo;<samp>Int</samp>&rsquo; value each time it is
called. To learn how functions can return other functions, see
<a href="#Function-Types-as-Return-Types">Function Types as Return Types</a>.
</p>
<p>The &lsquo;<samp>makeIncrementer(forIncrement:)</samp>&rsquo; function defines an integer
variable called &lsquo;<samp>runningTotal</samp>&rsquo;, to store the current running total of
the incrementer that will be returned. This variable is initialized with
a value of &lsquo;<samp>0</samp>&rsquo;.
</p>
<p>The &lsquo;<samp>makeIncrementer(forIncrement:)</samp>&rsquo; function has a single &lsquo;<samp>Int</samp>&rsquo;
parameter with an argument label of &lsquo;<samp>forIncrement</samp>&rsquo;, and a parameter name
of &lsquo;<samp>amount</samp>&rsquo;. The argument value passed to this parameter specifies how
much &lsquo;<samp>runningTotal</samp>&rsquo; should be incremented by each time the returned
incrementer function is called. The &lsquo;<samp>makeIncrementer</samp>&rsquo; function defines a
nested function called &lsquo;<samp>incrementer</samp>&rsquo;, which performs the actual
incrementing. This function simply adds &lsquo;<samp>amount</samp>&rsquo; to &lsquo;<samp>runningTotal</samp>&rsquo;, and
returns the result.
</p>
<p>When considered in isolation, the nested &lsquo;<samp>incrementer()</samp>&rsquo; function might
seem unusual:
</p>
<div class="example">
<pre class="example">func incrementer() -&gt; Int {
    runningTotal += amount
    return runningTotal
}
</pre></div>

<p>The &lsquo;<samp>incrementer()</samp>&rsquo; function doesn&rsquo;t have any parameters, and yet it
refers to &lsquo;<samp>runningTotal</samp>&rsquo; and &lsquo;<samp>amount</samp>&rsquo; from within its function body. It
does this by capturing a <em>reference</em> to &lsquo;<samp>runningTotal</samp>&rsquo; and &lsquo;<samp>amount</samp>&rsquo; from
the surrounding function and using them within its own function body.
Capturing by reference ensures that &lsquo;<samp>runningTotal</samp>&rsquo; and &lsquo;<samp>amount</samp>&rsquo; do not
disappear when the call to &lsquo;<samp>makeIncrementer</samp>&rsquo; ends, and also ensures that
&lsquo;<samp>runningTotal</samp>&rsquo; is available the next time the &lsquo;<samp>incrementer</samp>&rsquo; function is
called.
</p>
<p>Note
</p>
<p>As an optimization, Swift may instead capture and store a <em>copy</em> of a
value if that value is not mutated by a closure, and if the value is not
mutated after the closure is created.
</p>
<p>Swift also handles all memory management involved in disposing of
variables when they are no longer needed.
</p>
<p>Here&rsquo;s an example of &lsquo;<samp>makeIncrementer</samp>&rsquo; in action:
</p>
<div class="example">
<pre class="example">let incrementByTen = makeIncrementer(forIncrement: 10)
</pre></div>

<p>This example sets a constant called &lsquo;<samp>incrementByTen</samp>&rsquo; to refer to an
incrementer function that adds &lsquo;<samp>10</samp>&rsquo; to its &lsquo;<samp>runningTotal</samp>&rsquo; variable each
time it is called. Calling the function multiple times shows this
behavior in action:
</p>
<div class="example">
<pre class="example">incrementByTen()
// returns a value of 10
incrementByTen()
// returns a value of 20
incrementByTen()
// returns a value of 30
</pre></div>

<p>If you create a second incrementer, it will have its own stored
reference to a new, separate &lsquo;<samp>runningTotal</samp>&rsquo; variable:
</p>
<div class="example">
<pre class="example">let incrementBySeven = makeIncrementer(forIncrement: 7)
incrementBySeven()
// returns a value of 7
</pre></div>

<p>Calling the original incrementer (&lsquo;<samp>incrementByTen</samp>&rsquo;) again continues to
increment its own &lsquo;<samp>runningTotal</samp>&rsquo; variable, and does not affect the
variable captured by &lsquo;<samp>incrementBySeven</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">incrementByTen()
// returns a value of 40
</pre></div>

<p>Note
</p>
<p>If you assign a closure to a property of a class instance, and the
closure captures that instance by referring to the instance or its
members, you will create a strong reference cycle between the closure
and the instance. Swift uses <em>capture lists</em> to break these strong
reference cycles. For more information, see
<a href="#Strong-Reference-Cycles-for-Closures">Strong Reference Cycles for
Closures</a>.
</p>
<hr>
<span id="Closures-Are-Reference-Types"></span><div class="header">
<p>
Next: <a href="#Escaping-Closures" accesskey="n" rel="next">Escaping Closures</a>, Previous: <a href="#Capturing-Values" accesskey="p" rel="prev">Capturing Values</a>, Up: <a href="#Closures" accesskey="u" rel="up">Closures</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Closures-Are-Reference-Types-1"></span><h3 class="section">12.4 Closures Are Reference Types</h3>

<p>In the example above, &lsquo;<samp>incrementBySeven</samp>&rsquo; and &lsquo;<samp>incrementByTen</samp>&rsquo; are
constants, but the closures these constants refer to are still able to
increment the &lsquo;<samp>runningTotal</samp>&rsquo; variables that they have captured. This is
because functions and closures are <em>reference types</em>.
</p>
<p>Whenever you assign a function or a closure to a constant or a variable,
you are actually setting that constant or variable to be a <em>reference</em>
to the function or closure. In the example above, it is the choice of
closure that &lsquo;<samp>incrementByTen</samp>&rsquo; <em>refers to</em> that is constant, and not the
contents of the closure itself.
</p>
<p>This also means that if you assign a closure to two different constants
or variables, both of those constants or variables refer to the same
closure.
</p>
<div class="example">
<pre class="example">let alsoIncrementByTen = incrementByTen
alsoIncrementByTen()
// returns a value of 50

incrementByTen()
// returns a value of 60
</pre></div>

<p>The example above shows that calling &lsquo;<samp>alsoIncrementByTen</samp>&rsquo; is the same as
calling &lsquo;<samp>incrementByTen</samp>&rsquo;. Because both of them refer to the same
closure, they both increment and return the same running total.
</p>
<hr>
<span id="Escaping-Closures"></span><div class="header">
<p>
Next: <a href="#Autoclosures" accesskey="n" rel="next">Autoclosures</a>, Previous: <a href="#Closures-Are-Reference-Types" accesskey="p" rel="prev">Closures Are Reference Types</a>, Up: <a href="#Closures" accesskey="u" rel="up">Closures</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Escaping-Closures-1"></span><h3 class="section">12.5 Escaping Closures</h3>

<span id="index-_0040escaping"></span>

<p>A closure is said to <em>escape</em> a function when the closure is passed as
an argument to the function, but is called after the function returns.
When you declare a function that takes a closure as one of its
parameters, you can write &lsquo;<samp>@escaping</samp>&rsquo; before the parameter&rsquo;s type to
indicate that the closure is allowed to escape.
</p>
<p>One way that a closure can escape is by being stored in a variable that
is defined outside the function. As an example, many functions that
start an asynchronous operation take a closure argument as a completion
handler. The function returns after it starts the operation, but the
closure isn&rsquo;t called until the operation is completed&mdash;the closure
needs to escape, to be called later. For example:
</p>
<div class="example">
<pre class="example">var completionHandlers: [() -&gt; Void] = []
func someFunctionWithEscapingClosure(completionHandler: @escaping () -&gt; Void) {
    completionHandlers.append(completionHandler)
}
</pre></div>

<p>The &lsquo;<samp>someFunctionWithEscapingClosure(_:)</samp>&rsquo; function takes a closure as
its argument and adds it to an array that&rsquo;s declared outside the
function. If you didn&rsquo;t mark the parameter of this function with
&lsquo;<samp>@escaping</samp>&rsquo;, you would get a compile-time error.
</p>
<p>Marking a closure with &lsquo;<samp>@escaping</samp>&rsquo; means you have to refer to &lsquo;<samp>self</samp>&rsquo;
explicitly within the closure. For example, in the code below, the
closure passed to &lsquo;<samp>someFunctionWithEscapingClosure(_:)</samp>&rsquo; is an escaping
closure, which means it needs to refer to &lsquo;<samp>self</samp>&rsquo; explicitly. In
contrast, the closure passed to &lsquo;<samp>someFunctionWithNonescapingClosure(_:)</samp>&rsquo;
is a nonescaping closure, which means it can refer to &lsquo;<samp>self</samp>&rsquo; implicitly.
</p>
<div class="example">
<pre class="example">func someFunctionWithNonescapingClosure(closure: () -&gt; Void) {
    closure()
}

class SomeClass {
    var x = 10
    func doSomething() {
        someFunctionWithEscapingClosure { self.x = 100 }
        someFunctionWithNonescapingClosure { x = 200 }
    }
}

let instance = SomeClass()
instance.doSomething()
print(instance.x)
// Prints &quot;200&quot;

completionHandlers.first?()
print(instance.x)
// Prints &quot;100&quot;
</pre></div>

<hr>
<span id="Autoclosures"></span><div class="header">
<p>
Previous: <a href="#Escaping-Closures" accesskey="p" rel="prev">Escaping Closures</a>, Up: <a href="#Closures" accesskey="u" rel="up">Closures</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Autoclosures-1"></span><h3 class="section">12.6 Autoclosures</h3>

<span id="index-closures-created-automatically-to-wrap-expression-arguments"></span>
<span id="index-_0040autoclosure"></span>

<p>An <em>autoclosure</em> is a closure that is automatically created to wrap an
expression that&rsquo;s being passed as an argument to a function. It doesn&rsquo;t
take any arguments, and when it&rsquo;s called, it returns the value of the
expression that&rsquo;s wrapped inside of it. This syntactic convenience lets
you omit braces around a function&rsquo;s parameter by writing a normal
expression instead of an explicit closure.
</p>
<p>It&rsquo;s common to <em>call</em> functions that take autoclosures, but it&rsquo;s not
common to <em>implement</em> that kind of function. For example, the
&lsquo;<samp>assert(condition:message:file:line:)</samp>&rsquo; function takes an autoclosure for
its &lsquo;<samp>condition</samp>&rsquo; and &lsquo;<samp>message</samp>&rsquo; parameters; its &lsquo;<samp>condition</samp>&rsquo; parameter is
evaluated only in debug builds and its &lsquo;<samp>message</samp>&rsquo; parameter is evaluated
only if &lsquo;<samp>condition</samp>&rsquo; is &lsquo;<samp>false</samp>&rsquo;.
</p>
<p>An autoclosure lets you delay evaluation, because the code inside isn&rsquo;t
run until you call the closure. Delaying evaluation is useful for code
that has side effects or is computationally expensive, because it lets
you control when that code is evaluated. The code below shows how a
closure delays evaluation.
</p>
<div class="example">
<pre class="example">var customersInLine = [&quot;Chris&quot;, &quot;Alex&quot;, &quot;Ewa&quot;, &quot;Barry&quot;, &quot;Daniella&quot;]
print(customersInLine.count)
// Prints &quot;5&quot;

let customerProvider = { customersInLine.remove(at: 0) }
print(customersInLine.count)
// Prints &quot;5&quot;

print(&quot;Now serving \(customerProvider())!&quot;)
// Prints &quot;Now serving Chris!&quot;
print(customersInLine.count)
// Prints &quot;4&quot;
</pre></div>

<p>Even though the first element of the &lsquo;<samp>customersInLine</samp>&rsquo; array is removed
by the code inside the closure, the array element isn&rsquo;t removed until
the closure is actually called. If the closure is never called, the
expression inside the closure is never evaluated, which means the array
element is never removed. Note that the type of &lsquo;<samp>customerProvider</samp>&rsquo; is
not &lsquo;<samp>String</samp>&rsquo; but &lsquo;<samp>() -&gt; String</samp>&rsquo;&mdash;a function with no parameters that
returns a string.
</p>
<p>You get the same behavior of delayed evaluation when you pass a closure
as an argument to a function.
</p>
<div class="example">
<pre class="example">// customersInLine is [&quot;Alex&quot;, &quot;Ewa&quot;, &quot;Barry&quot;, &quot;Daniella&quot;]
func serve(customer customerProvider: () -&gt; String) {
    print(&quot;Now serving \(customerProvider())!&quot;)
}
serve(customer: { customersInLine.remove(at: 0) } )
// Prints &quot;Now serving Alex!&quot;
</pre></div>

<p>The &lsquo;<samp>serve(customer:)</samp>&rsquo; function in the listing above takes an explicit
closure that returns a customer&rsquo;s name. The version of
&lsquo;<samp>serve(customer:)</samp>&rsquo; below performs the same operation but, instead of
taking an explicit closure, it takes an autoclosure by marking its
parameter&rsquo;s type with the &lsquo;<samp>@autoclosure</samp>&rsquo; attribute. Now you can call the
function as if it took a &lsquo;<samp>String</samp>&rsquo; argument instead of a closure. The
argument is automatically converted to a closure, because the
&lsquo;<samp>customerProvider</samp>&rsquo; parameter&rsquo;s type is marked with the &lsquo;<samp>@autoclosure</samp>&rsquo;
attribute.
</p>
<div class="example">
<pre class="example">// customersInLine is [&quot;Ewa&quot;, &quot;Barry&quot;, &quot;Daniella&quot;]
func serve(customer customerProvider: @autoclosure () -&gt; String) {
    print(&quot;Now serving \(customerProvider())!&quot;)
}
serve(customer: customersInLine.remove(at: 0))
// Prints &quot;Now serving Ewa!&quot;
</pre></div>

<p>Note
</p>
<p>Overusing autoclosures can make your code hard to understand. The
context and function name should make it clear that evaluation is being
deferred.
</p>
<p>If you want an autoclosure that is allowed to escape, use both the
&lsquo;<samp>@autoclosure</samp>&rsquo; and &lsquo;<samp>@escaping</samp>&rsquo; attributes. The &lsquo;<samp>@escaping</samp>&rsquo; attribute is
described above in <a href="#Escaping-Closures">Escaping Closures</a>.
</p>
<div class="example">
<pre class="example">// customersInLine is [&quot;Barry&quot;, &quot;Daniella&quot;]
var customerProviders: [() -&gt; String] = []
func collectCustomerProviders(_ customerProvider: @autoclosure
                                @escaping () -&gt; String) {
    customerProviders.append(customerProvider)
}
collectCustomerProviders(customersInLine.remove(at: 0))
collectCustomerProviders(customersInLine.remove(at: 0))

print(&quot;Collected \(customerProviders.count) closures.&quot;)
// Prints &quot;Collected 2 closures.&quot;
for customerProvider in customerProviders {
    print(&quot;Now serving \(customerProvider())!&quot;)
}
// Prints &quot;Now serving Barry!&quot;
// Prints &quot;Now serving Daniella!&quot;
</pre></div>

<p>In the code above, instead of calling the closure passed to it as its
&lsquo;<samp>customerProvider</samp>&rsquo; argument, the &lsquo;<samp>collectCustomerProviders(_:)</samp>&rsquo; function
appends the closure to the &lsquo;<samp>customerProviders</samp>&rsquo; array. The array is
declared outside the scope of the function, which means the closures in
the array can be executed after the function returns. As a result, the
value of the &lsquo;<samp>customerProvider</samp>&rsquo; argument must be allowed to escape the
function&rsquo;s scope.
</p>
<hr>
<span id="Enumeration"></span><div class="header">
<p>
Next: <a href="#Structures-and-Classes" accesskey="n" rel="next">Structures and Classes</a>, Previous: <a href="#Closures" accesskey="p" rel="prev">Closures</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Enumeration-1"></span><h2 class="chapter">13 Enumeration</h2>

<p>An <em>enumeration</em> defines a common type for a group of related values and
enables you to work with those values in a type-safe way within your
code.
</p>
<p>If you are familiar with C, you will know that C enumerations assign
related names to a set of integer values. Enumerations in Swift are much
more flexible, and don&rsquo;t have to provide a value for each case of the
enumeration. If a value (known as a <em>raw</em> value) is provided for each
enumeration case, the value can be a string, a character, or a value of
any integer or floating-point type.
</p>
<p>Alternatively, enumeration cases can specify associated values of <em>any</em>
type to be stored along with each different case value, much as unions
or variants do in other languages. You can define a common set of
related cases as part of one enumeration, each of which has a different
set of values of appropriate types associated with it.
</p>
<p>Enumerations in Swift are first-class types in their own right. They
adopt many features traditionally supported only by classes, such as
computed properties to provide additional information about the
enumeration&rsquo;s current value, and instance methods to provide
functionality related to the values the enumeration represents.
Enumerations can also define initializers to provide an initial case
value; can be extended to expand their functionality beyond their
original implementation; and can conform to protocols to provide
standard functionality.
</p>
<p>For more about these capabilities, see
<a href="#Properties">Properties</a>, <a href="#Methods">Methods</a>,
<a href="#Initialization">Initialization</a>,
<a href="#Extensions">Extensions</a>, and <a href="#Protocols">Protocols</a>.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Enumeration-Syntax" accesskey="1">Enumeration Syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Matching-Enumeration-Values-with-a-Switch-Statement" accesskey="2">Matching Enumeration Values with a Switch Statement</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Iterating-over-Enumeration-Cases" accesskey="3">Iterating over Enumeration Cases</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Associated-Values" accesskey="4">Associated Values</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Raw-Values" accesskey="5">Raw Values</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Recursive-Enumerations" accesskey="6">Recursive Enumerations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Enumeration-Syntax"></span><div class="header">
<p>
Next: <a href="#Matching-Enumeration-Values-with-a-Switch-Statement" accesskey="n" rel="next">Matching Enumeration Values with a Switch Statement</a>, Up: <a href="#Enumeration" accesskey="u" rel="up">Enumeration</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Enumeration-Syntax-1"></span><h3 class="section">13.1 Enumeration Syntax</h3>

<p>You introduce enumerations with the &lsquo;<samp>enum</samp>&rsquo; keyword and place their
entire definition within a pair of braces:
</p>
<div class="example">
<pre class="example">enum SomeEnumeration {
    // enumeration definition goes here
}
</pre></div>

<p>Here&rsquo;s an example for the four main points of a compass:
</p>
<div class="example">
<pre class="example">enum CompassPoint {
    case north
    case south
    case east
    case west
}
</pre></div>

<p>The values defined in an enumeration (such as &lsquo;<samp>north</samp>&rsquo;, &lsquo;<samp>south</samp>&rsquo;, &lsquo;<samp>east</samp>&rsquo;,
and &lsquo;<samp>west</samp>&rsquo;) are its <em>enumeration cases</em>. You use the &lsquo;<samp>case</samp>&rsquo; keyword to
introduce new enumeration cases.
</p>
<p>Note
</p>
<p>Swift enumeration cases don&rsquo;t have an integer value set by default,
unlike languages like C and Objective-C. In the &lsquo;<samp>CompassPoint</samp>&rsquo; example
above, &lsquo;<samp>north</samp>&rsquo;, &lsquo;<samp>south</samp>&rsquo;, &lsquo;<samp>east</samp>&rsquo; and &lsquo;<samp>west</samp>&rsquo; don&rsquo;t implicitly equal &lsquo;<samp>0</samp>&rsquo;,
&lsquo;<samp>1</samp>&rsquo;, &lsquo;<samp>2</samp>&rsquo; and &lsquo;<samp>3</samp>&rsquo;. Instead, the different enumeration cases are values in
their own right, with an explicitly defined type of &lsquo;<samp>CompassPoint</samp>&rsquo;.
</p>
<p>Multiple cases can appear on a single line, separated by commas:
</p>
<div class="example">
<pre class="example">enum Planet {
    case mercury, venus, earth, mars, jupiter, saturn, uranus, neptune
}
</pre></div>

<p>Each enumeration definition defines a new type. Like other types in
Swift, their names (such as &lsquo;<samp>CompassPoint</samp>&rsquo; and &lsquo;<samp>Planet</samp>&rsquo;) start with a
capital letter. Give enumeration types singular rather than plural
names, so that they read as self-evident:
</p>
<div class="example">
<pre class="example">var directionToHead = CompassPoint.west
</pre></div>

<p>The type of &lsquo;<samp>directionToHead</samp>&rsquo; is inferred when it&rsquo;s initialized with one
of the possible values of &lsquo;<samp>CompassPoint</samp>&rsquo;. Once &lsquo;<samp>directionToHead</samp>&rsquo; is
declared as a &lsquo;<samp>CompassPoint</samp>&rsquo;, you can set it to a different
&lsquo;<samp>CompassPoint</samp>&rsquo; value using a shorter dot syntax:
</p>
<div class="example">
<pre class="example">directionToHead = .east
</pre></div>

<p>The type of &lsquo;<samp>directionToHead</samp>&rsquo; is already known, and so you can drop the
type when setting its value. This makes for highly readable code when
working with explicitly typed enumeration values.
</p>
<hr>
<span id="Matching-Enumeration-Values-with-a-Switch-Statement"></span><div class="header">
<p>
Next: <a href="#Iterating-over-Enumeration-Cases" accesskey="n" rel="next">Iterating over Enumeration Cases</a>, Previous: <a href="#Enumeration-Syntax" accesskey="p" rel="prev">Enumeration Syntax</a>, Up: <a href="#Enumeration" accesskey="u" rel="up">Enumeration</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Matching-Enumeration-Values-with-a-Switch-Statement-1"></span><h3 class="section">13.2 Matching Enumeration Values with a Switch Statement</h3>

<p>You can match individual enumeration values with a &lsquo;<samp>switch</samp>&rsquo; statement:
</p>
<div class="example">
<pre class="example">directionToHead = .south
switch directionToHead {
case .north:
    print(&quot;Lots of planets have a north&quot;)
case .south:
    print(&quot;Watch out for penguins&quot;)
case .east:
    print(&quot;Where the sun rises&quot;)
case .west:
    print(&quot;Where the skies are blue&quot;)
}
// Prints &quot;Watch out for penguins&quot;
</pre></div>

<p>You can read this code as:
</p>
<p>“Consider the value of &lsquo;<samp>directionToHead</samp>&rsquo;. In the case where it equals
&lsquo;<samp>.north</samp>&rsquo;, print &lsquo;<samp>&quot;Lots of planets have a north&quot;</samp>&rsquo;. In the case where it
equals &lsquo;<samp>.south</samp>&rsquo;, print &lsquo;<samp>&quot;Watch out for penguins&quot;</samp>&rsquo;.”
</p>
<p>&hellip;and so on.
</p>
<p>As described in <a href="#Control-Flow">Control Flow</a>, a &lsquo;<samp>switch</samp>&rsquo;
statement must be exhaustive when considering an enumeration&rsquo;s cases. If
the &lsquo;<samp>case</samp>&rsquo; for &lsquo;<samp>.west</samp>&rsquo; is omitted, this code doesn&rsquo;t compile, because it
doesn&rsquo;t consider the complete list of &lsquo;<samp>CompassPoint</samp>&rsquo; cases. Requiring
exhaustiveness ensures that enumeration cases aren&rsquo;t accidentally
omitted.
</p>
<p>When it isn&rsquo;t appropriate to provide a &lsquo;<samp>case</samp>&rsquo; for every enumeration
case, you can provide a &lsquo;<samp>default</samp>&rsquo; case to cover any cases that aren&rsquo;t
addressed explicitly:
</p>
<div class="example">
<pre class="example">let somePlanet = Planet.earth
switch somePlanet {
case .earth:
    print(&quot;Mostly harmless&quot;)
default:
    print(&quot;Not a safe place for humans&quot;)
}
// Prints &quot;Mostly harmless&quot;
</pre></div>

<hr>
<span id="Iterating-over-Enumeration-Cases"></span><div class="header">
<p>
Next: <a href="#Associated-Values" accesskey="n" rel="next">Associated Values</a>, Previous: <a href="#Matching-Enumeration-Values-with-a-Switch-Statement" accesskey="p" rel="prev">Matching Enumeration Values with a Switch Statement</a>, Up: <a href="#Enumeration" accesskey="u" rel="up">Enumeration</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Iterating-over-Enumeration-Cases-1"></span><h3 class="section">13.3 Iterating over Enumeration Cases</h3>

<p>For some enumerations, it&rsquo;s useful to have a collection of all of that
enumeration&rsquo;s cases. You enable this by writing &lsquo;<samp>: CaseIterable</samp>&rsquo; after
the enumeration&rsquo;s name. Swift exposes a collection of all the cases as
an &lsquo;<samp>allCases</samp>&rsquo; property of the enumeration type. Here&rsquo;s an example:
</p>
<div class="example">
<pre class="example">enum Beverage: CaseIterable {
    case coffee, tea, juice
}
let numberOfChoices = Beverage.allCases.count
print(&quot;\(numberOfChoices) beverages available&quot;)
// Prints &quot;3 beverages available&quot;
</pre></div>

<p>In the example above, you write &lsquo;<samp>Beverage.allCases</samp>&rsquo; to access a
collection that contains all of the cases of the &lsquo;<samp>Beverage</samp>&rsquo; enumeration.
You can use &lsquo;<samp>allCases</samp>&rsquo; like any other collection&mdash;the collection&rsquo;s
elements are instances of the enumeration type, so in this case they&rsquo;re
&lsquo;<samp>Beverage</samp>&rsquo; values. The example above counts how many cases there are,
and the example below uses a &lsquo;<samp>for</samp>&rsquo; loop to iterate over all the cases.
</p>
<div class="example">
<pre class="example">for beverage in Beverage.allCases {
    print(beverage)
}
// coffee
// tea
// juice
</pre></div>

<p>The syntax used in the examples above marks the enumeration as
conforming to the
<a href="https://developer.apple.com/documentation/swift/caseiterable">&lsquo;<samp>CaseIterable</samp>&rsquo;</a>
[<a href="https://developer.apple.com/documentation/swift/caseiterable">https://developer.apple.com/documentation/swift/caseiterable</a>] protocol.
For information about protocols, see <a href="#Protocols">Protocols</a>.
</p>
<hr>
<span id="Associated-Values"></span><div class="header">
<p>
Next: <a href="#Raw-Values" accesskey="n" rel="next">Raw Values</a>, Previous: <a href="#Iterating-over-Enumeration-Cases" accesskey="p" rel="prev">Iterating over Enumeration Cases</a>, Up: <a href="#Enumeration" accesskey="u" rel="up">Enumeration</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Associated-Values-1"></span><h3 class="section">13.4 Associated Values</h3>

<p>The examples in the previous section show how the cases of an
enumeration are a defined (and typed) value in their own right. You can
set a constant or variable to &lsquo;<samp>Planet.earth</samp>&rsquo;, and check for this value
later. However, it&rsquo;s sometimes useful to be able to store values of
other types alongside these case values. This additional information is
called an <em>associated value</em>, and it varies each time you use that case
as a value in your code.
</p>
<p>You can define Swift enumerations to store associated values of any
given type, and the value types can be different for each case of the
enumeration if needed. Enumerations similar to these are known as
<em>discriminated unions</em>, <em>tagged unions</em>, or <em>variants</em> in other
programming languages.
</p>
<p>For example, suppose an inventory tracking system needs to track
products by two different types of barcode. Some products are labeled
with 1D barcodes in UPC format, which uses the numbers &lsquo;<samp>0</samp>&rsquo; to &lsquo;<samp>9</samp>&rsquo;. Each
barcode has a number system digit, followed by five manufacturer code
digits and five product code digits. These are followed by a check digit
to verify that the code has been scanned correctly:
</p>
<img src="images/barcode_UPC_2x.png" alt="images/barcode_UPC_2x">
<p>Other products are labeled with 2D barcodes in QR code format, which can
use any ISO 8859-1 character and can encode a string up to 2,953
characters long:
</p>
<img src="images/barcode_QR_2x.png" alt="images/barcode_QR_2x">
<p>It&rsquo;s convenient for an inventory tracking system to store UPC barcodes
as a tuple of four integers, and QR code barcodes as a string of any
length.
</p>
<p>In Swift, an enumeration to define product barcodes of either type might
look like this:
</p>
<div class="example">
<pre class="example">enum Barcode {
    case upc(Int, Int, Int, Int)
    case qrCode(String)
}
</pre></div>

<p>This can be read as:
</p>
<p>“Define an enumeration type called &lsquo;<samp>Barcode</samp>&rsquo;, which can take either a
value of &lsquo;<samp>upc</samp>&rsquo; with an associated value of type (&lsquo;<samp>Int</samp>&rsquo;, &lsquo;<samp>Int</samp>&rsquo;, &lsquo;<samp>Int</samp>&rsquo;,
&lsquo;<samp>Int</samp>&rsquo;), or a value of &lsquo;<samp>qrCode</samp>&rsquo; with an associated value of type
&lsquo;<samp>String</samp>&rsquo;.”
</p>
<p>This definition doesn&rsquo;t provide any actual &lsquo;<samp>Int</samp>&rsquo; or &lsquo;<samp>String</samp>&rsquo; values&mdash;it
just defines the <em>type</em> of associated values that &lsquo;<samp>Barcode</samp>&rsquo; constants
and variables can store when they are equal to &lsquo;<samp>Barcode.upc</samp>&rsquo; or
&lsquo;<samp>Barcode.qrCode</samp>&rsquo;.
</p>
<p>You can then create new barcodes using either type:
</p>
<div class="example">
<pre class="example">var productBarcode = Barcode.upc(8, 85909, 51226, 3)
</pre></div>

<p>This example creates a new variable called &lsquo;<samp>productBarcode</samp>&rsquo; and assigns
it a value of &lsquo;<samp>Barcode.upc</samp>&rsquo; with an associated tuple value of
&lsquo;<samp>(8, 85909, 51226, 3)</samp>&rsquo;.
</p>
<p>You can assign the same product a different type of barcode:
</p>
<div class="example">
<pre class="example">productBarcode = .qrCode(&quot;ABCDEFGHIJKLMNOP&quot;)
</pre></div>

<p>At this point, the original &lsquo;<samp>Barcode.upc</samp>&rsquo; and its integer values are
replaced by the new &lsquo;<samp>Barcode.qrCode</samp>&rsquo; and its string value. Constants and
variables of type &lsquo;<samp>Barcode</samp>&rsquo; can store either a &lsquo;<samp>.upc</samp>&rsquo; or a &lsquo;<samp>.qrCode</samp>&rsquo;
(together with their associated values), but they can store only one of
them at any given time.
</p>
<p>You can check the different barcode types using a switch statement,
similar to the example in <a href="#Matching-Enumeration-Values-with-a-Switch-Statement">Matching
Enumeration Values with a Switch Statement</a>. This time, however, the
associated values are extracted as part of the switch statement. You
extract each associated value as a constant (with the &lsquo;<samp>let</samp>&rsquo; prefix) or a
variable (with the &lsquo;<samp>var</samp>&rsquo; prefix) for use within the &lsquo;<samp>switch</samp>&rsquo; case&rsquo;s
body:
</p>
<div class="example">
<pre class="example">switch productBarcode {
case .upc(let numberSystem, let manufacturer, let product, let check):
    print(&quot;UPC: \(numberSystem), \(manufacturer), \(product), \(check).&quot;)
case .qrCode(let productCode):
    print(&quot;QR code: \(productCode).&quot;)
}
// Prints &quot;QR code: ABCDEFGHIJKLMNOP.&quot;
</pre></div>

<p>If all of the associated values for an enumeration case are extracted as
constants, or if all are extracted as variables, you can place a single
&lsquo;<samp>var</samp>&rsquo; or &lsquo;<samp>let</samp>&rsquo; annotation before the case name, for brevity:
</p>
<div class="example">
<pre class="example">switch productBarcode {
case let .upc(numberSystem, manufacturer, product, check):
    print(&quot;UPC : \(numberSystem), \(manufacturer), \(product), \(check).&quot;)
case let .qrCode(productCode):
    print(&quot;QR code: \(productCode).&quot;)
}
// Prints &quot;QR code: ABCDEFGHIJKLMNOP.&quot;
</pre></div>

<hr>
<span id="Raw-Values"></span><div class="header">
<p>
Next: <a href="#Recursive-Enumerations" accesskey="n" rel="next">Recursive Enumerations</a>, Previous: <a href="#Associated-Values" accesskey="p" rel="prev">Associated Values</a>, Up: <a href="#Enumeration" accesskey="u" rel="up">Enumeration</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Raw-Values-1"></span><h3 class="section">13.5 Raw Values</h3>

<p>The barcode example in <a href="#Associated-Values">Associated Values</a>
shows how cases of an enumeration can declare that they store associated
values of different types. As an alternative to associated values,
enumeration cases can come prepopulated with default values (called <em>raw
values</em>), which are all of the same type.
</p>
<p>Here&rsquo;s an example that stores raw ASCII values alongside named
enumeration cases:
</p>
<div class="example">
<pre class="example">enum ASCIIControlCharacter: Character {
    case tab = &quot;\t&quot;
    case lineFeed = &quot;\n&quot;
    case carriageReturn = &quot;\r&quot;
}
</pre></div>

<p>Here, the raw values for an enumeration called &lsquo;<samp>ASCIIControlCharacter</samp>&rsquo;
are defined to be of type &lsquo;<samp>Character</samp>&rsquo;, and are set to some of the more
common ASCII control characters. &lsquo;<samp>Character</samp>&rsquo; values are described in
<a href="#Strings-and-Characters">Strings and Characters</a>.
</p>
<p>Raw values can be strings, characters, or any of the integer or
floating-point number types. Each raw value must be unique within its
enumeration declaration.
</p>
<p>Note
</p>
<p>Raw values are <em>not</em> the same as associated values. Raw values are set
to prepopulated values when you first define the enumeration in your
code, like the three ASCII codes above. The raw value for a particular
enumeration case is always the same. Associated values are set when you
create a new constant or variable based on one of the enumeration&rsquo;s
cases, and can be different each time you do so.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Implicitly-Assigned-Raw-Values" accesskey="1">Implicitly Assigned Raw Values</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Initializing-from-a-Raw-Value" accesskey="2">Initializing from a Raw Value</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Implicitly-Assigned-Raw-Values"></span><div class="header">
<p>
Next: <a href="#Initializing-from-a-Raw-Value" accesskey="n" rel="next">Initializing from a Raw Value</a>, Up: <a href="#Raw-Values" accesskey="u" rel="up">Raw Values</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Implicitly-Assigned-Raw-Values-1"></span><h4 class="subsection">13.5.1 Implicitly Assigned Raw Values</h4>

<p>When you&rsquo;re working with enumerations that store integer or string raw
values, you don&rsquo;t have to explicitly assign a raw value for each case.
When you don&rsquo;t, Swift automatically assigns the values for you.
</p>
<p>For example, when integers are used for raw values, the implicit value
for each case is one more than the previous case. If the first case
doesn&rsquo;t have a value set, its value is &lsquo;<samp>0</samp>&rsquo;.
</p>
<p>The enumeration below is a refinement of the earlier &lsquo;<samp>Planet</samp>&rsquo;
enumeration, with integer raw values to represent each planet&rsquo;s order
from the sun:
</p>
<div class="example">
<pre class="example">enum Planet: Int {
    case mercury = 1, venus, earth, mars, jupiter, saturn, uranus, neptune
}
</pre></div>

<p>In the example above, &lsquo;<samp>Planet.mercury</samp>&rsquo; has an explicit raw value of &lsquo;<samp>1</samp>&rsquo;,
&lsquo;<samp>Planet.venus</samp>&rsquo; has an implicit raw value of &lsquo;<samp>2</samp>&rsquo;, and so on.
</p>
<p>When strings are used for raw values, the implicit value for each case
is the text of that case&rsquo;s name.
</p>
<p>The enumeration below is a refinement of the earlier &lsquo;<samp>CompassPoint</samp>&rsquo;
enumeration, with string raw values to represent each direction&rsquo;s name:
</p>
<div class="example">
<pre class="example">enum CompassPoint: String {
    case north, south, east, west
}
</pre></div>

<p>In the example above, &lsquo;<samp>CompassPoint.south</samp>&rsquo; has an implicit raw value of
&lsquo;<samp>&quot;south&quot;</samp>&rsquo;, and so on.
</p>
<p>You access the raw value of an enumeration case with its &lsquo;<samp>rawValue</samp>&rsquo;
property:
</p>
<div class="example">
<pre class="example">let earthsOrder = Planet.earth.rawValue
// earthsOrder is 3

let sunsetDirection = CompassPoint.west.rawValue
// sunsetDirection is &quot;west&quot;
</pre></div>

<hr>
<span id="Initializing-from-a-Raw-Value"></span><div class="header">
<p>
Previous: <a href="#Implicitly-Assigned-Raw-Values" accesskey="p" rel="prev">Implicitly Assigned Raw Values</a>, Up: <a href="#Raw-Values" accesskey="u" rel="up">Raw Values</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Initializing-from-a-Raw-Value-1"></span><h4 class="subsection">13.5.2 Initializing from a Raw Value</h4>

<p>If you define an enumeration with a raw-value type, the enumeration
automatically receives an initializer that takes a value of the raw
value&rsquo;s type (as a parameter called &lsquo;<samp>rawValue</samp>&rsquo;) and returns either an
enumeration case or &lsquo;<samp>nil</samp>&rsquo;. You can use this initializer to try to create
a new instance of the enumeration.
</p>
<p>This example identifies Uranus from its raw value of &lsquo;<samp>7</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">let possiblePlanet = Planet(rawValue: 7)
// possiblePlanet is of type Planet? and equals Planet.uranus
</pre></div>

<p>Not all possible &lsquo;<samp>Int</samp>&rsquo; values will find a matching planet, however.
Because of this, the raw value initializer always returns an <em>optional</em>
enumeration case. In the example above, &lsquo;<samp>possiblePlanet</samp>&rsquo; is of type
&lsquo;<samp>Planet?</samp>&rsquo;, or “optional &lsquo;<samp>Planet</samp>&rsquo;.”
</p>
<p>Note
</p>
<p>The raw value initializer is a failable initializer, because not every
raw value will return an enumeration case. For more information, see
<a href="#Failable-Initializers">Failable Initializers</a>.
</p>
<p>If you try to find a planet with a position of &lsquo;<samp>11</samp>&rsquo;, the optional
&lsquo;<samp>Planet</samp>&rsquo; value returned by the raw value initializer will be &lsquo;<samp>nil</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">let positionToFind = 11
if let somePlanet = Planet(rawValue: positionToFind) {
    switch somePlanet {
    case .earth:
        print(&quot;Mostly harmless&quot;)
    default:
        print(&quot;Not a safe place for humans&quot;)
    }
} else {
    print(&quot;There isn't a planet at position \(positionToFind)&quot;)
}
// Prints &quot;There isn't a planet at position 11&quot;
</pre></div>

<p>This example uses optional binding to try to access a planet with a raw
value of &lsquo;<samp>11</samp>&rsquo;. The statement &lsquo;<samp>if let somePlanet = Planet(rawValue: 11)</samp>&rsquo;
creates an optional &lsquo;<samp>Planet</samp>&rsquo;, and sets &lsquo;<samp>somePlanet</samp>&rsquo; to the value of that
optional &lsquo;<samp>Planet</samp>&rsquo; if it can be retrieved. In this case, it isn&rsquo;t
possible to retrieve a planet with a position of &lsquo;<samp>11</samp>&rsquo;, and so the &lsquo;<samp>else</samp>&rsquo;
branch is executed instead.
</p>
<hr>
<span id="Recursive-Enumerations"></span><div class="header">
<p>
Previous: <a href="#Raw-Values" accesskey="p" rel="prev">Raw Values</a>, Up: <a href="#Enumeration" accesskey="u" rel="up">Enumeration</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Recursive-Enumerations-1"></span><h3 class="section">13.6 Recursive Enumerations</h3>

<span id="index-indirect"></span>

<p>A <em>recursive enumeration</em> is an enumeration that has another instance of
the enumeration as the associated value for one or more of the
enumeration cases. You indicate that an enumeration case is recursive by
writing &lsquo;<samp>indirect</samp>&rsquo; before it, which tells the compiler to insert the
necessary layer of indirection.
</p>
<p>For example, here is an enumeration that stores simple arithmetic
expressions:
</p>
<div class="example">
<pre class="example">enum ArithmeticExpression {
    case number(Int)
    indirect case addition(ArithmeticExpression, ArithmeticExpression)
    indirect case multiplication(ArithmeticExpression, ArithmeticExpression)
}
</pre></div>

<p>You can also write &lsquo;<samp>indirect</samp>&rsquo; before the beginning of the enumeration to
enable indirection for all of the enumeration&rsquo;s cases that have an
associated value:
</p>
<div class="example">
<pre class="example">indirect enum ArithmeticExpression {
    case number(Int)
    case addition(ArithmeticExpression, ArithmeticExpression)
    case multiplication(ArithmeticExpression, ArithmeticExpression)
}
</pre></div>

<p>This enumeration can store three kinds of arithmetic expressions: a
plain number, the addition of two expressions, and the multiplication of
two expressions. The &lsquo;<samp>addition</samp>&rsquo; and &lsquo;<samp>multiplication</samp>&rsquo; cases have
associated values that are also arithmetic expressions&mdash;these
associated values make it possible to nest expressions. For example, the
expression &lsquo;<samp>(5 + 4) * 2</samp>&rsquo; has a number on the right-hand side of the
multiplication and another expression on the left-hand side of the
multiplication. Because the data is nested, the enumeration used to
store the data also needs to support nesting&mdash;this means the
enumeration needs to be recursive. The code below shows the
&lsquo;<samp>ArithmeticExpression</samp>&rsquo; recursive enumeration being created for
&lsquo;<samp>(5 + 4) * 2</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">let five = ArithmeticExpression.number(5)
let four = ArithmeticExpression.number(4)
let sum = ArithmeticExpression.addition(five, four)
let product = ArithmeticExpression.multiplication(sum, ArithmeticExpression.number(2))
</pre></div>

<p>A recursive function is a straightforward way to work with data that has
a recursive structure. For example, here&rsquo;s a function that evaluates an
arithmetic expression:
</p>
<div class="example">
<pre class="example">func evaluate(_ expression: ArithmeticExpression) -&gt; Int {
    switch expression {
    case let .number(value):
        return value
    case let .addition(left, right):
        return evaluate(left) + evaluate(right)
    case let .multiplication(left, right):
        return evaluate(left) * evaluate(right)
    }
}

print(evaluate(product))
// Prints &quot;18&quot;
</pre></div>

<p>This function evaluates a plain number by simply returning the
associated value. It evaluates an addition or multiplication by
evaluating the expression on the left-hand side, evaluating the
expression on the right-hand side, and then adding them or multiplying
them.
</p>
<hr>
<span id="Structures-and-Classes"></span><div class="header">
<p>
Next: <a href="#Properties" accesskey="n" rel="next">Properties</a>, Previous: <a href="#Enumeration" accesskey="p" rel="prev">Enumeration</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Structures-and-Classes-1"></span><h2 class="chapter">14 Structures and Classes</h2>

<p><em>Structures</em> and <em>classes</em> are general-purpose, flexible constructs that
become the building blocks of your program&rsquo;s code. You define properties
and methods to add functionality to your structures and classes using
the same syntax you use to define constants, variables, and functions.
</p>
<p>Unlike other programming languages, Swift doesn&rsquo;t require you to create
separate interface and implementation files for custom structures and
classes. In Swift, you define a structure or class in a single file, and
the external interface to that class or structure is automatically made
available for other code to use.
</p>
<p>Note
</p>
<p>An instance of a class is traditionally known as an <em>object</em>. However,
Swift structures and classes are much closer in functionality than in
other languages, and much of this chapter describes functionality that
applies to instances of <em>either</em> a class or a structure type. Because of
this, the more general term <em>instance</em> is used.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Comparing-Structures-and-Classes" accesskey="1">Comparing Structures and Classes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Structures-and-Enumerations-Are-Value-Types" accesskey="2">Structures and Enumerations Are Value Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Classes-Are-Reference-Types" accesskey="3">Classes Are Reference Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Comparing-Structures-and-Classes"></span><div class="header">
<p>
Next: <a href="#Structures-and-Enumerations-Are-Value-Types" accesskey="n" rel="next">Structures and Enumerations Are Value Types</a>, Up: <a href="#Structures-and-Classes" accesskey="u" rel="up">Structures and Classes</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Comparing-Structures-and-Classes-1"></span><h3 class="section">14.1 Comparing Structures and Classes</h3>

<p>Structures and classes in Swift have many things in common. Both can:
</p>
<ul>
<li> Define properties to store values

</li><li> Define methods to provide functionality

</li><li> Define subscripts to provide access to their values using subscript
syntax

</li><li> Define initializers to set up their initial state

</li><li> Be extended to expand their functionality beyond a default
implementation

</li><li> Conform to protocols to provide standard functionality of a certain
kind
</li></ul>

<p>For more information, see <a href="#Properties">Properties</a>,
<a href="#Methods">Methods</a>, <a href="#Subscripts">Subscripts</a>,
<a href="#Initialization">Initialization</a>,
<a href="#Extensions">Extensions</a>, and <a href="#Protocols">Protocols</a>.
</p>
<p>Classes have additional capabilities that structures don&rsquo;t have:
</p>
<ul>
<li> Inheritance enables one class to inherit the characteristics of
another.

</li><li> Type casting enables you to check and interpret the type of a class
instance at runtime.

</li><li> Deinitializers enable an instance of a class to free up any resources
it has assigned.

</li><li> Reference counting allows more than one reference to a class instance.
</li></ul>

<p>For more information, see <a href="#Inheritance">Inheritance</a>,
<a href="#Type-Casting">Type Casting</a>,
<a href="#Deinitialization">Deinitialization</a>, and
<a href="#Automatic-Reference-Counting">Automatic Reference Counting</a>.
</p>
<p>The additional capabilities that classes support come at the cost of
increased complexity. As a general guideline, prefer structures because
they&rsquo;re easier to reason about, and use classes when they&rsquo;re appropriate
or necessary. In practice, this means most of the custom data types you
define will be structures and enumerations. For a more detailed
comparison, see
<a href="https://developer.apple.com/documentation/swift/choosing_between_structures_and_classes">Choosing
Between Structures and Classes</a>
[<a href="https://developer.apple.com/documentation/swift/choosing_between_structures_and_classes">https://developer.apple.com/documentation/swift/choosing_between_structures_and_classes</a>].
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Definition-Syntax" accesskey="1">Definition Syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Structure-and-Class-Instances" accesskey="2">Structure and Class Instances</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Accessing-Properties" accesskey="3">Accessing Properties</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Memberwise-Initializers-for-Structure-Types" accesskey="4">Memberwise Initializers for Structure Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Definition-Syntax"></span><div class="header">
<p>
Next: <a href="#Structure-and-Class-Instances" accesskey="n" rel="next">Structure and Class Instances</a>, Up: <a href="#Comparing-Structures-and-Classes" accesskey="u" rel="up">Comparing Structures and Classes</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Definition-Syntax-1"></span><h4 class="subsection">14.1.1 Definition Syntax</h4>

<span id="index-class-1"></span>
<span id="index-struct"></span>
<p>Structures and classes have a similar definition syntax. You introduce
structures with the &lsquo;<samp>struct</samp>&rsquo; keyword and classes with the &lsquo;<samp>class</samp>&rsquo;
keyword. Both place their entire definition within a pair of braces:
</p>
<div class="example">
<pre class="example">struct SomeStructure {
    // structure definition goes here
}
class SomeClass {
    // class definition goes here
}
</pre></div>

<p>Note
</p>
<p>Whenever you define a new structure or class, you define a new Swift
type. Give types &lsquo;<samp>UpperCamelCase</samp>&rsquo; names (such as &lsquo;<samp>SomeStructure</samp>&rsquo; and
&lsquo;<samp>SomeClass</samp>&rsquo; here) to match the capitalization of standard Swift types
(such as &lsquo;<samp>String</samp>&rsquo;, &lsquo;<samp>Int</samp>&rsquo;, and &lsquo;<samp>Bool</samp>&rsquo;). Give properties and methods
&lsquo;<samp>lowerCamelCase</samp>&rsquo; names (such as &lsquo;<samp>frameRate</samp>&rsquo; and &lsquo;<samp>incrementCount</samp>&rsquo;) to
differentiate them from type names.
</p>
<p>Here&rsquo;s an example of a structure definition and a class definition:
</p>
<div class="example">
<pre class="example">struct Resolution {
    var width = 0
    var height = 0
}
class VideoMode {
    var resolution = Resolution()
    var interlaced = false
    var frameRate = 0.0
    var name: String?
}
</pre></div>

<p>The example above defines a new structure called &lsquo;<samp>Resolution</samp>&rsquo;, to
describe a pixel-based display resolution. This structure has two stored
properties called &lsquo;<samp>width</samp>&rsquo; and &lsquo;<samp>height</samp>&rsquo;. Stored properties are constants
or variables that are bundled up and stored as part of the structure or
class. These two properties are inferred to be of type &lsquo;<samp>Int</samp>&rsquo; by setting
them to an initial integer value of &lsquo;<samp>0</samp>&rsquo;.
</p>
<p>The example above also defines a new class called &lsquo;<samp>VideoMode</samp>&rsquo;, to
describe a specific video mode for video display. This class has four
variable stored properties. The first, &lsquo;<samp>resolution</samp>&rsquo;, is initialized with
a new &lsquo;<samp>Resolution</samp>&rsquo; structure instance, which infers a property type of
&lsquo;<samp>Resolution</samp>&rsquo;. For the other three properties, new &lsquo;<samp>VideoMode</samp>&rsquo; instances
will be initialized with an &lsquo;<samp>interlaced</samp>&rsquo; setting of &lsquo;<samp>false</samp>&rsquo; (meaning
“noninterlaced video”), a playback frame rate of &lsquo;<samp>0.0</samp>&rsquo;, and an optional
&lsquo;<samp>String</samp>&rsquo; value called &lsquo;<samp>name</samp>&rsquo;. The &lsquo;<samp>name</samp>&rsquo; property is automatically given
a default value of &lsquo;<samp>nil</samp>&rsquo;, or “no &lsquo;<samp>name</samp>&rsquo; value”, because it&rsquo;s of an
optional type.
</p>
<hr>
<span id="Structure-and-Class-Instances"></span><div class="header">
<p>
Next: <a href="#Accessing-Properties" accesskey="n" rel="next">Accessing Properties</a>, Previous: <a href="#Definition-Syntax" accesskey="p" rel="prev">Definition Syntax</a>, Up: <a href="#Comparing-Structures-and-Classes" accesskey="u" rel="up">Comparing Structures and Classes</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Structure-and-Class-Instances-1"></span><h4 class="subsection">14.1.2 Structure and Class Instances</h4>

<p>The &lsquo;<samp>Resolution</samp>&rsquo; structure definition and the &lsquo;<samp>VideoMode</samp>&rsquo; class
definition only describe what a &lsquo;<samp>Resolution</samp>&rsquo; or &lsquo;<samp>VideoMode</samp>&rsquo; will look
like. They themselves don&rsquo;t describe a specific resolution or video
mode. To do that, you need to create an instance of the structure or
class.
</p>
<p>The syntax for creating instances is very similar for both structures
and classes:
</p>
<div class="example">
<pre class="example">let someResolution = Resolution()
let someVideoMode = VideoMode()
</pre></div>

<p>Structures and classes both use initializer syntax for new instances.
The simplest form of initializer syntax uses the type name of the class
or structure followed by empty parentheses, such as &lsquo;<samp>Resolution()</samp>&rsquo; or
&lsquo;<samp>VideoMode()</samp>&rsquo;. This creates a new instance of the class or structure,
with any properties initialized to their default values. Class and
structure initialization is described in more detail in
<a href="#Initialization">Initialization</a>.
</p>
<hr>
<span id="Accessing-Properties"></span><div class="header">
<p>
Next: <a href="#Memberwise-Initializers-for-Structure-Types" accesskey="n" rel="next">Memberwise Initializers for Structure Types</a>, Previous: <a href="#Structure-and-Class-Instances" accesskey="p" rel="prev">Structure and Class Instances</a>, Up: <a href="#Comparing-Structures-and-Classes" accesskey="u" rel="up">Comparing Structures and Classes</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Accessing-Properties-1"></span><h4 class="subsection">14.1.3 Accessing Properties</h4>

<p>You can access the properties of an instance using <em>dot syntax</em>. In dot
syntax, you write the property name immediately after the instance name,
separated by a period (&lsquo;<samp>.</samp>&rsquo;), without any spaces:
</p>
<div class="example">
<pre class="example">print(&quot;The width of someResolution is \(someResolution.width)&quot;)
// Prints &quot;The width of someResolution is 0&quot;
</pre></div>

<p>In this example, &lsquo;<samp>someResolution.width</samp>&rsquo; refers to the &lsquo;<samp>width</samp>&rsquo; property
of &lsquo;<samp>someResolution</samp>&rsquo;, and returns its default initial value of &lsquo;<samp>0</samp>&rsquo;.
</p>
<p>You can drill down into subproperties, such as the &lsquo;<samp>width</samp>&rsquo; property in
the &lsquo;<samp>resolution</samp>&rsquo; property of a &lsquo;<samp>VideoMode</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">print(&quot;The width of someVideoMode is \(someVideoMode.resolution.width)&quot;)
// Prints &quot;The width of someVideoMode is 0&quot;
</pre></div>

<p>You can also use dot syntax to assign a new value to a variable
property:
</p>
<div class="example">
<pre class="example">someVideoMode.resolution.width = 1280
print(&quot;The width of someVideoMode is now \(someVideoMode.resolution.width)&quot;)
// Prints &quot;The width of someVideoMode is now 1280&quot;
</pre></div>

<hr>
<span id="Memberwise-Initializers-for-Structure-Types"></span><div class="header">
<p>
Previous: <a href="#Accessing-Properties" accesskey="p" rel="prev">Accessing Properties</a>, Up: <a href="#Comparing-Structures-and-Classes" accesskey="u" rel="up">Comparing Structures and Classes</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Memberwise-Initializers-for-Structure-Types-2"></span><h4 class="subsection">14.1.4 Memberwise Initializers for Structure Types</h4>

<p><a href="https://github.com/apple/swift-evolution/blob/master/proposals/0242-default-values-memberwise.md">Proposal</a>
</p>
<p>All structures have an automatically generated <em>memberwise initializer</em>,
which you can use to initialize the member properties of new structure
instances. Initial values for the properties of the new instance can be
passed to the memberwise initializer by name:
</p>
<div class="example">
<pre class="example">let vga = Resolution(width: 640, height: 480)
</pre></div>

<p>Unlike structures, class instances don&rsquo;t receive a default memberwise
initializer. Initializers are described in more detail in
<a href="#Initialization">Initialization</a>.
</p>
<hr>
<span id="Structures-and-Enumerations-Are-Value-Types"></span><div class="header">
<p>
Next: <a href="#Classes-Are-Reference-Types" accesskey="n" rel="next">Classes Are Reference Types</a>, Previous: <a href="#Comparing-Structures-and-Classes" accesskey="p" rel="prev">Comparing Structures and Classes</a>, Up: <a href="#Structures-and-Classes" accesskey="u" rel="up">Structures and Classes</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Structures-and-Enumerations-Are-Value-Types-1"></span><h3 class="section">14.2 Structures and Enumerations Are Value Types</h3>

<p>A <em>value type</em> is a type whose value is <em>copied</em> when it&rsquo;s assigned to a
variable or constant, or when it&rsquo;s passed to a function.
</p>
<p>You&rsquo;ve actually been using value types extensively throughout the
previous chapters. In fact, all of the basic types in Swift&mdash;integers,
floating-point numbers, Booleans, strings, arrays and dictionaries&mdash;are
value types, and are implemented as structures behind the scenes.
</p>
<p>All structures and enumerations are value types in Swift. This means
that any structure and enumeration instances you create&mdash;and any value
types they have as properties&mdash;are always copied when they are passed
around in your code.
</p>
<p>Note
</p>
<p>Collections defined by the standard library like arrays, dictionaries,
and strings use an optimization to reduce the performance cost of
copying. Instead of making a copy immediately, these collections share
the memory where the elements are stored between the original instance
and any copies. If one of the copies of the collection is modified, the
elements are copied just before the modification. The behavior you see
in your code is always as if a copy took place immediately.
</p>
<p>Consider this example, which uses the &lsquo;<samp>Resolution</samp>&rsquo; structure from the
previous example:
</p>
<div class="example">
<pre class="example">let hd = Resolution(width: 1920, height: 1080)
var cinema = hd
</pre></div>

<p>This example declares a constant called &lsquo;<samp>hd</samp>&rsquo; and sets it to a
&lsquo;<samp>Resolution</samp>&rsquo; instance initialized with the width and height of full HD
video (1920 pixels wide by 1080 pixels high).
</p>
<p>It then declares a variable called &lsquo;<samp>cinema</samp>&rsquo; and sets it to the current
value of &lsquo;<samp>hd</samp>&rsquo;. Because &lsquo;<samp>Resolution</samp>&rsquo; is a structure, a <em>copy</em> of the
existing instance is made, and this new copy is assigned to &lsquo;<samp>cinema</samp>&rsquo;.
Even though &lsquo;<samp>hd</samp>&rsquo; and &lsquo;<samp>cinema</samp>&rsquo; now have the same width and height, they
are two completely different instances behind the scenes.
</p>
<p>Next, the &lsquo;<samp>width</samp>&rsquo; property of &lsquo;<samp>cinema</samp>&rsquo; is amended to be the width of the
slightly wider 2K standard used for digital cinema projection (2048
pixels wide and 1080 pixels high):
</p>
<div class="example">
<pre class="example">cinema.width = 2048
</pre></div>

<p>Checking the &lsquo;<samp>width</samp>&rsquo; property of &lsquo;<samp>cinema</samp>&rsquo; shows that it has indeed
changed to be &lsquo;<samp>2048</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">print(&quot;cinema is now \(cinema.width) pixels wide&quot;)
// Prints &quot;cinema is now 2048 pixels wide&quot;
</pre></div>

<p>However, the &lsquo;<samp>width</samp>&rsquo; property of the original &lsquo;<samp>hd</samp>&rsquo; instance still has
the old value of &lsquo;<samp>1920</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">print(&quot;hd is still \(hd.width) pixels wide&quot;)
// Prints &quot;hd is still 1920 pixels wide&quot;
</pre></div>

<p>When &lsquo;<samp>cinema</samp>&rsquo; was given the current value of &lsquo;<samp>hd</samp>&rsquo;, the <em>values</em> stored
in &lsquo;<samp>hd</samp>&rsquo; were copied into the new &lsquo;<samp>cinema</samp>&rsquo; instance. The end result was
two completely separate instances that contained the same numeric
values. However, because they are separate instances, setting the width
of &lsquo;<samp>cinema</samp>&rsquo; to &lsquo;<samp>2048</samp>&rsquo; doesn&rsquo;t affect the width stored in &lsquo;<samp>hd</samp>&rsquo;, as shown
in the figure below:
</p>
<img src="images/sharedStateStruct_2x.png" alt="images/sharedStateStruct_2x">
<p>The same behavior applies to enumerations:
</p>
<div class="example">
<pre class="example">enum CompassPoint {
    case north, south, east, west
    mutating func turnNorth() {
        self = .north
    }
}
var currentDirection = CompassPoint.west
let rememberedDirection = currentDirection
currentDirection.turnNorth()

print(&quot;The current direction is \(currentDirection)&quot;)
print(&quot;The remembered direction is \(rememberedDirection)&quot;)
// Prints &quot;The current direction is north&quot;
// Prints &quot;The remembered direction is west&quot;
</pre></div>

<p>When &lsquo;<samp>rememberedDirection</samp>&rsquo; is assigned the value of &lsquo;<samp>currentDirection</samp>&rsquo;,
it&rsquo;s actually set to a copy of that value. Changing the value of
&lsquo;<samp>currentDirection</samp>&rsquo; thereafter doesn&rsquo;t affect the copy of the original
value that was stored in &lsquo;<samp>rememberedDirection</samp>&rsquo;.
</p>
<hr>
<span id="Classes-Are-Reference-Types"></span><div class="header">
<p>
Previous: <a href="#Structures-and-Enumerations-Are-Value-Types" accesskey="p" rel="prev">Structures and Enumerations Are Value Types</a>, Up: <a href="#Structures-and-Classes" accesskey="u" rel="up">Structures and Classes</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Classes-Are-Reference-Types-1"></span><h3 class="section">14.3 Classes Are Reference Types</h3>

<p>Unlike value types, <em>reference types</em> are <em>not</em> copied when they are
assigned to a variable or constant, or when they are passed to a
function. Rather than a copy, a reference to the same existing instance
is used.
</p>
<p>Here&rsquo;s an example, using the &lsquo;<samp>VideoMode</samp>&rsquo; class defined above:
</p>
<div class="example">
<pre class="example">let tenEighty = VideoMode()
tenEighty.resolution = hd
tenEighty.interlaced = true
tenEighty.name = &quot;1080i&quot;
tenEighty.frameRate = 25.0
</pre></div>

<p>This example declares a new constant called &lsquo;<samp>tenEighty</samp>&rsquo; and sets it to
refer to a new instance of the &lsquo;<samp>VideoMode</samp>&rsquo; class. The video mode is
assigned a copy of the HD resolution of &lsquo;<samp>1920</samp>&rsquo; by &lsquo;<samp>1080</samp>&rsquo; from before.
It&rsquo;s set to be interlaced, its name is set to &lsquo;<samp>&quot;1080i&quot;</samp>&rsquo;, and its frame
rate is set to &lsquo;<samp>25.0</samp>&rsquo; frames per second.
</p>
<p>Next, &lsquo;<samp>tenEighty</samp>&rsquo; is assigned to a new constant, called &lsquo;<samp>alsoTenEighty</samp>&rsquo;,
and the frame rate of &lsquo;<samp>alsoTenEighty</samp>&rsquo; is modified:
</p>
<div class="example">
<pre class="example">let alsoTenEighty = tenEighty
alsoTenEighty.frameRate = 30.0
</pre></div>

<p>Because classes are reference types, &lsquo;<samp>tenEighty</samp>&rsquo; and &lsquo;<samp>alsoTenEighty</samp>&rsquo;
actually both refer to the <em>same</em> &lsquo;<samp>VideoMode</samp>&rsquo; instance. Effectively,
they are just two different names for the same single instance, as shown
in the figure below:
</p>
<img src="images/sharedStateClass_2x.png" alt="images/sharedStateClass_2x">
<p>Checking the &lsquo;<samp>frameRate</samp>&rsquo; property of &lsquo;<samp>tenEighty</samp>&rsquo; shows that it correctly
reports the new frame rate of &lsquo;<samp>30.0</samp>&rsquo; from the underlying &lsquo;<samp>VideoMode</samp>&rsquo;
instance:
</p>
<div class="example">
<pre class="example">print(&quot;The frameRate property of tenEighty is now n\(tenEighty.frameRate)&quot;)
 // Prints &quot;The frameRate property of tenEighty is now 30.0&quot;
</pre></div>

<p>This example also shows how reference types can be harder to reason
about. If &lsquo;<samp>tenEighty</samp>&rsquo; and &lsquo;<samp>alsoTenEighty</samp>&rsquo; were far apart in your
program&rsquo;s code, it could be difficult to find all the ways that the
video mode is changed. Wherever you use &lsquo;<samp>tenEighty</samp>&rsquo;, you also have to
think about the code that uses &lsquo;<samp>alsoTenEighty</samp>&rsquo;, and vice versa. In
contrast, value types are easier to reason about because all of the code
that interacts with the same value is close together in your source
files.
</p>
<p>Note that &lsquo;<samp>tenEighty</samp>&rsquo; and &lsquo;<samp>alsoTenEighty</samp>&rsquo; are declared as <em>constants</em>,
rather than variables. However, you can still change
&lsquo;<samp>tenEighty.frameRate</samp>&rsquo; and &lsquo;<samp>alsoTenEighty.frameRate</samp>&rsquo; because the values
of the &lsquo;<samp>tenEighty</samp>&rsquo; and &lsquo;<samp>alsoTenEighty</samp>&rsquo; constants themselves don&rsquo;t
actually change. &lsquo;<samp>tenEighty</samp>&rsquo; and &lsquo;<samp>alsoTenEighty</samp>&rsquo; themselves don&rsquo;t
“store” the &lsquo;<samp>VideoMode</samp>&rsquo; instance&mdash;instead, they both <em>refer</em> to a
&lsquo;<samp>VideoMode</samp>&rsquo; instance behind the scenes. It&rsquo;s the &lsquo;<samp>frameRate</samp>&rsquo; property of
the underlying &lsquo;<samp>VideoMode</samp>&rsquo; that is changed, not the values of the
constant references to that &lsquo;<samp>VideoMode</samp>&rsquo;.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Identity-Operators" accesskey="1">Identity Operators</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Pointers" accesskey="2">Pointers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Identity-Operators"></span><div class="header">
<p>
Next: <a href="#Pointers" accesskey="n" rel="next">Pointers</a>, Up: <a href="#Classes-Are-Reference-Types" accesskey="u" rel="up">Classes Are Reference Types</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Identity-Operators-1"></span><h4 class="subsection">14.3.1 Identity Operators</h4>

<p>Because classes are reference types, it&rsquo;s possible for multiple
constants and variables to refer to the same single instance of a class
behind the scenes. (The same isn&rsquo;t true for structures and enumerations,
because they are always copied when they are assigned to a constant or
variable, or passed to a function.)
</p>
<p>It can sometimes be useful to find out whether two constants or
variables refer to exactly the same instance of a class. To enable this,
Swift provides two identity operators:
</p>
<ul>
<li> Identical to (&lsquo;<samp>===</samp>&rsquo;)

</li><li> Not identical to (&lsquo;<samp>!==</samp>&rsquo;)
</li></ul>

<p>Use these operators to check whether two constants or variables refer to
the same single instance:
</p>
<div class="example">
<pre class="example">if tenEighty === alsoTenEighty {
    print(&quot;tenEighty and alsoTenEighty refer to the same VideoMode instance.&quot;)
}
// Prints &quot;tenEighty and alsoTenEighty refer to the same VideoMode instance.&quot;
</pre></div>

<p>Note that <em>identical to</em> (represented by three equals signs, or &lsquo;<samp>===</samp>&rsquo;)
doesn&rsquo;t mean the same thing as <em>equal to</em> (represented by two equals
signs, or &lsquo;<samp>==</samp>&rsquo;). <em>Identical to</em> means that two constants or variables of
class type refer to exactly the same class instance. <em>Equal to</em> means
that two instances are considered equal or equivalent in value, for some
appropriate meaning of <em>equal</em>, as defined by the type&rsquo;s designer.
</p>
<p>When you define your own custom structures and classes, it&rsquo;s your
responsibility to decide what qualifies as two instances being equal.
The process of defining your own implementations of the &lsquo;<samp>==</samp>&rsquo; and &lsquo;<samp>!=</samp>&rsquo;
operators is described in <a href="#Equivalence-Operators">Equivalence Operators</a>.
</p>
<hr>
<span id="Pointers"></span><div class="header">
<p>
Previous: <a href="#Identity-Operators" accesskey="p" rel="prev">Identity Operators</a>, Up: <a href="#Classes-Are-Reference-Types" accesskey="u" rel="up">Classes Are Reference Types</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Pointers-1"></span><h4 class="subsection">14.3.2 Pointers</h4>

<p>If you have experience with C, C++, or Objective-C, you may know that
these languages use <em>pointers</em> to refer to addresses in memory. A Swift
constant or variable that refers to an instance of some reference type
is similar to a pointer in C, but isn&rsquo;t a direct pointer to an address
in memory, and doesn&rsquo;t require you to write an asterisk (&lsquo;<samp>*</samp>&rsquo;) to
indicate that you are creating a reference. Instead, these references
are defined like any other constant or variable in Swift. The standard
library provides pointer and buffer types that you can use if you need
to interact with pointers directly&mdash;see
<a href="https://developer.apple.com/documentation/swift/swift_standard_library/manual_memory_management">Manual
Memory Management</a>
[<a href="https://developer.apple.com/documentation/swift/swift_standard_library/manual_memory_management">https://developer.apple.com/documentation/swift/swift_standard_library/manual_memory_management</a>].
</p>
<hr>
<span id="Properties"></span><div class="header">
<p>
Next: <a href="#Methods" accesskey="n" rel="next">Methods</a>, Previous: <a href="#Structures-and-Classes" accesskey="p" rel="prev">Structures and Classes</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Properties-1"></span><h2 class="chapter">15 Properties</h2>

<p><em>Properties</em> associate values with a particular class, structure, or
enumeration. Stored properties store constant and variable values as
part of an instance, whereas computed properties calculate (rather than
store) a value. Computed properties are provided by classes, structures,
and enumerations. Stored properties are provided only by classes and
structures.
</p>
<p>Stored and computed properties are usually associated with instances of
a particular type. However, properties can also be associated with the
type itself. Such properties are known as type properties.
</p>
<p>In addition, you can define property observers to monitor changes in a
property&rsquo;s value, which you can respond to with custom actions. Property
observers can be added to stored properties you define yourself, and
also to properties that a subclass inherits from its superclass.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Stored-Properties" accesskey="1">Stored Properties</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Computed-Properties" accesskey="2">Computed Properties</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Property-Observers" accesskey="3">Property Observers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Global-and-Local-Variables" accesskey="4">Global and Local Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Type-Properties" accesskey="5">Type Properties</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Stored-Properties"></span><div class="header">
<p>
Next: <a href="#Computed-Properties" accesskey="n" rel="next">Computed Properties</a>, Up: <a href="#Properties" accesskey="u" rel="up">Properties</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Stored-Properties-1"></span><h3 class="section">15.1 Stored Properties</h3>

<p>In its simplest form, a stored property is a constant or variable that
is stored as part of an instance of a particular class or structure.
Stored properties can be either <em>variable stored properties</em> (introduced
by the &lsquo;<samp>var</samp>&rsquo; keyword) or <em>constant stored properties</em> (introduced by the
&lsquo;<samp>let</samp>&rsquo; keyword).
</p>
<p>You can provide a default value for a stored property as part of its
definition, as described in <a href="#Default-Property-Values">Default
Property Values</a>. You can also set and modify the initial value for a
stored property during initialization. This is true even for constant
stored properties, as described in
<a href="#Assigning-Constant-Properties-During-Initialization">Assigning Constant Properties During
Initialization</a>.
</p>
<p>The example below defines a structure called &lsquo;<samp>FixedLengthRange</samp>&rsquo;, which
describes a range of integers whose range length cannot be changed after
it is created:
</p>
<div class="example">
<pre class="example">struct FixedLengthRange {
    var firstValue: Int
    let length: Int
}
var rangeOfThreeItems = FixedLengthRange(firstValue: 0, length: 3)
// the range represents integer values 0, 1, and 2
rangeOfThreeItems.firstValue = 6
// the range now represents integer values 6, 7, and 8
</pre></div>

<p>Instances of &lsquo;<samp>FixedLengthRange</samp>&rsquo; have a variable stored property called
&lsquo;<samp>firstValue</samp>&rsquo; and a constant stored property called &lsquo;<samp>length</samp>&rsquo;. In the
example above, &lsquo;<samp>length</samp>&rsquo; is initialized when the new range is created and
cannot be changed thereafter, because it is a constant property.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Stored-Properties-of-Constant-Structure-Instances" accesskey="1">Stored Properties of Constant Structure Instances</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Lazy-Stored-Properties" accesskey="2">Lazy Stored Properties</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Stored-Properties-and-Instance-Variables" accesskey="3">Stored Properties and Instance Variables</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Stored-Properties-of-Constant-Structure-Instances"></span><div class="header">
<p>
Next: <a href="#Lazy-Stored-Properties" accesskey="n" rel="next">Lazy Stored Properties</a>, Up: <a href="#Stored-Properties" accesskey="u" rel="up">Stored Properties</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Stored-Properties-of-Constant-Structure-Instances-1"></span><h4 class="subsection">15.1.1 Stored Properties of Constant Structure Instances</h4>

<p>If you create an instance of a structure and assign that instance to a
constant, you cannot modify the instance&rsquo;s properties, even if they were
declared as variable properties:
</p>
<div class="example">
<pre class="example">let rangeOfFourItems = FixedLengthRange(firstValue: 0, length: 4)
// this range represents integer values 0, 1, 2, and 3
rangeOfFourItems.firstValue = 6
// this will report an error, even though firstValue is a variable property
</pre></div>

<p>Because &lsquo;<samp>rangeOfFourItems</samp>&rsquo; is declared as a constant (with the &lsquo;<samp>let</samp>&rsquo;
keyword), it is not possible to change its &lsquo;<samp>firstValue</samp>&rsquo; property, even
though &lsquo;<samp>firstValue</samp>&rsquo; is a variable property.
</p>
<p>This behavior is due to structures being <em>value types</em>. When an instance
of a value type is marked as a constant, so are all of its properties.
</p>
<p>The same is not true for classes, which are <em>reference types</em>. If you
assign an instance of a reference type to a constant, you can still
change that instance&rsquo;s variable properties.
</p>
<hr>
<span id="Lazy-Stored-Properties"></span><div class="header">
<p>
Next: <a href="#Stored-Properties-and-Instance-Variables" accesskey="n" rel="next">Stored Properties and Instance Variables</a>, Previous: <a href="#Stored-Properties-of-Constant-Structure-Instances" accesskey="p" rel="prev">Stored Properties of Constant Structure Instances</a>, Up: <a href="#Stored-Properties" accesskey="u" rel="up">Stored Properties</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Lazy-Stored-Properties-1"></span><h4 class="subsection">15.1.2 Lazy Stored Properties</h4>

<span id="index-lazy"></span>

<p>A <em>lazy stored property</em> is a property whose initial value is not
calculated until the first time it is used. You indicate a lazy stored
property by writing the &lsquo;<samp>lazy</samp>&rsquo; modifier before its declaration.
</p>
<p>Note
</p>
<p>You must always declare a lazy property as a variable (with the &lsquo;<samp>var</samp>&rsquo;
keyword), because its initial value might not be retrieved until after
instance initialization completes. Constant properties must always have
a value <em>before</em> initialization completes, and therefore cannot be
declared as lazy.
</p>
<p>Lazy properties are useful when the initial value for a property is
dependent on outside factors whose values are not known until after an
instance&rsquo;s initialization is complete. Lazy properties are also useful
when the initial value for a property requires complex or
computationally expensive setup that should not be performed unless or
until it is needed.
</p>
<p>The example below uses a lazy stored property to avoid unnecessary
initialization of a complex class. This example defines two classes
called &lsquo;<samp>DataImporter</samp>&rsquo; and &lsquo;<samp>DataManager</samp>&rsquo;, neither of which is shown in
full:
</p>
<div class="example">
<pre class="example">class DataImporter {
    /*
     DataImporter is a class to import data from an external file.
     The class is assumed to take a nontrivial amount of time to
     initialize.
     */
    var filename = &quot;data.txt&quot;
    // the DataImporter class would provide data importing functionality here
}

class DataManager {
    lazy var importer = DataImporter()
    var data = [String]()
    // the DataManager class would provide data management functionality here
}

let manager = DataManager()
manager.data.append(&quot;Some data&quot;)
manager.data.append(&quot;Some more data&quot;)
// the DataImporter instance for the importer property has not yet been created
</pre></div>

<p>The &lsquo;<samp>DataManager</samp>&rsquo; class has a stored property called &lsquo;<samp>data</samp>&rsquo;, which is
initialized with a new, empty array of &lsquo;<samp>String</samp>&rsquo; values. Although the
rest of its functionality is not shown, the purpose of this
&lsquo;<samp>DataManager</samp>&rsquo; class is to manage and provide access to this array of
&lsquo;<samp>String</samp>&rsquo; data.
</p>
<p>Part of the functionality of the &lsquo;<samp>DataManager</samp>&rsquo; class is the ability to
import data from a file. This functionality is provided by the
&lsquo;<samp>DataImporter</samp>&rsquo; class, which is assumed to take a nontrivial amount of
time to initialize. This might be because a &lsquo;<samp>DataImporter</samp>&rsquo; instance
needs to open a file and read its contents into memory when the
&lsquo;<samp>DataImporter</samp>&rsquo; instance is initialized.
</p>
<p>It is possible for a &lsquo;<samp>DataManager</samp>&rsquo; instance to manage its data without
ever importing data from a file, so there is no need to create a new
&lsquo;<samp>DataImporter</samp>&rsquo; instance when the &lsquo;<samp>DataManager</samp>&rsquo; itself is created.
Instead, it makes more sense to create the &lsquo;<samp>DataImporter</samp>&rsquo; instance if
and when it is first used.
</p>
<p>Because it is marked with the &lsquo;<samp>lazy</samp>&rsquo; modifier, the &lsquo;<samp>DataImporter</samp>&rsquo;
instance for the &lsquo;<samp>importer</samp>&rsquo; property is only created when the &lsquo;<samp>importer</samp>&rsquo;
property is first accessed, such as when its &lsquo;<samp>filename</samp>&rsquo; property is
queried:
</p>
<div class="example">
<pre class="example">print(manager.importer.filename)
// the DataImporter instance for the importer property has now been created
// Prints &quot;data.txt&quot;
</pre></div>

<p>Note
</p>
<p>If a property marked with the &lsquo;<samp>lazy</samp>&rsquo; modifier is accessed by multiple
threads simultaneously and the property has not yet been initialized,
there is no guarantee that the property will be initialized only once.
</p>
<hr>
<span id="Stored-Properties-and-Instance-Variables"></span><div class="header">
<p>
Previous: <a href="#Lazy-Stored-Properties" accesskey="p" rel="prev">Lazy Stored Properties</a>, Up: <a href="#Stored-Properties" accesskey="u" rel="up">Stored Properties</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Stored-Properties-and-Instance-Variables-1"></span><h4 class="subsection">15.1.3 Stored Properties and Instance Variables</h4>

<p>If you have experience with Objective-C, you may know that it provides
<em>two</em> ways to store values and references as part of a class instance.
In addition to properties, you can use instance variables as a backing
store for the values stored in a property.
</p>
<p>Swift unifies these concepts into a single property declaration. A Swift
property does not have a corresponding instance variable, and the
backing store for a property is not accessed directly. This approach
avoids confusion about how the value is accessed in different contexts
and simplifies the property&rsquo;s declaration into a single, definitive
statement. All information about the property&mdash;including its name,
type, and memory management characteristics&mdash;is defined in a single
location as part of the type&rsquo;s definition.
</p>
<hr>
<span id="Computed-Properties"></span><div class="header">
<p>
Next: <a href="#Property-Observers" accesskey="n" rel="next">Property Observers</a>, Previous: <a href="#Stored-Properties" accesskey="p" rel="prev">Stored Properties</a>, Up: <a href="#Properties" accesskey="u" rel="up">Properties</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Computed-Properties-2"></span><h3 class="section">15.2 Computed Properties</h3>

<p>In addition to stored properties, classes, structures, and enumerations
can define <em>computed properties</em>, which do not actually store a value.
Instead, they provide a getter and an optional setter to retrieve and
set other properties and values indirectly.
</p>
<div class="example">
<pre class="example">struct Point {
    var x = 0.0, y = 0.0
}
struct Size {
    var width = 0.0, height = 0.0
}
struct Rect {
    var origin = Point()
    var size = Size()
    var center: Point {
        get {
            let centerX = origin.x + (size.width / 2)
            let centerY = origin.y + (size.height / 2)
            return Point(x: centerX, y: centerY)
        }
        set(newCenter) {
            origin.x = newCenter.x - (size.width / 2)
            origin.y = newCenter.y - (size.height / 2)
        }
    }
}
var square = Rect(origin: Point(x: 0.0, y: 0.0),
                  size: Size(width: 10.0, height: 10.0))
let initialSquareCenter = square.center
square.center = Point(x: 15.0, y: 15.0)
print(&quot;square.origin is now at (\(square.origin.x), \(square.origin.y))&quot;)
// Prints &quot;square.origin is now at (10.0, 10.0)&quot;
</pre></div>

<p>This example defines three structures for working with geometric shapes:
</p>
<ul>
<li> &lsquo;<samp>Point</samp>&rsquo; encapsulates the x- and y-coordinate of a point.

</li><li> &lsquo;<samp>Size</samp>&rsquo; encapsulates a &lsquo;<samp>width</samp>&rsquo; and a &lsquo;<samp>height</samp>&rsquo;.

</li><li> &lsquo;<samp>Rect</samp>&rsquo; defines a rectangle by an origin point and a size.
</li></ul>

<p>The &lsquo;<samp>Rect</samp>&rsquo; structure also provides a computed property called &lsquo;<samp>center</samp>&rsquo;.
The current center position of a &lsquo;<samp>Rect</samp>&rsquo; can always be determined from
its &lsquo;<samp>origin</samp>&rsquo; and &lsquo;<samp>size</samp>&rsquo;, and so you don&rsquo;t need to store the center point
as an explicit &lsquo;<samp>Point</samp>&rsquo; value. Instead, &lsquo;<samp>Rect</samp>&rsquo; defines a custom getter
and setter for a computed variable called &lsquo;<samp>center</samp>&rsquo;, to enable you to
work with the rectangle&rsquo;s &lsquo;<samp>center</samp>&rsquo; as if it were a real stored property.
</p>
<p>The example above creates a new &lsquo;<samp>Rect</samp>&rsquo; variable called &lsquo;<samp>square</samp>&rsquo;. The
&lsquo;<samp>square</samp>&rsquo; variable is initialized with an origin point of &lsquo;<samp>(0, 0)</samp>&rsquo;, and a
width and height of &lsquo;<samp>10</samp>&rsquo;. This square is represented by the blue square
in the diagram below.
</p>
<p>The &lsquo;<samp>square</samp>&rsquo; variable&rsquo;s &lsquo;<samp>center</samp>&rsquo; property is then accessed through dot
syntax (&lsquo;<samp>square.center</samp>&rsquo;), which causes the getter for &lsquo;<samp>center</samp>&rsquo; to be
called, to retrieve the current property value. Rather than returning an
existing value, the getter actually calculates and returns a new &lsquo;<samp>Point</samp>&rsquo;
to represent the center of the square. As can be seen above, the getter
correctly returns a center point of &lsquo;<samp>(5, 5)</samp>&rsquo;.
</p>
<p>The &lsquo;<samp>center</samp>&rsquo; property is then set to a new value of &lsquo;<samp>(15, 15)</samp>&rsquo;, which
moves the square up and to the right, to the new position shown by the
orange square in the diagram below. Setting the &lsquo;<samp>center</samp>&rsquo; property calls
the setter for &lsquo;<samp>center</samp>&rsquo;, which modifies the &lsquo;<samp>x</samp>&rsquo; and &lsquo;<samp>y</samp>&rsquo; values of the
stored &lsquo;<samp>origin</samp>&rsquo; property, and moves the square to its new position.
</p>
<img src="images/computedProperties_2x.png" alt="images/computedProperties_2x">

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Shorthand-Setter-Declaration" accesskey="1">Shorthand Setter Declaration</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Shorthand-Getter-Declaration" accesskey="2">Shorthand Getter Declaration</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Read_002dOnly-Computed-Properties" accesskey="3">Read-Only Computed Properties</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Shorthand-Setter-Declaration"></span><div class="header">
<p>
Next: <a href="#Shorthand-Getter-Declaration" accesskey="n" rel="next">Shorthand Getter Declaration</a>, Up: <a href="#Computed-Properties" accesskey="u" rel="up">Computed Properties</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Shorthand-Setter-Declaration-1"></span><h4 class="subsection">15.2.1 Shorthand Setter Declaration</h4>

<p>If a computed property&rsquo;s setter doesn&rsquo;t define a name for the new value
to be set, a default name of &lsquo;<samp>newValue</samp>&rsquo; is used. Here&rsquo;s an alternative
version of the &lsquo;<samp>Rect</samp>&rsquo; structure that takes advantage of this shorthand
notation:
</p>
<div class="example">
<pre class="example">struct AlternativeRect {
    var origin = Point()
    var size = Size()
    var center: Point {
        get {
            let centerX = origin.x + (size.width / 2)
            let centerY = origin.y + (size.height / 2)
            return Point(x: centerX, y: centerY)
        }
        set {
            origin.x = newValue.x - (size.width / 2)
            origin.y = newValue.y - (size.height / 2)
        }
    }
}
</pre></div>

<hr>
<span id="Shorthand-Getter-Declaration"></span><div class="header">
<p>
Next: <a href="#Read_002dOnly-Computed-Properties" accesskey="n" rel="next">Read-Only Computed Properties</a>, Previous: <a href="#Shorthand-Setter-Declaration" accesskey="p" rel="prev">Shorthand Setter Declaration</a>, Up: <a href="#Computed-Properties" accesskey="u" rel="up">Computed Properties</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Shorthand-Getter-Declaration-1"></span><h4 class="subsection">15.2.2 Shorthand Getter Declaration</h4>

<p><a href="https://github.com/apple/swift-evolution/blob/master/proposals/0255-omit-return.md">Proposal</a>
</p>
<p>If the entire body of a getter is a single expression, the getter
implicitly returns that expression. Here&rsquo;s an another version of the
&lsquo;<samp>Rect</samp>&rsquo; structure that takes advantage of this shorthand notation and the
shorthand notation for setters:
</p>
<div class="example">
<pre class="example">struct CompactRect {
    var origin = Point()
    var size = Size()
    var center: Point {
        get {
            Point(x: origin.x + (size.width / 2),
                  y: origin.y + (size.height / 2))
        }
        set {
            origin.x = newValue.x - (size.width / 2)
            origin.y = newValue.y - (size.height / 2)
        }
    }
}
</pre></div>

<p>Omitting the &lsquo;<samp>return</samp>&rsquo; from a getter follows the same rules as omitting
&lsquo;<samp>return</samp>&rsquo; from a function, as described in
<a href="#Functions-With-an-Implicit-Return">Functions With an Implicit Return</a>.
</p>
<hr>
<span id="Read_002dOnly-Computed-Properties"></span><div class="header">
<p>
Previous: <a href="#Shorthand-Getter-Declaration" accesskey="p" rel="prev">Shorthand Getter Declaration</a>, Up: <a href="#Computed-Properties" accesskey="u" rel="up">Computed Properties</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Read_002dOnly-Computed-Properties-1"></span><h4 class="subsection">15.2.3 Read-Only Computed Properties</h4>

<p>A computed property with a getter but no setter is known as a <em>read-only
computed property</em>. A read-only computed property always returns a
value, and can be accessed through dot syntax, but cannot be set to a
different value.
</p>
<p>Note
</p>
<p>You must declare computed properties&mdash;including read-only computed
properties&mdash;as variable properties with the &lsquo;<samp>var</samp>&rsquo; keyword, because
their value is not fixed. The &lsquo;<samp>let</samp>&rsquo; keyword is only used for constant
properties, to indicate that their values cannot be changed once they
are set as part of instance initialization.
</p>
<p>You can simplify the declaration of a read-only computed property by
removing the &lsquo;<samp>get</samp>&rsquo; keyword and its braces:
</p>
<div class="example">
<pre class="example">struct Cuboid {
    var width = 0.0, height = 0.0, depth = 0.0
    var volume: Double {
        return width * height * depth
    }
}
let fourByFiveByTwo = Cuboid(width: 4.0, height: 5.0, depth: 2.0)
print(&quot;the volume of fourByFiveByTwo is \(fourByFiveByTwo.volume)&quot;)
// Prints &quot;the volume of fourByFiveByTwo is 40.0&quot;
</pre></div>

<p>This example defines a new structure called &lsquo;<samp>Cuboid</samp>&rsquo;, which represents a
3D rectangular box with &lsquo;<samp>width</samp>&rsquo;, &lsquo;<samp>height</samp>&rsquo;, and &lsquo;<samp>depth</samp>&rsquo; properties. This
structure also has a read-only computed property called &lsquo;<samp>volume</samp>&rsquo;, which
calculates and returns the current volume of the cuboid. It doesn&rsquo;t make
sense for &lsquo;<samp>volume</samp>&rsquo; to be settable, because it would be ambiguous as to
which values of &lsquo;<samp>width</samp>&rsquo;, &lsquo;<samp>height</samp>&rsquo;, and &lsquo;<samp>depth</samp>&rsquo; should be used for a
particular &lsquo;<samp>volume</samp>&rsquo; value. Nonetheless, it is useful for a &lsquo;<samp>Cuboid</samp>&rsquo; to
provide a read-only computed property to enable external users to
discover its current calculated volume.
</p>
<hr>
<span id="Property-Observers"></span><div class="header">
<p>
Next: <a href="#Global-and-Local-Variables" accesskey="n" rel="next">Global and Local Variables</a>, Previous: <a href="#Computed-Properties" accesskey="p" rel="prev">Computed Properties</a>, Up: <a href="#Properties" accesskey="u" rel="up">Properties</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Property-Observers-1"></span><h3 class="section">15.3 Property Observers</h3>

<p>Property observers observe and respond to changes in a property&rsquo;s value.
Property observers are called every time a property&rsquo;s value is set, even
if the new value is the same as the property&rsquo;s current value.
</p>
<p>You can add property observers to any stored properties you define,
except for lazy stored properties. You can also add property observers
to any inherited property (whether stored or computed) by overriding the
property within a subclass. You don&rsquo;t need to define property observers
for nonoverridden computed properties, because you can observe and
respond to changes to their value in the computed property&rsquo;s setter.
Property overriding is described in
<a href="#Overriding">Overriding</a>.
</p>
<p>You have the option to define either or both of these observers on a
property:
</p>
<ul>
<li> &lsquo;<samp>willSet</samp>&rsquo; is called just before the value is stored.

</li><li> &lsquo;<samp>didSet</samp>&rsquo; is called immediately after the new value is stored.
</li></ul>

<p>If you implement a &lsquo;<samp>willSet</samp>&rsquo; observer, it&rsquo;s passed the new property
value as a constant parameter. You can specify a name for this parameter
as part of your &lsquo;<samp>willSet</samp>&rsquo; implementation. If you don&rsquo;t write the
parameter name and parentheses within your implementation, the parameter
is made available with a default parameter name of &lsquo;<samp>newValue</samp>&rsquo;.
</p>
<p>Similarly, if you implement a &lsquo;<samp>didSet</samp>&rsquo; observer, it&rsquo;s passed a constant
parameter containing the old property value. You can name the parameter
or use the default parameter name of &lsquo;<samp>oldValue</samp>&rsquo;. If you assign a value
to a property within its own &lsquo;<samp>didSet</samp>&rsquo; observer, the new value that you
assign replaces the one that was just set.
</p>
<p>Note
</p>
<p>The &lsquo;<samp>willSet</samp>&rsquo; and &lsquo;<samp>didSet</samp>&rsquo; observers of superclass properties are called
when a property is set in a subclass initializer, after the superclass
initializer has been called. They are not called while a class is
setting its own properties, before the superclass initializer has been
called.
</p>
<p>For more information about initializer delegation, see
<a href="#Initializer-Delegation-for-Value-Types">Initializer Delegation for Value Types</a>
and <a href="#Initializer-Delegation-for-Class-Types">Initializer Delegation for Class
Types</a>.
</p>
<p>Here&rsquo;s an example of &lsquo;<samp>willSet</samp>&rsquo; and &lsquo;<samp>didSet</samp>&rsquo; in action. The example below
defines a new class called &lsquo;<samp>StepCounter</samp>&rsquo;, which tracks the total number
of steps that a person takes while walking. This class might be used
with input data from a pedometer or other step counter to keep track of
a person&rsquo;s exercise during their daily routine.
</p>
<div class="example">
<pre class="example">class StepCounter {
    var totalSteps: Int = 0 {
        willSet(newTotalSteps) {
            print(&quot;About to set totalSteps to \(newTotalSteps)&quot;)
        }
        didSet {
            if totalSteps &gt; oldValue {
                print(&quot;Added \(totalSteps - oldValue) steps&quot;)
            }
        }
    }
}
let stepCounter = StepCounter()
stepCounter.totalSteps = 200
// About to set totalSteps to 200
// Added 200 steps
stepCounter.totalSteps = 360
// About to set totalSteps to 360
// Added 160 steps
stepCounter.totalSteps = 896
// About to set totalSteps to 896
// Added 536 steps
</pre></div>

<span id="index-didSet"></span>
<span id="index-willSet"></span>

<p>The &lsquo;<samp>StepCounter</samp>&rsquo; class declares a &lsquo;<samp>totalSteps</samp>&rsquo; property of type &lsquo;<samp>Int</samp>&rsquo;.
This is a stored property with &lsquo;<samp>willSet</samp>&rsquo; and &lsquo;<samp>didSet</samp>&rsquo; observers.
</p>
<p>The &lsquo;<samp>willSet</samp>&rsquo; and &lsquo;<samp>didSet</samp>&rsquo; observers for &lsquo;<samp>totalSteps</samp>&rsquo; are called
whenever the property is assigned a new value. This is true even if the
new value is the same as the current value.
</p>
<p>This example&rsquo;s &lsquo;<samp>willSet</samp>&rsquo; observer uses a custom parameter name of
&lsquo;<samp>newTotalSteps</samp>&rsquo; for the upcoming new value. In this example, it simply
prints out the value that is about to be set.
</p>
<p>The &lsquo;<samp>didSet</samp>&rsquo; observer is called after the value of &lsquo;<samp>totalSteps</samp>&rsquo; is
updated. It compares the new value of &lsquo;<samp>totalSteps</samp>&rsquo; against the old
value. If the total number of steps has increased, a message is printed
to indicate how many new steps have been taken. The &lsquo;<samp>didSet</samp>&rsquo; observer
does not provide a custom parameter name for the old value, and the
default name of &lsquo;<samp>oldValue</samp>&rsquo; is used instead.
</p>
<p>Note
</p>
<p>If you pass a property that has observers to a function as an in-out
parameter, the &lsquo;<samp>willSet</samp>&rsquo; and &lsquo;<samp>didSet</samp>&rsquo; observers are always called. This
is because of the copy-in copy-out memory model for in-out parameters:
The value is always written back to the property at the end of the
function. For a detailed discussion of the behavior of in-out
parameters, see <a href="#In_002dOut-Parameters">In-Out
Parameters</a>.
</p>
<hr>
<span id="Global-and-Local-Variables"></span><div class="header">
<p>
Next: <a href="#Type-Properties" accesskey="n" rel="next">Type Properties</a>, Previous: <a href="#Property-Observers" accesskey="p" rel="prev">Property Observers</a>, Up: <a href="#Properties" accesskey="u" rel="up">Properties</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Global-and-Local-Variables-1"></span><h3 class="section">15.4 Global and Local Variables</h3>

<p>The capabilities described above for computing and observing properties
are also available to <em>global variables</em> and <em>local variables</em>. Global
variables are variables that are defined outside of any function,
method, closure, or type context. Local variables are variables that are
defined within a function, method, or closure context.
</p>
<p>The global and local variables you have encountered in previous chapters
have all been <em>stored variables</em>. Stored variables, like stored
properties, provide storage for a value of a certain type and allow that
value to be set and retrieved.
</p>
<p>However, you can also define <em>computed variables</em> and define observers
for stored variables, in either a global or local scope. Computed
variables calculate their value, rather than storing it, and they are
written in the same way as computed properties.
</p>
<p>Note
</p>
<p>Global constants and variables are always computed lazily, in a similar
manner to <a href="#Lazy-Stored-Properties">Lazy Stored Properties</a>. Unlike
lazy stored properties, global constants and variables do not need to be
marked with the &lsquo;<samp>lazy</samp>&rsquo; modifier.
</p>
<p>Local constants and variables are never computed lazily.
</p>
<hr>
<span id="Type-Properties"></span><div class="header">
<p>
Previous: <a href="#Global-and-Local-Variables" accesskey="p" rel="prev">Global and Local Variables</a>, Up: <a href="#Properties" accesskey="u" rel="up">Properties</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Type-Properties-1"></span><h3 class="section">15.5 Type Properties</h3>

<p>Instance properties are properties that belong to an instance of a
particular type. Every time you create a new instance of that type, it
has its own set of property values, separate from any other instance.
</p>
<p>You can also define properties that belong to the type itself, not to
any one instance of that type. There will only ever be one copy of these
properties, no matter how many instances of that type you create. These
kinds of properties are called <em>type properties</em>.
</p>
<p>Type properties are useful for defining values that are universal to
<em>all</em> instances of a particular type, such as a constant property that
all instances can use (like a static constant in C), or a variable
property that stores a value that is global to all instances of that
type (like a static variable in C).
</p>
<p>Stored type properties can be variables or constants. Computed type
properties are always declared as variable properties, in the same way
as computed instance properties.
</p>
<p>Note
</p>
<p>Unlike stored instance properties, you must always give stored type
properties a default value. This is because the type itself does not
have an initializer that can assign a value to a stored type property at
initialization time.
</p>
<p>Stored type properties are lazily initialized on their first access.
They are guaranteed to be initialized only once, even when accessed by
multiple threads simultaneously, and they do not need to be marked with
the &lsquo;<samp>lazy</samp>&rsquo; modifier.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Type-Property-Syntax" accesskey="1">Type Property Syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Querying-and-Setting-Type-Properties" accesskey="2">Querying and Setting Type Properties</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Type-Property-Syntax"></span><div class="header">
<p>
Next: <a href="#Querying-and-Setting-Type-Properties" accesskey="n" rel="next">Querying and Setting Type Properties</a>, Up: <a href="#Type-Properties" accesskey="u" rel="up">Type Properties</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Type-Property-Syntax-1"></span><h4 class="subsection">15.5.1 Type Property Syntax</h4>

<p>In C and Objective-C, you define static constants and variables
associated with a type as <em>global</em> static variables. In Swift, however,
type properties are written as part of the type&rsquo;s definition, within the
type&rsquo;s outer curly braces, and each type property is explicitly scoped
to the type it supports.
</p>
<span id="index-static"></span>
<span id="index-class-2"></span>

<p>You define type properties with the &lsquo;<samp>static</samp>&rsquo; keyword. For computed type
properties for class types, you can use the &lsquo;<samp>class</samp>&rsquo; keyword instead to
allow subclasses to override the superclass&rsquo;s implementation. The
example below shows the syntax for stored and computed type properties:
</p>
<div class="example">
<pre class="example">struct SomeStructure {
    static var storedTypeProperty = &quot;Some value.&quot;
    static var computedTypeProperty: Int {
        return 1
    }
}
enum SomeEnumeration {
    static var storedTypeProperty = &quot;Some value.&quot;
    static var computedTypeProperty: Int {
        return 6
    }
}
class SomeClass {
    static var storedTypeProperty = &quot;Some value.&quot;
    static var computedTypeProperty: Int {
        return 27
    }
    class var overrideableComputedTypeProperty: Int {
        return 107
    }
}
</pre></div>

<p>Note
</p>
<p>The computed type property examples above are for read-only computed
type properties, but you can also define read-write computed type
properties with the same syntax as for computed instance properties.
</p>
<hr>
<span id="Querying-and-Setting-Type-Properties"></span><div class="header">
<p>
Previous: <a href="#Type-Property-Syntax" accesskey="p" rel="prev">Type Property Syntax</a>, Up: <a href="#Type-Properties" accesskey="u" rel="up">Type Properties</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Querying-and-Setting-Type-Properties-1"></span><h4 class="subsection">15.5.2 Querying and Setting Type Properties</h4>

<p>Type properties are queried and set with dot syntax, just like instance
properties. However, type properties are queried and set on the <em>type</em>,
not on an instance of that type. For example:
</p>
<div class="example">
<pre class="example">print(SomeStructure.storedTypeProperty)
// Prints &quot;Some value.&quot;
SomeStructure.storedTypeProperty = &quot;Another value.&quot;
print(SomeStructure.storedTypeProperty)
// Prints &quot;Another value.&quot;
print(SomeEnumeration.computedTypeProperty)
// Prints &quot;6&quot;
print(SomeClass.computedTypeProperty)
// Prints &quot;27&quot;
</pre></div>

<p>The examples that follow use two stored type properties as part of a
structure that models an audio level meter for a number of audio
channels. Each channel has an integer audio level between &lsquo;<samp>0</samp>&rsquo; and &lsquo;<samp>10</samp>&rsquo;
inclusive.
</p>
<p>The figure below illustrates how two of these audio channels can be
combined to model a stereo audio level meter. When a channel&rsquo;s audio
level is &lsquo;<samp>0</samp>&rsquo;, none of the lights for that channel are lit. When the
audio level is &lsquo;<samp>10</samp>&rsquo;, all of the lights for that channel are lit. In this
figure, the left channel has a current level of &lsquo;<samp>9</samp>&rsquo;, and the right
channel has a current level of &lsquo;<samp>7</samp>&rsquo;:
</p>
<img src="images/staticPropertiesVUMeter_2x.png" alt="images/staticPropertiesVUMeter_2x">
<p>The audio channels described above are represented by instances of the
&lsquo;<samp>AudioChannel</samp>&rsquo; structure:
</p>
<div class="example">
<pre class="example">struct AudioChannel {
    static let thresholdLevel = 10
    static var maxInputLevelForAllChannels = 0
    var currentLevel: Int = 0 {
        didSet {
            if currentLevel &gt; AudioChannel.thresholdLevel {
                // cap the new audio level to the threshold level
                currentLevel = AudioChannel.thresholdLevel
            }
            if currentLevel &gt; AudioChannel.maxInputLevelForAllChannels {
                // store this as the new overall maximum input level
                AudioChannel.maxInputLevelForAllChannels = currentLevel
            }
        }
    }
}
</pre></div>

<p>The &lsquo;<samp>AudioChannel</samp>&rsquo; structure defines two stored type properties to
support its functionality. The first, &lsquo;<samp>thresholdLevel</samp>&rsquo;, defines the
maximum threshold value an audio level can take. This is a constant
value of &lsquo;<samp>10</samp>&rsquo; for all &lsquo;<samp>AudioChannel</samp>&rsquo; instances. If an audio signal comes
in with a higher value than &lsquo;<samp>10</samp>&rsquo;, it will be capped to this threshold
value (as described below).
</p>
<p>The second type property is a variable stored property called
&lsquo;<samp>maxInputLevelForAllChannels</samp>&rsquo;. This keeps track of the maximum input
value that has been received by <em>any</em> &lsquo;<samp>AudioChannel</samp>&rsquo; instance. It starts
with an initial value of &lsquo;<samp>0</samp>&rsquo;.
</p>
<p>The &lsquo;<samp>AudioChannel</samp>&rsquo; structure also defines a stored instance property
called &lsquo;<samp>currentLevel</samp>&rsquo;, which represents the channel&rsquo;s current audio
level on a scale of &lsquo;<samp>0</samp>&rsquo; to &lsquo;<samp>10</samp>&rsquo;.
</p>
<p>The &lsquo;<samp>currentLevel</samp>&rsquo; property has a &lsquo;<samp>didSet</samp>&rsquo; property observer to check
the value of &lsquo;<samp>currentLevel</samp>&rsquo; whenever it is set. This observer performs
two checks:
</p>
<ul>
<li> If the new value of &lsquo;<samp>currentLevel</samp>&rsquo; is greater than the allowed
&lsquo;<samp>thresholdLevel</samp>&rsquo;, the property observer caps &lsquo;<samp>currentLevel</samp>&rsquo; to
&lsquo;<samp>thresholdLevel</samp>&rsquo;.

</li><li> If the new value of &lsquo;<samp>currentLevel</samp>&rsquo; (after any capping) is higher than
any value previously received by <em>any</em> &lsquo;<samp>AudioChannel</samp>&rsquo; instance, the
property observer stores the new &lsquo;<samp>currentLevel</samp>&rsquo; value in the
&lsquo;<samp>maxInputLevelForAllChannels</samp>&rsquo; type property.
</li></ul>

<p>Note
</p>
<p>In the first of these two checks, the &lsquo;<samp>didSet</samp>&rsquo; observer sets
&lsquo;<samp>currentLevel</samp>&rsquo; to a different value. This does not, however, cause the
observer to be called again.
</p>
<p>You can use the &lsquo;<samp>AudioChannel</samp>&rsquo; structure to create two new audio
channels called &lsquo;<samp>leftChannel</samp>&rsquo; and &lsquo;<samp>rightChannel</samp>&rsquo;, to represent the audio
levels of a stereo sound system:
</p>
<div class="example">
<pre class="example">var leftChannel = AudioChannel()
var rightChannel = AudioChannel()
</pre></div>

<p>If you set the &lsquo;<samp>currentLevel</samp>&rsquo; of the <em>left</em> channel to &lsquo;<samp>7</samp>&rsquo;, you can see
that the &lsquo;<samp>maxInputLevelForAllChannels</samp>&rsquo; type property is updated to equal
&lsquo;<samp>7</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">leftChannel.currentLevel = 7
print(leftChannel.currentLevel)
// Prints &quot;7&quot;
print(AudioChannel.maxInputLevelForAllChannels)
// Prints &quot;7&quot;
</pre></div>

<p>If you try to set the &lsquo;<samp>currentLevel</samp>&rsquo; of the <em>right</em> channel to &lsquo;<samp>11</samp>&rsquo;, you
can see that the right channel&rsquo;s &lsquo;<samp>currentLevel</samp>&rsquo; property is capped to
the maximum value of &lsquo;<samp>10</samp>&rsquo;, and the &lsquo;<samp>maxInputLevelForAllChannels</samp>&rsquo; type
property is updated to equal &lsquo;<samp>10</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">rightChannel.currentLevel = 11
print(rightChannel.currentLevel)
// Prints &quot;10&quot;
print(AudioChannel.maxInputLevelForAllChannels)
// Prints &quot;10&quot;
</pre></div>

<hr>
<span id="Methods"></span><div class="header">
<p>
Next: <a href="#Subscripts" accesskey="n" rel="next">Subscripts</a>, Previous: <a href="#Properties" accesskey="p" rel="prev">Properties</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Methods-2"></span><h2 class="chapter">16 Methods</h2>

<p><em>Methods</em> are functions that are associated with a particular type.
Classes, structures, and enumerations can all define instance methods,
which encapsulate specific tasks and functionality for working with an
instance of a given type. Classes, structures, and enumerations can also
define type methods, which are associated with the type itself. Type
methods are similar to class methods in Objective-C.
</p>
<p>The fact that structures and enumerations can define methods in Swift is
a major difference from C and Objective-C. In Objective-C, classes are
the only types that can define methods. In Swift, you can choose whether
to define a class, structure, or enumeration, and still have the
flexibility to define methods on the type you create.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Instance-Methods" accesskey="1">Instance Methods</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Type-Methods" accesskey="2">Type Methods</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Instance-Methods"></span><div class="header">
<p>
Next: <a href="#Type-Methods" accesskey="n" rel="next">Type Methods</a>, Up: <a href="#Methods" accesskey="u" rel="up">Methods</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Instance-Methods-1"></span><h3 class="section">16.1 Instance Methods</h3>

<p><em>Instance methods</em> are functions that belong to instances of a
particular class, structure, or enumeration. They support the
functionality of those instances, either by providing ways to access and
modify instance properties, or by providing functionality related to the
instance&rsquo;s purpose. Instance methods have exactly the same syntax as
functions, as described in <a href="#Functions">Functions</a>.
</p>
<p>You write an instance method within the opening and closing braces of
the type it belongs to. An instance method has implicit access to all
other instance methods and properties of that type. An instance method
can be called only on a specific instance of the type it belongs to. It
cannot be called in isolation without an existing instance.
</p>
<p>Here&rsquo;s an example that defines a simple &lsquo;<samp>Counter</samp>&rsquo; class, which can be
used to count the number of times an action occurs:
</p>
<div class="example">
<pre class="example">class Counter {
    var count = 0
    func increment() {
        count += 1
    }
    func increment(by amount: Int) {
        count += amount
    }
    func reset() {
        count = 0
    }
}
</pre></div>

<p>The &lsquo;<samp>Counter</samp>&rsquo; class defines three instance methods:
</p>
<ul>
<li> &lsquo;<samp>increment()</samp>&rsquo; increments the counter by &lsquo;<samp>1</samp>&rsquo;.

</li><li> &lsquo;<samp>increment(by: Int)</samp>&rsquo; increments the counter by a specified integer
amount.

</li><li> &lsquo;<samp>reset()</samp>&rsquo; resets the counter to zero.
</li></ul>

<p>The &lsquo;<samp>Counter</samp>&rsquo; class also declares a variable property, &lsquo;<samp>count</samp>&rsquo;, to keep
track of the current counter value.
</p>
<p>You call instance methods with the same dot syntax as properties:
</p>
<div class="example">
<pre class="example">let counter = Counter()
// the initial counter value is 0
counter.increment()
// the counter's value is now 1
counter.increment(by: 5)
// the counter's value is now 6
counter.reset()
// the counter's value is now 0
</pre></div>

<p>Function parameters can have both a name (for use within the function&rsquo;s
body) and an argument label (for use when calling the function), as
described in <a href="#Function-Argument-Labels-and-Parameter-Names">Function Argument Labels and
Parameter Names</a>. The same is true for method parameters, because
methods are just functions that are associated with a type.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#The-self-Property" accesskey="1">The self Property</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Modifying-Value-Types-from-Within-Instance-Methods" accesskey="2">Modifying Value Types from Within Instance Methods</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Assigning-to-self-Within-a-Mutating-Method" accesskey="3">Assigning to self Within a Mutating Method</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="The-self-Property"></span><div class="header">
<p>
Next: <a href="#Modifying-Value-Types-from-Within-Instance-Methods" accesskey="n" rel="next">Modifying Value Types from Within Instance Methods</a>, Up: <a href="#Instance-Methods" accesskey="u" rel="up">Instance Methods</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="The-self-Property-1"></span><h4 class="subsection">16.1.1 The self Property</h4>

<span id="index-self"></span>

<p>Every instance of a type has an implicit property called &lsquo;<samp>self</samp>&rsquo;, which
is exactly equivalent to the instance itself. You use the &lsquo;<samp>self</samp>&rsquo;
property to refer to the current instance within its own instance
methods.
</p>
<p>The &lsquo;<samp>increment()</samp>&rsquo; method in the example above could have been written
like this:
</p>
<div class="example">
<pre class="example">func increment() {
    self.count += 1
}
</pre></div>

<p>In practice, you don&rsquo;t need to write &lsquo;<samp>self</samp>&rsquo; in your code very often. If
you don&rsquo;t explicitly write &lsquo;<samp>self</samp>&rsquo;, Swift assumes that you are referring
to a property or method of the current instance whenever you use a known
property or method name within a method. This assumption is demonstrated
by the use of &lsquo;<samp>count</samp>&rsquo; (rather than &lsquo;<samp>self.count</samp>&rsquo;) inside the three
instance methods for &lsquo;<samp>Counter</samp>&rsquo;.
</p>
<p>The main exception to this rule occurs when a parameter name for an
instance method has the same name as a property of that instance. In
this situation, the parameter name takes precedence, and it becomes
necessary to refer to the property in a more qualified way. You use the
&lsquo;<samp>self</samp>&rsquo; property to distinguish between the parameter name and the
property name.
</p>
<p>Here, &lsquo;<samp>self</samp>&rsquo; disambiguates between a method parameter called &lsquo;<samp>x</samp>&rsquo; and an
instance property that is also called &lsquo;<samp>x</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">struct Point {
    var x = 0.0, y = 0.0
    func isToTheRightOf(x: Double) -&gt; Bool {
        return self.x &gt; x
    }
}
let somePoint = Point(x: 4.0, y: 5.0)
if somePoint.isToTheRightOf(x: 1.0) {
    print(&quot;This point is to the right of the line where x == 1.0&quot;)
}
// Prints &quot;This point is to the right of the line where x == 1.0&quot;
</pre></div>

<p>Without the &lsquo;<samp>self</samp>&rsquo; prefix, Swift would assume that both uses of &lsquo;<samp>x</samp>&rsquo;
referred to the method parameter called &lsquo;<samp>x</samp>&rsquo;.
</p>
<hr>
<span id="Modifying-Value-Types-from-Within-Instance-Methods"></span><div class="header">
<p>
Next: <a href="#Assigning-to-self-Within-a-Mutating-Method" accesskey="n" rel="next">Assigning to self Within a Mutating Method</a>, Previous: <a href="#The-self-Property" accesskey="p" rel="prev">The self Property</a>, Up: <a href="#Instance-Methods" accesskey="u" rel="up">Instance Methods</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Modifying-Value-Types-from-Within-Instance-Methods-1"></span><h4 class="subsection">16.1.2 Modifying Value Types from Within Instance Methods</h4>

<p>Structures and enumerations are <em>value types</em>. By default, the
properties of a value type cannot be modified from within its instance
methods.
</p>
<p>However, if you need to modify the properties of your structure or
enumeration within a particular method, you can opt in to <em>mutating</em>
behavior for that method. The method can then mutate (that is, change)
its properties from within the method, and any changes that it makes are
written back to the original structure when the method ends. The method
can also assign a completely new instance to its implicit &lsquo;<samp>self</samp>&rsquo;
property, and this new instance will replace the existing one when the
method ends.
</p>
<p>You can opt in to this behavior by placing the &lsquo;<samp>mutating</samp>&rsquo; keyword before
the &lsquo;<samp>func</samp>&rsquo; keyword for that method:
</p>
<div class="example">
<pre class="example">struct Point {
    var x = 0.0, y = 0.0
    mutating func moveBy(x deltaX: Double, y deltaY: Double) {
        x += deltaX
        y += deltaY
    }
}
var somePoint = Point(x: 1.0, y: 1.0)
somePoint.moveBy(x: 2.0, y: 3.0)
print(&quot;The point is now at (\(somePoint.x), \(somePoint.y))&quot;)
// Prints &quot;The point is now at (3.0, 4.0)&quot;
</pre></div>

<p>The &lsquo;<samp>Point</samp>&rsquo; structure above defines a mutating &lsquo;<samp>moveBy(x:y:)</samp>&rsquo; method,
which moves a &lsquo;<samp>Point</samp>&rsquo; instance by a certain amount. Instead of returning
a new point, this method actually modifies the point on which it is
called. The &lsquo;<samp>mutating</samp>&rsquo; keyword is added to its definition to enable it
to modify its properties.
</p>
<p>Note that you cannot call a mutating method on a constant of structure
type, because its properties cannot be changed, even if they are
variable properties, as described in <a href="#Stored-Properties-of-Constant-Structure-Instances">Stored Properties of Constant Structure Instances</a>.
</p>
<div class="example">
<pre class="example">let fixedPoint = Point(x: 3.0, y: 3.0)
fixedPoint.moveBy(x: 2.0, y: 3.0)
// this will report an error
</pre></div>

<hr>
<span id="Assigning-to-self-Within-a-Mutating-Method"></span><div class="header">
<p>
Previous: <a href="#Modifying-Value-Types-from-Within-Instance-Methods" accesskey="p" rel="prev">Modifying Value Types from Within Instance Methods</a>, Up: <a href="#Instance-Methods" accesskey="u" rel="up">Instance Methods</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Assigning-to-self-Within-a-Mutating-Method-1"></span><h4 class="subsection">16.1.3 Assigning to self Within a Mutating Method</h4>

<p>Mutating methods can assign an entirely new instance to the implicit
&lsquo;<samp>self</samp>&rsquo; property. The &lsquo;<samp>Point</samp>&rsquo; example shown above could have been written
in the following way instead:
</p>
<div class="example">
<pre class="example">struct Point {
    var x = 0.0, y = 0.0
    mutating func moveBy(x deltaX: Double, y deltaY: Double) {
        self = Point(x: x + deltaX, y: y + deltaY)
    }
}
</pre></div>

<p>This version of the mutating &lsquo;<samp>moveBy(x:y:)</samp>&rsquo; method creates a new
structure whose &lsquo;<samp>x</samp>&rsquo; and &lsquo;<samp>y</samp>&rsquo; values are set to the target location. The
end result of calling this alternative version of the method will be
exactly the same as for calling the earlier version.
</p>
<p>Mutating methods for enumerations can set the implicit &lsquo;<samp>self</samp>&rsquo; parameter
to be a different case from the same enumeration:
</p>
<div class="example">
<pre class="example">enum TriStateSwitch {
    case off, low, high
    mutating func next() {
        switch self {
        case .off:
            self = .low
        case .low:
            self = .high
        case .high:
            self = .off
        }
    }
}
var ovenLight = TriStateSwitch.low
ovenLight.next()
// ovenLight is now equal to .high
ovenLight.next()
// ovenLight is now equal to .off
</pre></div>

<p>This example defines an enumeration for a three-state switch. The switch
cycles between three different power states (&lsquo;<samp>off</samp>&rsquo;, &lsquo;<samp>low</samp>&rsquo; and &lsquo;<samp>high</samp>&rsquo;)
every time its &lsquo;<samp>next()</samp>&rsquo; method is called.
</p>
<hr>
<span id="Type-Methods"></span><div class="header">
<p>
Previous: <a href="#Instance-Methods" accesskey="p" rel="prev">Instance Methods</a>, Up: <a href="#Methods" accesskey="u" rel="up">Methods</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Type-Methods-1"></span><h3 class="section">16.2 Type Methods</h3>

<p>Instance methods, as described above, are methods that you call on an
instance of a particular type. You can also define methods that are
called on the type itself. These kinds of methods are called <em>type
methods</em>. You indicate type methods by writing the &lsquo;<samp>static</samp>&rsquo; keyword
before the method&rsquo;s &lsquo;<samp>func</samp>&rsquo; keyword. Classes can use the &lsquo;<samp>class</samp>&rsquo; keyword
instead, to allow subclasses to override the superclass&rsquo;s implementation
of that method.
</p>
<p>Note
</p>
<p>In Objective-C, you can define type-level methods only for Objective-C
classes. In Swift, you can define type-level methods for all classes,
structures, and enumerations. Each type method is explicitly scoped to
the type it supports.
</p>
<p>Type methods are called with dot syntax, like instance methods. However,
you call type methods on the type, not on an instance of that type.
Here&rsquo;s how you call a type method on a class called &lsquo;<samp>SomeClass</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">class SomeClass {
    class func someTypeMethod() {
        // type method implementation goes here
    }
}
SomeClass.someTypeMethod()
</pre></div>

<p>Within the body of a type method, the implicit &lsquo;<samp>self</samp>&rsquo; property refers to
the type itself, rather than an instance of that type. This means that
you can use &lsquo;<samp>self</samp>&rsquo; to disambiguate between type properties and type
method parameters, just as you do for instance properties and instance
method parameters.
</p>
<p>More generally, any unqualified method and property names that you use
within the body of a type method will refer to other type-level methods
and properties. A type method can call another type method with the
other method&rsquo;s name, without needing to prefix it with the type name.
Similarly, type methods on structures and enumerations can access type
properties by using the type property&rsquo;s name without a type name prefix.
</p>
<p>The example below defines a structure called &lsquo;<samp>LevelTracker</samp>&rsquo;, which
tracks a player&rsquo;s progress through the different levels or stages of a
game. It is a single-player game, but can store information for multiple
players on a single device.
</p>
<p>All of the game&rsquo;s levels (apart from level one) are locked when the game
is first played. Every time a player finishes a level, that level is
unlocked for all players on the device. The &lsquo;<samp>LevelTracker</samp>&rsquo; structure
uses type properties and methods to keep track of which levels of the
game have been unlocked. It also tracks the current level for an
individual player.
</p>
<div class="example">
<pre class="example">struct LevelTracker {
    static var highestUnlockedLevel = 1
    var currentLevel = 1

    static func unlock(_ level: Int) {
        if level &gt; highestUnlockedLevel { highestUnlockedLevel = level }
    }

    static func isUnlocked(_ level: Int) -&gt; Bool {
        return level &lt;= highestUnlockedLevel
    }

    @discardableResult
    mutating func advance(to level: Int) -&gt; Bool {
        if LevelTracker.isUnlocked(level) {
            currentLevel = level
            return true
        } else {
            return false
        }
    }
}
</pre></div>

<p>The &lsquo;<samp>LevelTracker</samp>&rsquo; structure keeps track of the highest level that any
player has unlocked. This value is stored in a type property called
&lsquo;<samp>highestUnlockedLevel</samp>&rsquo;.
</p>
<p>&lsquo;<samp>LevelTracker</samp>&rsquo; also defines two type functions to work with the
&lsquo;<samp>highestUnlockedLevel</samp>&rsquo; property. The first is a type function called
&lsquo;<samp>unlock(_:)</samp>&rsquo;, which updates the value of &lsquo;<samp>highestUnlockedLevel</samp>&rsquo; whenever
a new level is unlocked. The second is a convenience type function
called &lsquo;<samp>isUnlocked(_:)</samp>&rsquo;, which returns &lsquo;<samp>true</samp>&rsquo; if a particular level
number is already unlocked. (Note that these type methods can access the
&lsquo;<samp>highestUnlockedLevel</samp>&rsquo; type property without your needing to write it as
&lsquo;<samp>LevelTracker.highestUnlockedLevel</samp>&rsquo;.)
</p>
<p>In addition to its type property and type methods, &lsquo;<samp>LevelTracker</samp>&rsquo; tracks
an individual player&rsquo;s progress through the game. It uses an instance
property called &lsquo;<samp>currentLevel</samp>&rsquo; to track the level that a player is
currently playing.
</p>
<p>To help manage the &lsquo;<samp>currentLevel</samp>&rsquo; property, &lsquo;<samp>LevelTracker</samp>&rsquo; defines an
instance method called &lsquo;<samp>advance(to:)</samp>&rsquo;. Before updating &lsquo;<samp>currentLevel</samp>&rsquo;,
this method checks whether the requested new level is already unlocked.
The &lsquo;<samp>advance(to:)</samp>&rsquo; method returns a Boolean value to indicate whether or
not it was actually able to set &lsquo;<samp>currentLevel</samp>&rsquo;. Because it&rsquo;s not
necessarily a mistake for code that calls the &lsquo;<samp>advance(to:)</samp>&rsquo; method to
ignore the return value, this function is marked with the
&lsquo;<samp>@discardableResult</samp>&rsquo; attribute. For more information about this
attribute, see Attributes.
</p>
<p>The &lsquo;<samp>LevelTracker</samp>&rsquo; structure is used with the &lsquo;<samp>Player</samp>&rsquo; class, shown
below, to track and update the progress of an individual player:
</p>
<div class="example">
<pre class="example">class Player {
    var tracker = LevelTracker()
    let playerName: String
    func complete(level: Int) {
        LevelTracker.unlock(level + 1)
        tracker.advance(to: level + 1)
    }
    init(name: String) {
        playerName = name
    }
}
</pre></div>

<p>The &lsquo;<samp>Player</samp>&rsquo; class creates a new instance of &lsquo;<samp>LevelTracker</samp>&rsquo; to track
that player&rsquo;s progress. It also provides a method called
&lsquo;<samp>complete(level:)</samp>&rsquo;, which is called whenever a player completes a
particular level. This method unlocks the next level for all players and
updates the player&rsquo;s progress to move them to the next level. (The
Boolean return value of &lsquo;<samp>advance(to:)</samp>&rsquo; is ignored, because the level is
known to have been unlocked by the call to &lsquo;<samp>LevelTracker.unlock(_:)</samp>&rsquo; on
the previous line.)
</p>
<p>You can create an instance of the &lsquo;<samp>Player</samp>&rsquo; class for a new player, and
see what happens when the player completes level one:
</p>
<div class="example">
<pre class="example">var player = Player(name: &quot;Argyrios&quot;)
player.complete(level: 1)
print(&quot;highest unlocked level is now \(LevelTracker.highestUnlockedLevel)&quot;)
// Prints &quot;highest unlocked level is now 2&quot;
</pre></div>

<p>If you create a second player, whom you try to move to a level that is
not yet unlocked by any player in the game, the attempt to set the
player&rsquo;s current level fails:
</p>
<div class="example">
<pre class="example">player = Player(name: &quot;Beto&quot;)
if player.tracker.advance(to: 6) {
    print(&quot;player is now on level 6&quot;)
} else {
    print(&quot;level 6 has not yet been unlocked&quot;)
}
// Prints &quot;level 6 has not yet been unlocked&quot;
</pre></div>

<hr>
<span id="Subscripts"></span><div class="header">
<p>
Next: <a href="#Inheritance" accesskey="n" rel="next">Inheritance</a>, Previous: <a href="#Methods" accesskey="p" rel="prev">Methods</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Subscripts-2"></span><h2 class="chapter">17 Subscripts</h2>

<span id="index-subscript"></span>

<p>Classes, structures, and enumerations can define <em>subscripts</em>, which are
shortcuts for accessing the member elements of a collection, list, or
sequence. You use subscripts to set and retrieve values by index without
needing separate methods for setting and retrieval. For example, you
access elements in an &lsquo;<samp>Array</samp>&rsquo; instance as &lsquo;<samp>someArray[index]</samp>&rsquo; and
elements in a &lsquo;<samp>Dictionary</samp>&rsquo; instance as &lsquo;<samp>someDictionary[key]</samp>&rsquo;.
</p>
<p>You can define multiple subscripts for a single type, and the
appropriate subscript overload to use is selected based on the type of
index value you pass to the subscript. Subscripts are not limited to a
single dimension, and you can define subscripts with multiple input
parameters to suit your custom type&rsquo;s needs.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Subscript-Syntax" accesskey="1">Subscript Syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Subscript-Usage" accesskey="2">Subscript Usage</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Subscript-Options" accesskey="3">Subscript Options</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Type-Subscripts" accesskey="4">Type Subscripts</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Subscript-Syntax"></span><div class="header">
<p>
Next: <a href="#Subscript-Usage" accesskey="n" rel="next">Subscript Usage</a>, Up: <a href="#Subscripts" accesskey="u" rel="up">Subscripts</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Subscript-Syntax-1"></span><h3 class="section">17.1 Subscript Syntax</h3>

<p>Subscripts enable you to query instances of a type by writing one or
more values in square brackets after the instance name. Their syntax is
similar to both instance method syntax and computed property syntax. You
write subscript definitions with the &lsquo;<samp>subscript</samp>&rsquo; keyword, and specify
one or more input parameters and a return type, in the same way as
instance methods. Unlike instance methods, subscripts can be read-write
or read-only. This behavior is communicated by a getter and setter in
the same way as for computed properties:
</p>
<div class="example">
<pre class="example">subscript(index: Int) -&gt; Int {
    get {
        // Return an appropriate subscript value here.
    }
    set(newValue) {
        // Perform a suitable setting action here.
    }
}
</pre></div>

<p>The type of &lsquo;<samp>newValue</samp>&rsquo; is the same as the return value of the subscript.
As with computed properties, you can choose not to specify the setter&rsquo;s
&lsquo;<samp>(newValue)</samp>&rsquo; parameter. A default parameter called &lsquo;<samp>newValue</samp>&rsquo; is
provided to your setter if you do not provide one yourself.
</p>
<p>As with read-only computed properties, you can simplify the declaration
of a read-only subscript by removing the &lsquo;<samp>get</samp>&rsquo; keyword and its braces:
</p>
<div class="example">
<pre class="example">subscript(index: Int) -&gt; Int {
    // Return an appropriate subscript value here.
}
</pre></div>

<p>Here&rsquo;s an example of a read-only subscript implementation, which defines
a &lsquo;<samp>TimesTable</samp>&rsquo; structure to represent an <em>n</em>-times-table of integers:
</p>
<div class="example">
<pre class="example">struct TimesTable {
    let multiplier: Int
    subscript(index: Int) -&gt; Int {
        return multiplier * index
    }
}
let threeTimesTable = TimesTable(multiplier: 3)
print(&quot;six times three is \(threeTimesTable[6])&quot;)
// Prints &quot;six times three is 18&quot;
</pre></div>

<p>In this example, a new instance of &lsquo;<samp>TimesTable</samp>&rsquo; is created to represent
the three-times-table. This is indicated by passing a value of &lsquo;<samp>3</samp>&rsquo; to
the structure&rsquo;s &lsquo;<samp>initializer</samp>&rsquo; as the value to use for the instance&rsquo;s
&lsquo;<samp>multiplier</samp>&rsquo; parameter.
</p>
<p>You can query the &lsquo;<samp>threeTimesTable</samp>&rsquo; instance by calling its subscript,
as shown in the call to &lsquo;<samp>threeTimesTable[6]</samp>&rsquo;. This requests the sixth
entry in the three-times-table, which returns a value of &lsquo;<samp>18</samp>&rsquo;, or &lsquo;<samp>3</samp>&rsquo;
times &lsquo;<samp>6</samp>&rsquo;.
</p>
<p>Note
</p>
<p>An <em>n</em>-times-table is based on a fixed mathematical rule. It is not
appropriate to set &lsquo;<samp>threeTimesTable[someIndex]</samp>&rsquo; to a new value, and so
the subscript for &lsquo;<samp>TimesTable</samp>&rsquo; is defined as a read-only subscript.
</p>
<hr>
<span id="Subscript-Usage"></span><div class="header">
<p>
Next: <a href="#Subscript-Options" accesskey="n" rel="next">Subscript Options</a>, Previous: <a href="#Subscript-Syntax" accesskey="p" rel="prev">Subscript Syntax</a>, Up: <a href="#Subscripts" accesskey="u" rel="up">Subscripts</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Subscript-Usage-1"></span><h3 class="section">17.2 Subscript Usage</h3>

<p>The exact meaning of “subscript” depends on the context in which it is
used. Subscripts are typically used as a shortcut for accessing the
member elements in a collection, list, or sequence. You are free to
implement subscripts in the most appropriate way for your particular
class or structure&rsquo;s functionality.
</p>
<p>For example, Swift&rsquo;s &lsquo;<samp>Dictionary</samp>&rsquo; type implements a subscript to set and
retrieve the values stored in a &lsquo;<samp>Dictionary</samp>&rsquo; instance. You can set a
value in a dictionary by providing a key of the dictionary&rsquo;s key type
within subscript brackets, and assigning a value of the dictionary&rsquo;s
value type to the subscript:
</p>
<div class="example">
<pre class="example">var numberOfLegs = [&quot;spider&quot;: 8, &quot;ant&quot;: 6, &quot;cat&quot;: 4]
numberOfLegs[&quot;bird&quot;] = 2
</pre></div>

<p>The example above defines a variable called &lsquo;<samp>numberOfLegs</samp>&rsquo; and
initializes it with a dictionary literal containing three key-value
pairs. The type of the &lsquo;<samp>numberOfLegs</samp>&rsquo; dictionary is inferred to be
&lsquo;<samp>[String: Int]</samp>&rsquo;. After creating the dictionary, this example uses
subscript assignment to add a &lsquo;<samp>String</samp>&rsquo; key of &lsquo;<samp>&quot;bird&quot;</samp>&rsquo; and an &lsquo;<samp>Int</samp>&rsquo;
value of &lsquo;<samp>2</samp>&rsquo; to the dictionary.
</p>
<p>For more information about &lsquo;<samp>Dictionary</samp>&rsquo; subscripting, see
<a href="#Accessing-and-Modifying-a-Dictionary">Accessing and Modifying a Dictionary</a>.
</p>
<p>Note
</p>
<p>Swift&rsquo;s &lsquo;<samp>Dictionary</samp>&rsquo; type implements its key-value subscripting as a
subscript that takes and returns an <em>optional</em> type. For the
&lsquo;<samp>numberOfLegs</samp>&rsquo; dictionary above, the key-value subscript takes and
returns a value of type &lsquo;<samp>Int?</samp>&rsquo;, or “optional int”. The &lsquo;<samp>Dictionary</samp>&rsquo; type
uses an optional subscript type to model the fact that not every key
will have a value, and to give a way to delete a value for a key by
assigning a &lsquo;<samp>nil</samp>&rsquo; value for that key.
</p>
<hr>
<span id="Subscript-Options"></span><div class="header">
<p>
Next: <a href="#Type-Subscripts" accesskey="n" rel="next">Type Subscripts</a>, Previous: <a href="#Subscript-Usage" accesskey="p" rel="prev">Subscript Usage</a>, Up: <a href="#Subscripts" accesskey="u" rel="up">Subscripts</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Subscript-Options-1"></span><h3 class="section">17.3 Subscript Options</h3>

<p>Subscripts can take any number of input parameters, and these input
parameters can be of any type. Subscripts can also return any type.
Subscripts can use variadic parameters and provide default parameter
values, but they can&rsquo;t use in-out parameters.
</p>
<p>A class or structure can provide as many subscript implementations as it
needs, and the appropriate subscript to be used will be inferred based
on the types of the value or values that are contained within the
subscript brackets at the point that the subscript is used. This
definition of multiple subscripts is known as <em>subscript overloading</em>.
</p>
<p>While it is most common for a subscript to take a single parameter, you
can also define a subscript with multiple parameters if it is
appropriate for your type. The following example defines a &lsquo;<samp>Matrix</samp>&rsquo;
structure, which represents a two-dimensional matrix of &lsquo;<samp>Double</samp>&rsquo; values.
The &lsquo;<samp>Matrix</samp>&rsquo; structure&rsquo;s subscript takes two integer parameters:
</p>
<div class="example">
<pre class="example">struct Matrix {
    let rows: Int, columns: Int
    var grid: [Double]
    init(rows: Int, columns: Int) {
        self.rows = rows
        self.columns = columns
        grid = Array(repeating: 0.0, count: rows * columns)
    }
    func indexIsValid(row: Int, column: Int) -&gt; Bool {
        return row &gt;= 0 &amp;&amp; row &lt; rows &amp;&amp; column &gt;= 0 &amp;&amp; column &lt; columns
    }
    subscript(row: Int, column: Int) -&gt; Double {
        get {
            assert(indexIsValid(row: row, column: column), &quot;Index out of range&quot;)
            return grid[(row * columns) + column]
        }
        set {
            assert(indexIsValid(row: row, column: column), &quot;Index out of range&quot;)
            grid[(row * columns) + column] = newValue
        }
    }
}
</pre></div>

<p>&lsquo;<samp>Matrix</samp>&rsquo; provides an initializer that takes two parameters called &lsquo;<samp>rows</samp>&rsquo;
and &lsquo;<samp>columns</samp>&rsquo;, and creates an array that is large enough to store
&lsquo;<samp>rows * columns</samp>&rsquo; values of type &lsquo;<samp>Double</samp>&rsquo;. Each position in the matrix is
given an initial value of &lsquo;<samp>0.0</samp>&rsquo;. To achieve this, the array&rsquo;s size, and
an initial cell value of &lsquo;<samp>0.0</samp>&rsquo;, are passed to an array initializer that
creates and initializes a new array of the correct size. This
initializer is described in more detail in
<a href="#Creating-an-Array-with-a-Default-Value">Creating an Array with a Default
Value</a>.
</p>
<p>You can construct a new &lsquo;<samp>Matrix</samp>&rsquo; instance by passing an appropriate row
and column count to its initializer:
</p>
<div class="example">
<pre class="example">var matrix = Matrix(rows: 2, columns: 2)
</pre></div>

<p>The example above creates a new &lsquo;<samp>Matrix</samp>&rsquo; instance with two rows and two
columns. The &lsquo;<samp>grid</samp>&rsquo; array for this &lsquo;<samp>Matrix</samp>&rsquo; instance is effectively a
flattened version of the matrix, as read from top left to bottom right:
</p>
<img src="images/subscriptMatrix01_2x.png" alt="images/subscriptMatrix01_2x">
<p>Values in the matrix can be set by passing row and column values into
the subscript, separated by a comma:
</p>
<div class="example">
<pre class="example">matrix[0, 1] = 1.5
matrix[1, 0] = 3.2
</pre></div>

<p>These two statements call the subscript&rsquo;s setter to set a value of &lsquo;<samp>1.5</samp>&rsquo;
in the top right position of the matrix (where &lsquo;<samp>row</samp>&rsquo; is &lsquo;<samp>0</samp>&rsquo; and &lsquo;<samp>column</samp>&rsquo;
is &lsquo;<samp>1</samp>&rsquo;), and &lsquo;<samp>3.2</samp>&rsquo; in the bottom left position (where &lsquo;<samp>row</samp>&rsquo; is &lsquo;<samp>1</samp>&rsquo; and
&lsquo;<samp>column</samp>&rsquo; is &lsquo;<samp>0</samp>&rsquo;):
</p>
<img src="images/subscriptMatrix02_2x.png" alt="images/subscriptMatrix02_2x">
<p>The &lsquo;<samp>Matrix</samp>&rsquo; subscript&rsquo;s getter and setter both contain an assertion to
check that the subscript&rsquo;s &lsquo;<samp>row</samp>&rsquo; and &lsquo;<samp>column</samp>&rsquo; values are valid. To
assist with these assertions, &lsquo;<samp>Matrix</samp>&rsquo; includes a convenience method
called &lsquo;<samp>indexIsValid(row:column:)</samp>&rsquo;, which checks whether the requested
&lsquo;<samp>row</samp>&rsquo; and &lsquo;<samp>column</samp>&rsquo; are inside the bounds of the matrix:
</p>
<div class="example">
<pre class="example">func indexIsValid(row: Int, column: Int) -&gt; Bool {
    return row &gt;= 0 &amp;&amp; row &lt; rows &amp;&amp; column &gt;= 0 &amp;&amp; column &lt; columns
}
</pre></div>

<p>An assertion is triggered if you try to access a subscript that is
outside of the matrix bounds:
</p>
<div class="example">
<pre class="example">let someValue = matrix[2, 2]
// This triggers an assert, because [2, 2] is outside of the matrix bounds.
</pre></div>

<hr>
<span id="Type-Subscripts"></span><div class="header">
<p>
Previous: <a href="#Subscript-Options" accesskey="p" rel="prev">Subscript Options</a>, Up: <a href="#Subscripts" accesskey="u" rel="up">Subscripts</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Type-Subscripts-1"></span><h3 class="section">17.4 Type Subscripts</h3>

<p><a href="https://github.com/apple/swift-evolution/blob/master/proposals/0254-static-subscripts.md">Proposal</a>
</p>
<p>Instance subscripts, as described above, are subscripts that you call on
an instance of a particular type. You can also define subscripts that
are called on the type itself. This kind of subscript is called a <em>type
subscript</em>. You indicate a type subscript by writing the &lsquo;<samp>static</samp>&rsquo;
keyword before the &lsquo;<samp>subscript</samp>&rsquo; keyword. Classes can use the &lsquo;<samp>class</samp>&rsquo;
keyword instead, to allow subclasses to override the superclass&rsquo;s
implementation of that subscript. The example below shows how you define
and call a type subscript:
</p>
<div class="example">
<pre class="example">enum Planet: Int {
    case mercury = 1, venus, earth, mars, jupiter, saturn, uranus, neptune
    static subscript(n: Int) -&gt; Planet {
        return Planet(rawValue: n)!
    }
}
let mars = Planet[4]
print(mars)
</pre></div>

<hr>
<span id="Inheritance"></span><div class="header">
<p>
Next: <a href="#Initialization" accesskey="n" rel="next">Initialization</a>, Previous: <a href="#Subscripts" accesskey="p" rel="prev">Subscripts</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Inheritance-1"></span><h2 class="chapter">18 Inheritance</h2>

<p>A class can <em>inherit</em> methods, properties, and other characteristics
from another class. When one class inherits from another, the inheriting
class is known as a <em>subclass</em>, and the class it inherits from is known
as its <em>superclass</em>. Inheritance is a fundamental behavior that
differentiates classes from other types in Swift.
</p>
<p>Classes in Swift can call and access methods, properties, and subscripts
belonging to their superclass and can provide their own overriding
versions of those methods, properties, and subscripts to refine or
modify their behavior. Swift helps to ensure your overrides are correct
by checking that the override definition has a matching superclass
definition.
</p>
<p>Classes can also add property observers to inherited properties in order
to be notified when the value of a property changes. Property observers
can be added to any property, regardless of whether it was originally
defined as a stored or computed property.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Defining-a-Base-Class" accesskey="1">Defining a Base Class</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Subclassing" accesskey="2">Subclassing</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Overriding" accesskey="3">Overriding</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Preventing-Overrides" accesskey="4">Preventing Overrides</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Defining-a-Base-Class"></span><div class="header">
<p>
Next: <a href="#Subclassing" accesskey="n" rel="next">Subclassing</a>, Up: <a href="#Inheritance" accesskey="u" rel="up">Inheritance</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Defining-a-Base-Class-1"></span><h3 class="section">18.1 Defining a Base Class</h3>

<p>Any class that does not inherit from another class is known as a <em>base
class</em>.
</p>
<p>Note
</p>
<p>Swift classes do not inherit from a universal base class. Classes you
define without specifying a superclass automatically become base classes
for you to build upon.
</p>
<p>The example below defines a base class called &lsquo;<samp>Vehicle</samp>&rsquo;. This base class
defines a stored property called &lsquo;<samp>currentSpeed</samp>&rsquo;, with a default value of
&lsquo;<samp>0.0</samp>&rsquo; (inferring a property type of &lsquo;<samp>Double</samp>&rsquo;). The &lsquo;<samp>currentSpeed</samp>&rsquo;
property&rsquo;s value is used by a read-only computed &lsquo;<samp>String</samp>&rsquo; property
called &lsquo;<samp>description</samp>&rsquo; to create a description of the vehicle.
</p>
<p>The &lsquo;<samp>Vehicle</samp>&rsquo; base class also defines a method called &lsquo;<samp>makeNoise</samp>&rsquo;. This
method does not actually do anything for a base &lsquo;<samp>Vehicle</samp>&rsquo; instance, but
will be customized by subclasses of &lsquo;<samp>Vehicle</samp>&rsquo; later on:
</p>
<div class="example">
<pre class="example">class Vehicle {
    var currentSpeed = 0.0
    var description: String {
        return &quot;traveling at \(currentSpeed) miles per hour&quot;
    }
    func makeNoise() {
        // do nothing - an arbitrary vehicle doesn't necessarily make a noise
    }
}
</pre></div>

<p>You create a new instance of &lsquo;<samp>Vehicle</samp>&rsquo; with <em>initializer syntax</em>, which
is written as a type name followed by empty parentheses:
</p>
<div class="example">
<pre class="example">let someVehicle = Vehicle()
</pre></div>

<p>Having created a new &lsquo;<samp>Vehicle</samp>&rsquo; instance, you can access its
&lsquo;<samp>description</samp>&rsquo; property to print a human-readable description of the
vehicle&rsquo;s current speed:
</p>
<div class="example">
<pre class="example">print(&quot;Vehicle: \(someVehicle.description)&quot;)
// Vehicle: traveling at 0.0 miles per hour
</pre></div>

<p>The &lsquo;<samp>Vehicle</samp>&rsquo; class defines common characteristics for an arbitrary
vehicle, but is not much use in itself. To make it more useful, you need
to refine it to describe more specific kinds of vehicles.
</p>
<hr>
<span id="Subclassing"></span><div class="header">
<p>
Next: <a href="#Overriding" accesskey="n" rel="next">Overriding</a>, Previous: <a href="#Defining-a-Base-Class" accesskey="p" rel="prev">Defining a Base Class</a>, Up: <a href="#Inheritance" accesskey="u" rel="up">Inheritance</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Subclassing-2"></span><h3 class="section">18.2 Subclassing</h3>

<p><em>Subclassing</em> is the act of basing a new class on an existing class. The
subclass inherits characteristics from the existing class, which you can
then refine. You can also add new characteristics to the subclass.
</p>
<p>To indicate that a subclass has a superclass, write the subclass name
before the superclass name, separated by a colon:
</p>
<div class="example">
<pre class="example">class SomeSubclass: SomeSuperclass {
    // subclass definition goes here
}
</pre></div>

<p>The following example defines a subclass called &lsquo;<samp>Bicycle</samp>&rsquo;, with a
superclass of &lsquo;<samp>Vehicle</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">class Bicycle: Vehicle {
    var hasBasket = false
}
</pre></div>

<p>The new &lsquo;<samp>Bicycle</samp>&rsquo; class automatically gains all of the characteristics
of &lsquo;<samp>Vehicle</samp>&rsquo;, such as its &lsquo;<samp>currentSpeed</samp>&rsquo; and &lsquo;<samp>description</samp>&rsquo; properties
and its &lsquo;<samp>makeNoise()</samp>&rsquo; method.
</p>
<p>In addition to the characteristics it inherits, the &lsquo;<samp>Bicycle</samp>&rsquo; class
defines a new stored property, &lsquo;<samp>hasBasket</samp>&rsquo;, with a default value of
&lsquo;<samp>false</samp>&rsquo; (inferring a type of &lsquo;<samp>Bool</samp>&rsquo; for the property).
</p>
<p>By default, any new &lsquo;<samp>Bicycle</samp>&rsquo; instance you create will not have a
basket. You can set the &lsquo;<samp>hasBasket</samp>&rsquo; property to &lsquo;<samp>true</samp>&rsquo; for a particular
&lsquo;<samp>Bicycle</samp>&rsquo; instance after that instance is created:
</p>
<div class="example">
<pre class="example">let bicycle = Bicycle()
bicycle.hasBasket = true
</pre></div>

<p>You can also modify the inherited &lsquo;<samp>currentSpeed</samp>&rsquo; property of a &lsquo;<samp>Bicycle</samp>&rsquo;
instance, and query the instance&rsquo;s inherited &lsquo;<samp>description</samp>&rsquo; property:
</p>
<div class="example">
<pre class="example">bicycle.currentSpeed = 15.0
print(&quot;Bicycle: \(bicycle.description)&quot;)
// Bicycle: traveling at 15.0 miles per hour
</pre></div>

<p>Subclasses can themselves be subclassed. The next example creates a
subclass of &lsquo;<samp>Bicycle</samp>&rsquo; for a two-seater bicycle known as a “tandem”:
</p>
<div class="example">
<pre class="example">class Tandem: Bicycle {
    var currentNumberOfPassengers = 0
}
</pre></div>

<p>&lsquo;<samp>Tandem</samp>&rsquo; inherits all of the properties and methods from &lsquo;<samp>Bicycle</samp>&rsquo;,
which in turn inherits all of the properties and methods from &lsquo;<samp>Vehicle</samp>&rsquo;.
The &lsquo;<samp>Tandem</samp>&rsquo; subclass also adds a new stored property called
&lsquo;<samp>currentNumberOfPassengers</samp>&rsquo;, with a default value of &lsquo;<samp>0</samp>&rsquo;.
</p>
<p>If you create an instance of &lsquo;<samp>Tandem</samp>&rsquo;, you can work with any of its new
and inherited properties, and query the read-only &lsquo;<samp>description</samp>&rsquo; property
it inherits from &lsquo;<samp>Vehicle</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">let tandem = Tandem()
tandem.hasBasket = true
tandem.currentNumberOfPassengers = 2
tandem.currentSpeed = 22.0
print(&quot;Tandem: \(tandem.description)&quot;)
// Tandem: traveling at 22.0 miles per hour
</pre></div>

<hr>
<span id="Overriding"></span><div class="header">
<p>
Next: <a href="#Preventing-Overrides" accesskey="n" rel="next">Preventing Overrides</a>, Previous: <a href="#Subclassing" accesskey="p" rel="prev">Subclassing</a>, Up: <a href="#Inheritance" accesskey="u" rel="up">Inheritance</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Overriding-1"></span><h3 class="section">18.3 Overriding</h3>

<p>A subclass can provide its own custom implementation of an instance
method, type method, instance property, type property, or subscript that
it would otherwise inherit from a superclass. This is known as
<em>overriding</em>.
</p>
<span id="index-override"></span>
<p>To override a characteristic that would otherwise be inherited, you
prefix your overriding definition with the &lsquo;<samp>override</samp>&rsquo; keyword. Doing so
clarifies that you intend to provide an override and have not provided a
matching definition by mistake. Overriding by accident can cause
unexpected behavior, and any overrides without the &lsquo;<samp>override</samp>&rsquo; keyword
are diagnosed as an error when your code is compiled.
</p>
<p>The &lsquo;<samp>override</samp>&rsquo; keyword also prompts the Swift compiler to check that
your overriding class&rsquo;s superclass (or one of its parents) has a
declaration that matches the one you provided for the override. This
check ensures that your overriding definition is correct.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Accessing-Superclass-Methods-Properties-and-Subscripts" accesskey="1">Accessing Superclass Methods, Properties, and Subscripts</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Overriding-Methods" accesskey="2">Overriding Methods</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Overriding-Properties" accesskey="3">Overriding Properties</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Accessing-Superclass-Methods-Properties-and-Subscripts"></span><div class="header">
<p>
Next: <a href="#Overriding-Methods" accesskey="n" rel="next">Overriding Methods</a>, Up: <a href="#Overriding" accesskey="u" rel="up">Overriding</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Accessing-Superclass-Methods_002c-Properties_002c-and-Subscripts"></span><h4 class="subsection">18.3.1 Accessing Superclass Methods, Properties, and Subscripts</h4>

<p>When you provide a method, property, or subscript override for a
subclass, it is sometimes useful to use the existing superclass
implementation as part of your override. For example, you can refine the
behavior of that existing implementation, or store a modified value in
an existing inherited variable.
</p>
<span id="index-super"></span>

<p>Where this is appropriate, you access the superclass version of a
method, property, or subscript by using the &lsquo;<samp>super</samp>&rsquo; prefix:
</p>
<ul>
<li> An overridden method named &lsquo;<samp>someMethod()</samp>&rsquo; can call the superclass
version of &lsquo;<samp>someMethod()</samp>&rsquo; by calling &lsquo;<samp>super.someMethod()</samp>&rsquo; within the
overriding method implementation.

</li><li> An overridden property called &lsquo;<samp>someProperty</samp>&rsquo; can access the superclass
version of &lsquo;<samp>someProperty</samp>&rsquo; as &lsquo;<samp>super.someProperty</samp>&rsquo; within the
overriding getter or setter implementation.

</li><li> An overridden subscript for &lsquo;<samp>someIndex</samp>&rsquo; can access the superclass
version of the same subscript as &lsquo;<samp>super[someIndex]</samp>&rsquo; from within the
overriding subscript implementation.
</li></ul>

<hr>
<span id="Overriding-Methods"></span><div class="header">
<p>
Next: <a href="#Overriding-Properties" accesskey="n" rel="next">Overriding Properties</a>, Previous: <a href="#Accessing-Superclass-Methods-Properties-and-Subscripts" accesskey="p" rel="prev">Accessing Superclass Methods Properties and Subscripts</a>, Up: <a href="#Overriding" accesskey="u" rel="up">Overriding</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Overriding-Methods-1"></span><h4 class="subsection">18.3.2 Overriding Methods</h4>

<p>You can override an inherited instance or type method to provide a
tailored or alternative implementation of the method within your
subclass.
</p>
<p>The following example defines a new subclass of &lsquo;<samp>Vehicle</samp>&rsquo; called
&lsquo;<samp>Train</samp>&rsquo;, which overrides the &lsquo;<samp>makeNoise()</samp>&rsquo; method that &lsquo;<samp>Train</samp>&rsquo; inherits
from &lsquo;<samp>Vehicle</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">class Train: Vehicle {
    override func makeNoise() {
        print(&quot;Choo Choo&quot;)
    }
}
</pre></div>

<p>If you create a new instance of &lsquo;<samp>Train</samp>&rsquo; and call its &lsquo;<samp>makeNoise()</samp>&rsquo;
method, you can see that the &lsquo;<samp>Train</samp>&rsquo; subclass version of the method is
called:
</p>
<div class="example">
<pre class="example">let train = Train()
train.makeNoise()
// Prints &quot;Choo Choo&quot;
</pre></div>

<hr>
<span id="Overriding-Properties"></span><div class="header">
<p>
Previous: <a href="#Overriding-Methods" accesskey="p" rel="prev">Overriding Methods</a>, Up: <a href="#Overriding" accesskey="u" rel="up">Overriding</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Overriding-Properties-1"></span><h4 class="subsection">18.3.3 Overriding Properties</h4>

<p>You can override an inherited instance or type property to provide your
own custom getter and setter for that property, or to add property
observers to enable the overriding property to observe when the
underlying property value changes.
</p>
<ol>
<li> Overriding Property Getters and Setters


<p>You can provide a custom getter (and setter, if appropriate) to override
<em>any</em> inherited property, regardless of whether the inherited property
is implemented as a stored or computed property at source. The stored or
computed nature of an inherited property is not known by a subclass&mdash;it
only knows that the inherited property has a certain name and type. You
must always state both the name and the type of the property you are
overriding, to enable the compiler to check that your override matches a
superclass property with the same name and type.
</p>
<p>You can present an inherited read-only property as a read-write property
by providing both a getter and a setter in your subclass property
override. You cannot, however, present an inherited read-write property
as a read-only property.
</p>
<p>Note
</p>
<p>If you provide a setter as part of a property override, you must also
provide a getter for that override. If you don&rsquo;t want to modify the
inherited property&rsquo;s value within the overriding getter, you can simply
pass through the inherited value by returning &lsquo;<samp>super.someProperty</samp>&rsquo; from
the getter, where &lsquo;<samp>someProperty</samp>&rsquo; is the name of the property you are
overriding.
</p>
<p>The following example defines a new class called &lsquo;<samp>Car</samp>&rsquo;, which is a
subclass of &lsquo;<samp>Vehicle</samp>&rsquo;. The &lsquo;<samp>Car</samp>&rsquo; class introduces a new stored property
called &lsquo;<samp>gear</samp>&rsquo;, with a default integer value of &lsquo;<samp>1</samp>&rsquo;. The &lsquo;<samp>Car</samp>&rsquo; class also
overrides the &lsquo;<samp>description</samp>&rsquo; property it inherits from &lsquo;<samp>Vehicle</samp>&rsquo;, to
provide a custom description that includes the current gear:
</p>
<div class="example">
<pre class="example">class Car: Vehicle {
    var gear = 1
    override var description: String {
        return super.description + &quot; in gear \(gear)&quot;
    }
}
</pre></div>

<p>The override of the &lsquo;<samp>description</samp>&rsquo; property starts by calling
&lsquo;<samp>super.description</samp>&rsquo;, which returns the &lsquo;<samp>Vehicle</samp>&rsquo; class&rsquo;s &lsquo;<samp>description</samp>&rsquo;
property. The &lsquo;<samp>Car</samp>&rsquo; class&rsquo;s version of &lsquo;<samp>description</samp>&rsquo; then adds some
extra text onto the end of this description to provide information about
the current gear.
</p>
<p>If you create an instance of the &lsquo;<samp>Car</samp>&rsquo; class and set its &lsquo;<samp>gear</samp>&rsquo; and
&lsquo;<samp>currentSpeed</samp>&rsquo; properties, you can see that its &lsquo;<samp>description</samp>&rsquo; property
returns the tailored description defined within the &lsquo;<samp>Car</samp>&rsquo; class:
</p>
<div class="example">
<pre class="example">let car = Car()
car.currentSpeed = 25.0
car.gear = 3
print(&quot;Car: \(car.description)&quot;)
// Car: traveling at 25.0 miles per hour in gear 3
</pre></div>

</li><li> Overriding Property Observers


<p>You can use property overriding to add property observers to an
inherited property. This enables you to be notified when the value of an
inherited property changes, regardless of how that property was
originally implemented. For more information on property observers, see
<a href="#Property-Observers">Property Observers</a>.
</p>
<p>Note
</p>
<p>You cannot add property observers to inherited constant stored
properties or inherited read-only computed properties. The value of
these properties cannot be set, and so it is not appropriate to provide
a &lsquo;<samp>willSet</samp>&rsquo; or &lsquo;<samp>didSet</samp>&rsquo; implementation as part of an override.
</p>
<p>Note also that you cannot provide both an overriding setter and an
overriding property observer for the same property. If you want to
observe changes to a property&rsquo;s value, and you are already providing a
custom setter for that property, you can simply observe any value
changes from within the custom setter.
</p>
<p>The following example defines a new class called &lsquo;<samp>AutomaticCar</samp>&rsquo;, which
is a subclass of &lsquo;<samp>Car</samp>&rsquo;. The &lsquo;<samp>AutomaticCar</samp>&rsquo; class represents a car with
an automatic gearbox, which automatically selects an appropriate gear to
use based on the current speed:
</p>
<div class="example">
<pre class="example">class AutomaticCar: Car {
    override var currentSpeed: Double {
        didSet {
            gear = Int(currentSpeed / 10.0) + 1
        }
    }
}
</pre></div>

<p>Whenever you set the &lsquo;<samp>currentSpeed</samp>&rsquo; property of an &lsquo;<samp>AutomaticCar</samp>&rsquo;
instance, the property&rsquo;s &lsquo;<samp>didSet</samp>&rsquo; observer sets the instance&rsquo;s &lsquo;<samp>gear</samp>&rsquo;
property to an appropriate choice of gear for the new speed.
Specifically, the property observer chooses a gear that is the new
&lsquo;<samp>currentSpeed</samp>&rsquo; value divided by &lsquo;<samp>10</samp>&rsquo;, rounded down to the nearest
integer, plus &lsquo;<samp>1</samp>&rsquo;. A speed of &lsquo;<samp>35.0</samp>&rsquo; produces a gear of &lsquo;<samp>4</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">let automatic = AutomaticCar()
automatic.currentSpeed = 35.0
print(&quot;AutomaticCar: \(automatic.description)&quot;)
// AutomaticCar: traveling at 35.0 miles per hour in gear 4
</pre></div>
</li></ol>

<hr>
<span id="Preventing-Overrides"></span><div class="header">
<p>
Previous: <a href="#Overriding" accesskey="p" rel="prev">Overriding</a>, Up: <a href="#Inheritance" accesskey="u" rel="up">Inheritance</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Preventing-Overrides-1"></span><h3 class="section">18.4 Preventing Overrides</h3>

<span id="index-final"></span>

<p>You can prevent a method, property, or subscript from being overridden
by marking it as <em>final</em>. Do this by writing the &lsquo;<samp>final</samp>&rsquo; modifier before
the method, property, or subscript&rsquo;s introducer keyword (such as
&lsquo;<samp>final var</samp>&rsquo;, &lsquo;<samp>final func</samp>&rsquo;, &lsquo;<samp>final class func</samp>&rsquo;, and &lsquo;<samp>final subscript</samp>&rsquo;).
</p>
<p>Any attempt to override a final method, property, or subscript in a
subclass is reported as a compile-time error. Methods, properties, or
subscripts that you add to a class in an extension can also be marked as
final within the extension&rsquo;s definition.
</p>
<p>You can mark an entire class as final by writing the &lsquo;<samp>final</samp>&rsquo; modifier
before the &lsquo;<samp>class</samp>&rsquo; keyword in its class definition (&lsquo;<samp>final class</samp>&rsquo;). Any
attempt to subclass a final class is reported as a compile-time error.
</p>
<hr>
<span id="Initialization"></span><div class="header">
<p>
Next: <a href="#Deinitialization" accesskey="n" rel="next">Deinitialization</a>, Previous: <a href="#Inheritance" accesskey="p" rel="prev">Inheritance</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Initialization-1"></span><h2 class="chapter">19 Initialization</h2>

<p><em>Initialization</em> is the process of preparing an instance of a class,
structure, or enumeration for use. This process involves setting an
initial value for each stored property on that instance and performing
any other setup or initialization that is required before the new
instance is ready for use.
</p>
<p>You implement this initialization process by defining <em>initializers</em>,
which are like special methods that can be called to create a new
instance of a particular type. Unlike Objective-C initializers, Swift
initializers do not return a value. Their primary role is to ensure that
new instances of a type are correctly initialized before they are used
for the first time.
</p>
<p>Instances of class types can also implement a <em>deinitializer</em>, which
performs any custom cleanup just before an instance of that class is
deallocated. For more information about deinitializers, see
<a href="#Deinitialization">Deinitialization</a>.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Setting-Initial-Values-for-Stored-Properties" accesskey="1">Setting Initial Values for Stored Properties</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Customizing-Initialization" accesskey="2">Customizing Initialization</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Default-Initializers" accesskey="3">Default Initializers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Initializer-Delegation-for-Value-Types" accesskey="4">Initializer Delegation for Value Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Class-Inheritance-and-Initialization" accesskey="5">Class Inheritance and Initialization</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Failable-Initializers" accesskey="6">Failable Initializers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Required-Initializers" accesskey="7">Required Initializers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Setting-a-Default-Property-Value-with-a-Closure-or-Function" accesskey="8">Setting a Default Property Value with a Closure or Function</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Setting-Initial-Values-for-Stored-Properties"></span><div class="header">
<p>
Next: <a href="#Customizing-Initialization" accesskey="n" rel="next">Customizing Initialization</a>, Up: <a href="#Initialization" accesskey="u" rel="up">Initialization</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Setting-Initial-Values-for-Stored-Properties-1"></span><h3 class="section">19.1 Setting Initial Values for Stored Properties</h3>

<p>Classes and structures <em>must</em> set all of their stored properties to an
appropriate initial value by the time an instance of that class or
structure is created. Stored properties cannot be left in an
indeterminate state.
</p>
<p>You can set an initial value for a stored property within an
initializer, or by assigning a default property value as part of the
property&rsquo;s definition. These actions are described in the following
sections.
</p>
<p>Note
</p>
<p>When you assign a default value to a stored property, or set its initial
value within an initializer, the value of that property is set directly,
without calling any property observers.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Initializers" accesskey="1">Initializers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Default-Property-Values" accesskey="2">Default Property Values</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Initializers"></span><div class="header">
<p>
Next: <a href="#Default-Property-Values" accesskey="n" rel="next">Default Property Values</a>, Up: <a href="#Setting-Initial-Values-for-Stored-Properties" accesskey="u" rel="up">Setting Initial Values for Stored Properties</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Initializers-3"></span><h4 class="subsection">19.1.1 Initializers</h4>

<span id="index-init"></span>
<p><em>Initializers</em> are called to create a new instance of a particular type.
In its simplest form, an initializer is like an instance method with no
parameters, written using the &lsquo;<samp>init</samp>&rsquo; keyword:
</p>
<div class="example">
<pre class="example">init() {
    // perform some initialization here
}
</pre></div>

<p>The example below defines a new structure called &lsquo;<samp>Fahrenheit</samp>&rsquo; to store
temperatures expressed in the Fahrenheit scale. The &lsquo;<samp>Fahrenheit</samp>&rsquo;
structure has one stored property, &lsquo;<samp>temperature</samp>&rsquo;, which is of type
&lsquo;<samp>Double</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">struct Fahrenheit {
    var temperature: Double
    init() {
        temperature = 32.0
    }
}
var f = Fahrenheit()
print(&quot;The default temperature is \(f.temperature)° Fahrenheit&quot;)
// Prints &quot;The default temperature is 32.0° Fahrenheit&quot;
</pre></div>

<p>The structure defines a single initializer, &lsquo;<samp>init</samp>&rsquo;, with no parameters,
which initializes the stored temperature with a value of &lsquo;<samp>32.0</samp>&rsquo; (the
freezing point of water in degrees Fahrenheit).
</p>
<hr>
<span id="Default-Property-Values"></span><div class="header">
<p>
Previous: <a href="#Initializers" accesskey="p" rel="prev">Initializers</a>, Up: <a href="#Setting-Initial-Values-for-Stored-Properties" accesskey="u" rel="up">Setting Initial Values for Stored Properties</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Default-Property-Values-1"></span><h4 class="subsection">19.1.2 Default Property Values</h4>

<p>You can set the initial value of a stored property from within an
initializer, as shown above. Alternatively, specify a <em>default property
value</em> as part of the property&rsquo;s declaration. You specify a default
property value by assigning an initial value to the property when it is
defined.
</p>
<p>Note
</p>
<p>If a property always takes the same initial value, provide a default
value rather than setting a value within an initializer. The end result
is the same, but the default value ties the property&rsquo;s initialization
more closely to its declaration. It makes for shorter, clearer
initializers and enables you to infer the type of the property from its
default value. The default value also makes it easier for you to take
advantage of default initializers and initializer inheritance, as
described later in this chapter.
</p>
<p>You can write the &lsquo;<samp>Fahrenheit</samp>&rsquo; structure from above in a simpler form by
providing a default value for its &lsquo;<samp>temperature</samp>&rsquo; property at the point
that the property is declared:
</p>
<div class="example">
<pre class="example">struct Fahrenheit {
    var temperature = 32.0
}
</pre></div>

<hr>
<span id="Customizing-Initialization"></span><div class="header">
<p>
Next: <a href="#Default-Initializers" accesskey="n" rel="next">Default Initializers</a>, Previous: <a href="#Setting-Initial-Values-for-Stored-Properties" accesskey="p" rel="prev">Setting Initial Values for Stored Properties</a>, Up: <a href="#Initialization" accesskey="u" rel="up">Initialization</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Customizing-Initialization-1"></span><h3 class="section">19.2 Customizing Initialization</h3>

<p>You can customize the initialization process with input parameters and
optional property types, or by assigning constant properties during
initialization, as described in the following sections.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Initialization-Parameters" accesskey="1">Initialization Parameters</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Parameter-Names-and-Argument-Labels" accesskey="2">Parameter Names and Argument Labels</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Initializer-Parameters-Without-Argument-Labels" accesskey="3">Initializer Parameters Without Argument Labels</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Optional-Property-Types" accesskey="4">Optional Property Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Assigning-Constant-Properties-During-Initialization" accesskey="5">Assigning Constant Properties During Initialization</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Initialization-Parameters"></span><div class="header">
<p>
Next: <a href="#Parameter-Names-and-Argument-Labels" accesskey="n" rel="next">Parameter Names and Argument Labels</a>, Up: <a href="#Customizing-Initialization" accesskey="u" rel="up">Customizing Initialization</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Initialization-Parameters-1"></span><h4 class="subsection">19.2.1 Initialization Parameters</h4>

<p>You can provide <em>initialization parameters</em> as part of an initializer&rsquo;s
definition, to define the types and names of values that customize the
initialization process. Initialization parameters have the same
capabilities and syntax as function and method parameters.
</p>
<p>The following example defines a structure called &lsquo;<samp>Celsius</samp>&rsquo;, which stores
temperatures expressed in degrees Celsius. The &lsquo;<samp>Celsius</samp>&rsquo; structure
implements two custom initializers called &lsquo;<samp>init(fromFahrenheit:)</samp>&rsquo; and
&lsquo;<samp>init(fromKelvin:)</samp>&rsquo;, which initialize a new instance of the structure
with a value from a different temperature scale:
</p>
<div class="example">
<pre class="example">struct Celsius {
    var temperatureInCelsius: Double
    init(fromFahrenheit fahrenheit: Double) {
        temperatureInCelsius = (fahrenheit - 32.0) / 1.8
    }
    init(fromKelvin kelvin: Double) {
        temperatureInCelsius = kelvin - 273.15
    }
}
let boilingPointOfWater = Celsius(fromFahrenheit: 212.0)
// boilingPointOfWater.temperatureInCelsius is 100.0
let freezingPointOfWater = Celsius(fromKelvin: 273.15)
// freezingPointOfWater.temperatureInCelsius is 0.0
</pre></div>

<p>The first initializer has a single initialization parameter with an
argument label of &lsquo;<samp>fromFahrenheit</samp>&rsquo; and a parameter name of &lsquo;<samp>fahrenheit</samp>&rsquo;.
The second initializer has a single initialization parameter with an
argument label of &lsquo;<samp>fromKelvin</samp>&rsquo; and a parameter name of &lsquo;<samp>kelvin</samp>&rsquo;. Both
initializers convert their single argument into the corresponding
Celsius value and store this value in a property called
&lsquo;<samp>temperatureInCelsius</samp>&rsquo;.
</p>
<hr>
<span id="Parameter-Names-and-Argument-Labels"></span><div class="header">
<p>
Next: <a href="#Initializer-Parameters-Without-Argument-Labels" accesskey="n" rel="next">Initializer Parameters Without Argument Labels</a>, Previous: <a href="#Initialization-Parameters" accesskey="p" rel="prev">Initialization Parameters</a>, Up: <a href="#Customizing-Initialization" accesskey="u" rel="up">Customizing Initialization</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Parameter-Names-and-Argument-Labels-1"></span><h4 class="subsection">19.2.2 Parameter Names and Argument Labels</h4>

<p>As with function and method parameters, initialization parameters can
have both a parameter name for use within the initializer&rsquo;s body and an
argument label for use when calling the initializer.
</p>
<p>However, initializers do not have an identifying function name before
their parentheses in the way that functions and methods do. Therefore,
the names and types of an initializer&rsquo;s parameters play a particularly
important role in identifying which initializer should be called.
Because of this, Swift provides an automatic argument label for <em>every</em>
parameter in an initializer if you don&rsquo;t provide one.
</p>
<p>The following example defines a structure called &lsquo;<samp>Color</samp>&rsquo;, with three
constant properties called &lsquo;<samp>red</samp>&rsquo;, &lsquo;<samp>green</samp>&rsquo;, and &lsquo;<samp>blue</samp>&rsquo;. These properties
store a value between &lsquo;<samp>0.0</samp>&rsquo; and &lsquo;<samp>1.0</samp>&rsquo; to indicate the amount of red,
green, and blue in the color.
</p>
<p>&lsquo;<samp>Color</samp>&rsquo; provides an initializer with three appropriately named
parameters of type &lsquo;<samp>Double</samp>&rsquo; for its red, green, and blue components.
&lsquo;<samp>Color</samp>&rsquo; also provides a second initializer with a single &lsquo;<samp>white</samp>&rsquo;
parameter, which is used to provide the same value for all three color
components.
</p>
<div class="example">
<pre class="example">struct Color {
    let red, green, blue: Double
    init(red: Double, green: Double, blue: Double) {
        self.red = red
        self.green = green
        self.blue = blue
    }
    init(white: Double) {
        red = white
        green = white
        blue = white
    }
}
</pre></div>

<p>Both initializers can be used to create a new &lsquo;<samp>Color</samp>&rsquo; instance, by
providing named values for each initializer parameter:
</p>
<div class="example">
<pre class="example">let magenta = Color(red: 1.0, green: 0.0, blue: 1.0)
let halfGray = Color(white: 0.5)
</pre></div>

<p>Note that it is not possible to call these initializers without using
argument labels. Argument labels must always be used in an initializer
if they are defined, and omitting them is a compile-time error:
</p>
<div class="example">
<pre class="example">let veryGreen = Color(0.0, 1.0, 0.0)
// this reports a compile-time error - argument labels are required
</pre></div>

<hr>
<span id="Initializer-Parameters-Without-Argument-Labels"></span><div class="header">
<p>
Next: <a href="#Optional-Property-Types" accesskey="n" rel="next">Optional Property Types</a>, Previous: <a href="#Parameter-Names-and-Argument-Labels" accesskey="p" rel="prev">Parameter Names and Argument Labels</a>, Up: <a href="#Customizing-Initialization" accesskey="u" rel="up">Customizing Initialization</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Initializer-Parameters-Without-Argument-Labels-1"></span><h4 class="subsection">19.2.3 Initializer Parameters Without Argument Labels</h4>

<p>If you do not want to use an argument label for an initializer
parameter, write an underscore (&lsquo;<samp>_</samp>&rsquo;) instead of an explicit argument
label for that parameter to override the default behavior.
</p>
<p>Here&rsquo;s an expanded version of the &lsquo;<samp>Celsius</samp>&rsquo; example from
<a href="#Initialization-Parameters">Initialization Parameters</a> above, with
an additional initializer to create a new &lsquo;<samp>Celsius</samp>&rsquo; instance from a
&lsquo;<samp>Double</samp>&rsquo; value that is already in the Celsius scale:
</p>
<div class="example">
<pre class="example">struct Celsius {
    var temperatureInCelsius: Double
    init(fromFahrenheit fahrenheit: Double) {
        temperatureInCelsius = (fahrenheit - 32.0) / 1.8
    }
    init(fromKelvin kelvin: Double) {
        temperatureInCelsius = kelvin - 273.15
    }
    init(_ celsius: Double) {
        temperatureInCelsius = celsius
    }
}
let bodyTemperature = Celsius(37.0)
// bodyTemperature.temperatureInCelsius is 37.0
</pre></div>

<p>The initializer call &lsquo;<samp>Celsius(37.0)</samp>&rsquo; is clear in its intent without the
need for an argument label. It is therefore appropriate to write this
initializer as &lsquo;<samp>init(_ celsius: Double)</samp>&rsquo; so that it can be called by
providing an unnamed &lsquo;<samp>Double</samp>&rsquo; value.
</p>
<hr>
<span id="Optional-Property-Types"></span><div class="header">
<p>
Next: <a href="#Assigning-Constant-Properties-During-Initialization" accesskey="n" rel="next">Assigning Constant Properties During Initialization</a>, Previous: <a href="#Initializer-Parameters-Without-Argument-Labels" accesskey="p" rel="prev">Initializer Parameters Without Argument Labels</a>, Up: <a href="#Customizing-Initialization" accesskey="u" rel="up">Customizing Initialization</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Optional-Property-Types-1"></span><h4 class="subsection">19.2.4 Optional Property Types</h4>

<p>If your custom type has a stored property that is logically allowed to
have “no value”&mdash;perhaps because its value cannot be set during
initialization, or because it is allowed to have “no value” at some
later point&mdash;declare the property with an <em>optional</em> type. Properties
of optional type are automatically initialized with a value of &lsquo;<samp>nil</samp>&rsquo;,
indicating that the property is deliberately intended to have “no value
yet” during initialization.
</p>
<p>The following example defines a class called &lsquo;<samp>SurveyQuestion</samp>&rsquo;, with an
optional &lsquo;<samp>String</samp>&rsquo; property called &lsquo;<samp>response</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">class SurveyQuestion {
    var text: String
    var response: String?
    init(text: String) {
        self.text = text
    }
    func ask() {
        print(text)
    }
}
let cheeseQuestion = SurveyQuestion(text: &quot;Do you like cheese?&quot;)
cheeseQuestion.ask()
// Prints &quot;Do you like cheese?&quot;
cheeseQuestion.response = &quot;Yes, I do like cheese.&quot;
</pre></div>

<p>The response to a survey question cannot be known until it is asked, and
so the &lsquo;<samp>response</samp>&rsquo; property is declared with a type of &lsquo;<samp>String?</samp>&rsquo;, or
“optional &lsquo;<samp>String=”. It is automatically assigned a default value of
=nil</samp>&rsquo;, meaning “no string yet”, when a new instance of &lsquo;<samp>SurveyQuestion</samp>&rsquo;
is initialized.
</p>
<hr>
<span id="Assigning-Constant-Properties-During-Initialization"></span><div class="header">
<p>
Previous: <a href="#Optional-Property-Types" accesskey="p" rel="prev">Optional Property Types</a>, Up: <a href="#Customizing-Initialization" accesskey="u" rel="up">Customizing Initialization</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Assigning-Constant-Properties-During-Initialization-1"></span><h4 class="subsection">19.2.5 Assigning Constant Properties During Initialization</h4>

<p>You can assign a value to a constant property at any point during
initialization, as long as it is set to a definite value by the time
initialization finishes. Once a constant property is assigned a value,
it can&rsquo;t be further modified.
</p>
<p>Note
</p>
<p>For class instances, a constant property can be modified during
initialization only by the class that introduces it. It cannot be
modified by a subclass.
</p>
<p>You can revise the &lsquo;<samp>SurveyQuestion</samp>&rsquo; example from above to use a constant
property rather than a variable property for the &lsquo;<samp>text</samp>&rsquo; property of the
question, to indicate that the question does not change once an instance
of &lsquo;<samp>SurveyQuestion</samp>&rsquo; is created. Even though the &lsquo;<samp>text</samp>&rsquo; property is now a
constant, it can still be set within the class&rsquo;s initializer:
</p>
<div class="example">
<pre class="example">class SurveyQuestion {
    let text: String
    var response: String?
    init(text: String) {
        self.text = text
    }
    func ask() {
        print(text)
    }
}
let beetsQuestion = SurveyQuestion(text: &quot;How about beets?&quot;)
beetsQuestion.ask()
// Prints &quot;How about beets?&quot;
beetsQuestion.response = &quot;I also like beets. (But not with cheese.)&quot;
</pre></div>

<hr>
<span id="Default-Initializers"></span><div class="header">
<p>
Next: <a href="#Initializer-Delegation-for-Value-Types" accesskey="n" rel="next">Initializer Delegation for Value Types</a>, Previous: <a href="#Customizing-Initialization" accesskey="p" rel="prev">Customizing Initialization</a>, Up: <a href="#Initialization" accesskey="u" rel="up">Initialization</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Default-Initializers-2"></span><h3 class="section">19.3 Default Initializers</h3>

<p>Swift provides a <em>default initializer</em> for any structure or class that
provides default values for all of its properties and does not provide
at least one initializer itself. The default initializer simply creates
a new instance with all of its properties set to their default values.
</p>
<p>This example defines a class called &lsquo;<samp>ShoppingListItem</samp>&rsquo;, which
encapsulates the name, quantity, and purchase state of an item in a
shopping list:
</p>
<div class="example">
<pre class="example">class ShoppingListItem {
    var name: String?
    var quantity = 1
    var purchased = false
}
var item = ShoppingListItem()
</pre></div>

<p>Because all properties of the &lsquo;<samp>ShoppingListItem</samp>&rsquo; class have default
values, and because it is a base class with no superclass,
&lsquo;<samp>ShoppingListItem</samp>&rsquo; automatically gains a default initializer
implementation that creates a new instance with all of its properties
set to their default values. (The &lsquo;<samp>name</samp>&rsquo; property is an optional
&lsquo;<samp>String</samp>&rsquo; property, and so it automatically receives a default value of
&lsquo;<samp>nil</samp>&rsquo;, even though this value is not written in the code.) The example
above uses the default initializer for the &lsquo;<samp>ShoppingListItem</samp>&rsquo; class to
create a new instance of the class with initializer syntax, written as
&lsquo;<samp>ShoppingListItem()</samp>&rsquo;, and assigns this new instance to a variable called
&lsquo;<samp>item</samp>&rsquo;.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Memberwise-Initializers-for-Structure-Types-1" accesskey="1">Memberwise Initializers for Structure Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Memberwise-Initializers-for-Structure-Types-1"></span><div class="header">
<p>
Up: <a href="#Default-Initializers" accesskey="u" rel="up">Default Initializers</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Memberwise-Initializers-for-Structure-Types-3"></span><h4 class="subsection">19.3.1 Memberwise Initializers for Structure Types</h4>

<p><a href="https://github.com/apple/swift-evolution/blob/master/proposals/0242-default-values-memberwise.md">Proposal</a>
</p>
<p>Structure types automatically receive a <em>memberwise initializer</em> if they
don&rsquo;t define any of their own custom initializers. Unlike a default
initializer, the structure receives a memberwise initializer even if it
has stored properties that don&rsquo;t have default values.
</p>
<p>The memberwise initializer is a shorthand way to initialize the member
properties of new structure instances. Initial values for the properties
of the new instance can be passed to the memberwise initializer by name.
</p>
<p>The example below defines a structure called &lsquo;<samp>Size</samp>&rsquo; with two properties
called &lsquo;<samp>width</samp>&rsquo; and &lsquo;<samp>height</samp>&rsquo;. Both properties are inferred to be of type
&lsquo;<samp>Double</samp>&rsquo; by assigning a default value of &lsquo;<samp>0.0</samp>&rsquo;.
</p>
<p>The &lsquo;<samp>Size</samp>&rsquo; structure automatically receives an &lsquo;<samp>init(width:height:)</samp>&rsquo;
memberwise initializer, which you can use to initialize a new &lsquo;<samp>Size</samp>&rsquo;
instance:
</p>
<div class="example">
<pre class="example">struct Size {
    var width = 0.0, height = 0.0
}
let twoByTwo = Size(width: 2.0, height: 2.0)
</pre></div>

<p>When you call a memberwise initializer, you can omit values for any
properties that have default values. In the example above, the &lsquo;<samp>Size</samp>&rsquo;
structure has a default value for both its &lsquo;<samp>height</samp>&rsquo; and &lsquo;<samp>width</samp>&rsquo;
properties. You can omit either property or both properties, and the
initializer uses the default value for anything you omit&mdash;for example:
</p>
<div class="example">
<pre class="example">let zeroByTwo = Size(height: 2.0)
print(zeroByTwo.width, zeroByTwo.height)
// Prints &quot;0.0 2.0&quot;

let zeroByZero = Size()
print(zeroByZero.width, zeroByZero.height)
// Prints &quot;0.0 0.0&quot;
</pre></div>

<hr>
<span id="Initializer-Delegation-for-Value-Types"></span><div class="header">
<p>
Next: <a href="#Class-Inheritance-and-Initialization" accesskey="n" rel="next">Class Inheritance and Initialization</a>, Previous: <a href="#Default-Initializers" accesskey="p" rel="prev">Default Initializers</a>, Up: <a href="#Initialization" accesskey="u" rel="up">Initialization</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Initializer-Delegation-for-Value-Types-1"></span><h3 class="section">19.4 Initializer Delegation for Value Types</h3>

<p>Initializers can call other initializers to perform part of an
instance&rsquo;s initialization. This process, known as <em>initializer
delegation</em>, avoids duplicating code across multiple initializers.
</p>
<p>The rules for how initializer delegation works, and for what forms of
delegation are allowed, are different for value types and class types.
Value types (structures and enumerations) do not support inheritance,
and so their initializer delegation process is relatively simple,
because they can only delegate to another initializer that they provide
themselves. Classes, however, can inherit from other classes, as
described in <a href="#Inheritance">Inheritance</a>. This means that
classes have additional responsibilities for ensuring that all stored
properties they inherit are assigned a suitable value during
initialization. These responsibilities are described in
<a href="#Class-Inheritance-and-Initialization">Class Inheritance and Initialization</a>
below.
</p>
<p>For value types, you use &lsquo;<samp>self.init</samp>&rsquo; to refer to other initializers from
the same value type when writing your own custom initializers. You can
call &lsquo;<samp>self.init</samp>&rsquo; only from within an initializer.
</p>
<p>Note that if you define a custom initializer for a value type, you will
no longer have access to the default initializer (or the memberwise
initializer, if it is a structure) for that type. This constraint
prevents a situation in which additional essential setup provided in a
more complex initializer is accidentally circumvented by someone using
one of the automatic initializers.
</p>
<p>Note
</p>
<p>If you want your custom value type to be initializable with the default
initializer and memberwise initializer, and also with your own custom
initializers, write your custom initializers in an extension rather than
as part of the value type&rsquo;s original implementation. For more
information, see <a href="#Extensions">Extensions</a>.
</p>
<p>The following example defines a custom &lsquo;<samp>Rect</samp>&rsquo; structure to represent a
geometric rectangle. The example requires two supporting structures
called &lsquo;<samp>Size</samp>&rsquo; and &lsquo;<samp>Point</samp>&rsquo;, both of which provide default values of &lsquo;<samp>0.0</samp>&rsquo;
for all of their properties:
</p>
<div class="example">
<pre class="example">struct Size {
    var width = 0.0, height = 0.0
}
struct Point {
    var x = 0.0, y = 0.0
}
</pre></div>

<p>You can initialize the &lsquo;<samp>Rect</samp>&rsquo; structure below in one of three ways&mdash;by
using its default zero-initialized &lsquo;<samp>origin</samp>&rsquo; and &lsquo;<samp>size</samp>&rsquo; property values,
by providing a specific origin point and size, or by providing a
specific center point and size. These initialization options are
represented by three custom initializers that are part of the &lsquo;<samp>Rect</samp>&rsquo;
structure&rsquo;s definition:
</p>
<div class="example">
<pre class="example">struct Rect {
    var origin = Point()
    var size = Size()
    init() {}
    init(origin: Point, size: Size) {
        self.origin = origin
        self.size = size
    }
    init(center: Point, size: Size) {
        let originX = center.x - (size.width / 2)
        let originY = center.y - (size.height / 2)
        self.init(origin: Point(x: originX, y: originY), size: size)
    }
}
</pre></div>

<p>The first &lsquo;<samp>Rect</samp>&rsquo; initializer, &lsquo;<samp>init()</samp>&rsquo;, is functionally the same as the
default initializer that the structure would have received if it did not
have its own custom initializers. This initializer has an empty body,
represented by an empty pair of curly braces &lsquo;<samp>{}</samp>&rsquo;. Calling this
initializer returns a &lsquo;<samp>Rect</samp>&rsquo; instance whose &lsquo;<samp>origin</samp>&rsquo; and &lsquo;<samp>size</samp>&rsquo;
properties are both initialized with the default values of
&lsquo;<samp>Point(x: 0.0, y: 0.0)</samp>&rsquo; and &lsquo;<samp>Size(width: 0.0, height: 0.0)</samp>&rsquo; from their
property definitions:
</p>
<div class="example">
<pre class="example">let basicRect = Rect()
// basicRect's origin is (0.0, 0.0) and its size is (0.0, 0.0)
</pre></div>

<p>The second &lsquo;<samp>Rect</samp>&rsquo; initializer, &lsquo;<samp>init(origin:size:)</samp>&rsquo;, is functionally the
same as the memberwise initializer that the structure would have
received if it did not have its own custom initializers. This
initializer simply assigns the &lsquo;<samp>origin</samp>&rsquo; and &lsquo;<samp>size</samp>&rsquo; argument values to
the appropriate stored properties:
</p>
<div class="example">
<pre class="example">let originRect = Rect(origin: Point(x: 2.0, y: 2.0),
                      size: Size(width: 5.0, height: 5.0))
// originRect's origin is (2.0, 2.0) and its size is (5.0, 5.0)
</pre></div>

<p>The third &lsquo;<samp>Rect</samp>&rsquo; initializer, &lsquo;<samp>init(center:size:)</samp>&rsquo;, is slightly more
complex. It starts by calculating an appropriate origin point based on a
&lsquo;<samp>center</samp>&rsquo; point and a &lsquo;<samp>size</samp>&rsquo; value. It then calls (or <em>delegates</em>) to the
&lsquo;<samp>init(origin:size:)</samp>&rsquo; initializer, which stores the new origin and size
values in the appropriate properties:
</p>
<div class="example">
<pre class="example">let centerRect = Rect(center: Point(x: 4.0, y: 4.0), size: Size(width: 3.0, height: 3.0))
// centerRect's origin is (2.5, 2.5) and its size is (3.0, 3.0)
</pre></div>

<p>The &lsquo;<samp>init(center:size:)</samp>&rsquo; initializer could have assigned the new values
of &lsquo;<samp>origin</samp>&rsquo; and &lsquo;<samp>size</samp>&rsquo; to the appropriate properties itself. However, it
is more convenient (and clearer in intent) for the &lsquo;<samp>init(center:size:)</samp>&rsquo;
initializer to take advantage of an existing initializer that already
provides exactly that functionality.
</p>
<p>Note
</p>
<p>For an alternative way to write this example without defining the
&lsquo;<samp>init()</samp>&rsquo; and &lsquo;<samp>init(origin:size:)</samp>&rsquo; initializers yourself, see
<a href="#Extensions">Extensions</a>.
</p>
<hr>
<span id="Class-Inheritance-and-Initialization"></span><div class="header">
<p>
Next: <a href="#Failable-Initializers" accesskey="n" rel="next">Failable Initializers</a>, Previous: <a href="#Initializer-Delegation-for-Value-Types" accesskey="p" rel="prev">Initializer Delegation for Value Types</a>, Up: <a href="#Initialization" accesskey="u" rel="up">Initialization</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Class-Inheritance-and-Initialization-1"></span><h3 class="section">19.5 Class Inheritance and Initialization</h3>

<p>All of a class&rsquo;s stored properties&mdash;including any properties the class
inherits from its superclass&mdash;<em>must</em> be assigned an initial value
during initialization.
</p>
<p>Swift defines two kinds of initializers for class types to help ensure
all stored properties receive an initial value. These are known as
designated initializers and convenience initializers.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Designated-Initializers-and-Convenience-Initializers" accesskey="1">Designated Initializers and Convenience Initializers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Syntax-for-Designated-and-Convenience-Initializers" accesskey="2">Syntax for Designated and Convenience Initializers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Initializer-Delegation-for-Class-Types" accesskey="3">Initializer Delegation for Class Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Two_002dPhase-Initialization" accesskey="4">Two-Phase Initialization</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Initializer-Inheritance-and-Overriding" accesskey="5">Initializer Inheritance and Overriding</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Automatic-Initializer-Inheritance" accesskey="6">Automatic Initializer Inheritance</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Designated-and-Convenience-Initializers-in-Action" accesskey="7">Designated and Convenience Initializers in Action</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Designated-Initializers-and-Convenience-Initializers"></span><div class="header">
<p>
Next: <a href="#Syntax-for-Designated-and-Convenience-Initializers" accesskey="n" rel="next">Syntax for Designated and Convenience Initializers</a>, Up: <a href="#Class-Inheritance-and-Initialization" accesskey="u" rel="up">Class Inheritance and Initialization</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Designated-Initializers-and-Convenience-Initializers-1"></span><h4 class="subsection">19.5.1 Designated Initializers and Convenience Initializers</h4>

<p><em>Designated initializers</em> are the primary initializers for a class. A
designated initializer fully initializes all properties introduced by
that class and calls an appropriate superclass initializer to continue
the initialization process up the superclass chain.
</p>
<p>Classes tend to have very few designated initializers, and it is quite
common for a class to have only one. Designated initializers are
“funnel” points through which initialization takes place, and through
which the initialization process continues up the superclass chain.
</p>
<p>Every class must have at least one designated initializer. In some
cases, this requirement is satisfied by inheriting one or more
designated initializers from a superclass, as described in
<a href="#Automatic-Initializer-Inheritance">Automatic Initializer Inheritance</a>
below.
</p>
<span id="index-convenience"></span>

<p><em>Convenience initializers</em> are secondary, supporting initializers for a
class. You can define a convenience initializer to call a designated
initializer from the same class as the convenience initializer with some
of the designated initializer&rsquo;s parameters set to default values. You
can also define a convenience initializer to create an instance of that
class for a specific use case or input value type.
</p>
<p>You do not have to provide convenience initializers if your class does
not require them. Create convenience initializers whenever a shortcut to
a common initialization pattern will save time or make initialization of
the class clearer in intent.
</p>
<hr>
<span id="Syntax-for-Designated-and-Convenience-Initializers"></span><div class="header">
<p>
Next: <a href="#Initializer-Delegation-for-Class-Types" accesskey="n" rel="next">Initializer Delegation for Class Types</a>, Previous: <a href="#Designated-Initializers-and-Convenience-Initializers" accesskey="p" rel="prev">Designated Initializers and Convenience Initializers</a>, Up: <a href="#Class-Inheritance-and-Initialization" accesskey="u" rel="up">Class Inheritance and Initialization</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Syntax-for-Designated-and-Convenience-Initializers-1"></span><h4 class="subsection">19.5.2 Syntax for Designated and Convenience Initializers</h4>

<p>Designated initializers for classes are written in the same way as
simple initializers for value types:
</p>
<div class="example">
<pre class="example">init(parameters) {
    statements
}
</pre></div>

<p>Convenience initializers are written in the same style, but with the
&lsquo;<samp>convenience</samp>&rsquo; modifier placed before the &lsquo;<samp>init</samp>&rsquo; keyword, separated by a
space:
</p>
<div class="example">
<pre class="example">convenience init(parameters) {
    statements
}
</pre></div>

<hr>
<span id="Initializer-Delegation-for-Class-Types"></span><div class="header">
<p>
Next: <a href="#Two_002dPhase-Initialization" accesskey="n" rel="next">Two-Phase Initialization</a>, Previous: <a href="#Syntax-for-Designated-and-Convenience-Initializers" accesskey="p" rel="prev">Syntax for Designated and Convenience Initializers</a>, Up: <a href="#Class-Inheritance-and-Initialization" accesskey="u" rel="up">Class Inheritance and Initialization</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Initializer-Delegation-for-Class-Types-1"></span><h4 class="subsection">19.5.3 Initializer Delegation for Class Types</h4>

<p>To simplify the relationships between designated and convenience
initializers, Swift applies the following three rules for delegation
calls between initializers:
</p>
<dl compact="compact">
<dt><strong>Rule 1</strong></dt>
<dd><p>A designated initializer must call a designated
initializer from its immediate superclass.
</p>
</dd>
<dt><strong>Rule 2</strong></dt>
<dd><p>A convenience initializer must call another initializer
from the <em>same</em> class.
</p>
</dd>
<dt><strong>Rule 3</strong></dt>
<dd><p>A convenience initializer must ultimately call a
designated initializer.
</p></dd>
</dl>

<p>A simple way to remember this is:
</p>
<ul>
<li> Designated initializers must always delegate <em>up</em>.

</li><li> Convenience initializers must always delegate <em>across</em>.
</li></ul>

<p>These rules are illustrated in the figure below:
</p>
<img src="images/initializerDelegation01_2x.png" alt="images/initializerDelegation01_2x">
<p>Here, the superclass has a single designated initializer and two
convenience initializers. One convenience initializer calls another
convenience initializer, which in turn calls the single designated
initializer. This satisfies rules 2 and 3 from above. The superclass
does not itself have a further superclass, and so rule 1 does not apply.
</p>
<p>The subclass in this figure has two designated initializers and one
convenience initializer. The convenience initializer must call one of
the two designated initializers, because it can only call another
initializer from the same class. This satisfies rules 2 and 3 from
above. Both designated initializers must call the single designated
initializer from the superclass, to satisfy rule 1 from above.
</p>
<p>Note
</p>
<p>These rules don&rsquo;t affect how users of your classes <em>create</em> instances of
each class. Any initializer in the diagram above can be used to create a
fully initialized instance of the class they belong to. The rules only
affect how you write the implementation of the class&rsquo;s initializers.
</p>
<p>The figure below shows a more complex class hierarchy for four classes.
It illustrates how the designated initializers in this hierarchy act as
“funnel” points for class initialization, simplifying the
interrelationships among classes in the chain:
</p>
<img src="images/initializerDelegation02_2x.png" alt="images/initializerDelegation02_2x">

<hr>
<span id="Two_002dPhase-Initialization"></span><div class="header">
<p>
Next: <a href="#Initializer-Inheritance-and-Overriding" accesskey="n" rel="next">Initializer Inheritance and Overriding</a>, Previous: <a href="#Initializer-Delegation-for-Class-Types" accesskey="p" rel="prev">Initializer Delegation for Class Types</a>, Up: <a href="#Class-Inheritance-and-Initialization" accesskey="u" rel="up">Class Inheritance and Initialization</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Two_002dPhase-Initialization-1"></span><h4 class="subsection">19.5.4 Two-Phase Initialization</h4>

<p>Class initialization in Swift is a two-phase process. In the first
phase, each stored property is assigned an initial value by the class
that introduced it. Once the initial state for every stored property has
been determined, the second phase begins, and each class is given the
opportunity to customize its stored properties further before the new
instance is considered ready for use.
</p>
<p>The use of a two-phase initialization process makes initialization safe,
while still giving complete flexibility to each class in a class
hierarchy. Two-phase initialization prevents property values from being
accessed before they are initialized, and prevents property values from
being set to a different value by another initializer unexpectedly.
</p>
<p>Note
</p>
<p>Swift&rsquo;s two-phase initialization process is similar to initialization in
Objective-C. The main difference is that during phase 1, Objective-C
assigns zero or null values (such as &lsquo;<samp>0</samp>&rsquo; or &lsquo;<samp>nil</samp>&rsquo;) to every property.
Swift&rsquo;s initialization flow is more flexible in that it lets you set
custom initial values, and can cope with types for which &lsquo;<samp>0</samp>&rsquo; or &lsquo;<samp>nil</samp>&rsquo; is
not a valid default value.
</p>
<p>Swift&rsquo;s compiler performs four helpful safety-checks to make sure that
two-phase initialization is completed without error:
</p>
<dl compact="compact">
<dt><strong>Safety check 1</strong></dt>
<dd><p>A designated initializer must ensure that all of
the properties introduced by its class are initialized before it
delegates up to a superclass initializer.
</p></dd>
</dl>

<p>As mentioned above, the memory for an object is only considered fully
initialized once the initial state of all of its stored properties is
known. In order for this rule to be satisfied, a designated initializer
must make sure that all of its own properties are initialized before it
hands off up the chain.
</p>
<dl compact="compact">
<dt><strong>Safety check 2</strong></dt>
<dd><p>A designated initializer must delegate up to a
superclass initializer before assigning a value to an inherited
property. If it doesn&rsquo;t, the new value the designated initializer
assigns will be overwritten by the superclass as part of its own
initialization.
</p>
</dd>
<dt><strong>Safety check 3</strong></dt>
<dd><p>A convenience initializer must delegate to another
initializer before assigning a value to <em>any</em> property (including
properties defined by the same class). If it doesn&rsquo;t, the new value
the convenience initializer assigns will be overwritten by its own
class&rsquo;s designated initializer.
</p>
</dd>
<dt><strong>Safety check 4</strong></dt>
<dd><p>An initializer cannot call any instance methods,
read the values of any instance properties, or refer to &lsquo;<samp>self</samp>&rsquo; as a
value until after the first phase of initialization is complete.
</p></dd>
</dl>

<p>The class instance is not fully valid until the first phase ends.
Properties can only be accessed, and methods can only be called, once
the class instance is known to be valid at the end of the first phase.
</p>
<p>Here&rsquo;s how two-phase initialization plays out, based on the four safety
checks above:
</p>
<p><strong>Phase 1</strong>
</p>
<ul>
<li> A designated or convenience initializer is called on a class.

</li><li> Memory for a new instance of that class is allocated. The memory is
not yet initialized.

</li><li> A designated initializer for that class confirms that all stored
properties introduced by that class have a value. The memory for these
stored properties is now initialized.

</li><li> The designated initializer hands off to a superclass initializer to
perform the same task for its own stored properties.

</li><li> This continues up the class inheritance chain until the top of the
chain is reached.

</li><li> Once the top of the chain is reached, and the final class in the chain
has ensured that all of its stored properties have a value, the
instance&rsquo;s memory is considered to be fully initialized, and phase 1
is complete.
</li></ul>

<p><strong>Phase 2</strong>
</p>
<ul>
<li> Working back down from the top of the chain, each designated
initializer in the chain has the option to customize the instance
further. Initializers are now able to access &lsquo;<samp>self</samp>&rsquo; and can modify its
properties, call its instance methods, and so on.

</li><li> Finally, any convenience initializers in the chain have the option to
customize the instance and to work with &lsquo;<samp>self</samp>&rsquo;.
</li></ul>

<p>Here&rsquo;s how phase 1 looks for an initialization call for a hypothetical
subclass and superclass:
</p>
<img src="images/twoPhaseInitialization01_2x.png" alt="images/twoPhaseInitialization01_2x">
<p>In this example, initialization begins with a call to a convenience
initializer on the subclass. This convenience initializer cannot yet
modify any properties. It delegates across to a designated initializer
from the same class.
</p>
<p>The designated initializer makes sure that all of the subclass&rsquo;s
properties have a value, as per safety check 1. It then calls a
designated initializer on its superclass to continue the initialization
up the chain.
</p>
<p>The superclass&rsquo;s designated initializer makes sure that all of the
superclass properties have a value. There are no further superclasses to
initialize, and so no further delegation is needed.
</p>
<p>As soon as all properties of the superclass have an initial value, its
memory is considered fully initialized, and phase 1 is complete.
</p>
<p>Here&rsquo;s how phase 2 looks for the same initialization call:
</p>
<img src="images/twoPhaseInitialization02_2x.png" alt="images/twoPhaseInitialization02_2x">
<p>The superclass&rsquo;s designated initializer now has an opportunity to
customize the instance further (although it does not have to).
</p>
<p>Once the superclass&rsquo;s designated initializer is finished, the subclass&rsquo;s
designated initializer can perform additional customization (although
again, it does not have to).
</p>
<p>Finally, once the subclass&rsquo;s designated initializer is finished, the
convenience initializer that was originally called can perform
additional customization.
</p>
<hr>
<span id="Initializer-Inheritance-and-Overriding"></span><div class="header">
<p>
Next: <a href="#Automatic-Initializer-Inheritance" accesskey="n" rel="next">Automatic Initializer Inheritance</a>, Previous: <a href="#Two_002dPhase-Initialization" accesskey="p" rel="prev">Two-Phase Initialization</a>, Up: <a href="#Class-Inheritance-and-Initialization" accesskey="u" rel="up">Class Inheritance and Initialization</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Initializer-Inheritance-and-Overriding-1"></span><h4 class="subsection">19.5.5 Initializer Inheritance and Overriding</h4>

<p>Unlike subclasses in Objective-C, Swift subclasses do not inherit their
superclass initializers by default. Swift&rsquo;s approach prevents a
situation in which a simple initializer from a superclass is inherited
by a more specialized subclass and is used to create a new instance of
the subclass that is not fully or correctly initialized.
</p>
<p>Note
</p>
<p>Superclass initializers <em>are</em> inherited in certain circumstances, but
only when it is safe and appropriate to do so. For more information, see
<a href="#Automatic-Initializer-Inheritance">Automatic Initializer Inheritance</a>
below.
</p>
<p>If you want a custom subclass to present one or more of the same
initializers as its superclass, you can provide a custom implementation
of those initializers within the subclass.
</p>
<p>When you write a subclass initializer that matches a superclass
<em>designated</em> initializer, you are effectively providing an override of
that designated initializer. Therefore, you must write the &lsquo;<samp>override</samp>&rsquo;
modifier before the subclass&rsquo;s initializer definition. This is true even
if you are overriding an automatically provided default initializer, as
described in <a href="#Default-Initializers">Default Initializers</a>.
</p>
<p>As with an overridden property, method or subscript, the presence of the
&lsquo;<samp>override</samp>&rsquo; modifier prompts Swift to check that the superclass has a
matching designated initializer to be overridden, and validates that the
parameters for your overriding initializer have been specified as
intended.
</p>
<p>Note
</p>
<p>You always write the &lsquo;<samp>override</samp>&rsquo; modifier when overriding a superclass
designated initializer, even if your subclass&rsquo;s implementation of the
initializer is a convenience initializer.
</p>
<p>Conversely, if you write a subclass initializer that matches a
superclass <em>convenience</em> initializer, that superclass convenience
initializer can never be called directly by your subclass, as per the
rules described above in <a href="#Initializer-Delegation-for-Class-Types">Initializer
Delegation for Class Types</a>. Therefore, your subclass is not (strictly
speaking) providing an override of the superclass initializer. As a
result, you do not write the &lsquo;<samp>override</samp>&rsquo; modifier when providing a
matching implementation of a superclass convenience initializer.
</p>
<p>The example below defines a base class called &lsquo;<samp>Vehicle</samp>&rsquo;. This base class
declares a stored property called &lsquo;<samp>numberOfWheels</samp>&rsquo;, with a default &lsquo;<samp>Int</samp>&rsquo;
value of &lsquo;<samp>0</samp>&rsquo;. The &lsquo;<samp>numberOfWheels</samp>&rsquo; property is used by a computed
property called &lsquo;<samp>description</samp>&rsquo; to create a &lsquo;<samp>String</samp>&rsquo; description of the
vehicle&rsquo;s characteristics:
</p>
<div class="example">
<pre class="example">class Vehicle {
    var numberOfWheels = 0
    var description: String {
        return &quot;\(numberOfWheels) wheel(s)&quot;
    }
}
</pre></div>

<p>The &lsquo;<samp>Vehicle</samp>&rsquo; class provides a default value for its only stored
property, and does not provide any custom initializers itself. As a
result, it automatically receives a default initializer, as described in
<a href="#Default-Initializers">Default Initializers</a>. The default
initializer (when available) is always a designated initializer for a
class, and can be used to create a new &lsquo;<samp>Vehicle</samp>&rsquo; instance with a
&lsquo;<samp>numberOfWheels</samp>&rsquo; of &lsquo;<samp>0</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">let vehicle = Vehicle()
print(&quot;Vehicle: \(vehicle.description)&quot;)
// Vehicle: 0 wheel(s)
</pre></div>

<p>The next example defines a subclass of &lsquo;<samp>Vehicle</samp>&rsquo; called &lsquo;<samp>Bicycle</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">class Bicycle: Vehicle {
    override init() {
        super.init()
        numberOfWheels = 2
    }
}
</pre></div>

<p>The &lsquo;<samp>Bicycle</samp>&rsquo; subclass defines a custom designated initializer,
&lsquo;<samp>init()</samp>&rsquo;. This designated initializer matches a designated initializer
from the superclass of &lsquo;<samp>Bicycle</samp>&rsquo;, and so the &lsquo;<samp>Bicycle</samp>&rsquo; version of this
initializer is marked with the &lsquo;<samp>override</samp>&rsquo; modifier.
</p>
<p>The &lsquo;<samp>init()</samp>&rsquo; initializer for &lsquo;<samp>Bicycle</samp>&rsquo; starts by calling &lsquo;<samp>super.init()</samp>&rsquo;,
which calls the default initializer for the &lsquo;<samp>Bicycle</samp>&rsquo; class&rsquo;s
superclass, &lsquo;<samp>Vehicle</samp>&rsquo;. This ensures that the &lsquo;<samp>numberOfWheels</samp>&rsquo; inherited
property is initialized by &lsquo;<samp>Vehicle</samp>&rsquo; before &lsquo;<samp>Bicycle</samp>&rsquo; has the
opportunity to modify the property. After calling &lsquo;<samp>super.init()</samp>&rsquo;, the
original value of &lsquo;<samp>numberOfWheels</samp>&rsquo; is replaced with a new value of &lsquo;<samp>2</samp>&rsquo;.
</p>
<p>If you create an instance of &lsquo;<samp>Bicycle</samp>&rsquo;, you can call its inherited
&lsquo;<samp>description</samp>&rsquo; computed property to see how its &lsquo;<samp>numberOfWheels</samp>&rsquo; property
has been updated:
</p>
<div class="example">
<pre class="example">let bicycle = Bicycle()
print(&quot;Bicycle: \(bicycle.description)&quot;)
// Bicycle: 2 wheel(s)
</pre></div>

<p>If a subclass initializer performs no customization in phase 2 of the
initialization process, and the superclass has a zero-argument
designated initializer, you can omit a call to &lsquo;<samp>super.init()</samp>&rsquo; after
assigning values to all of the subclass&rsquo;s stored properties.
</p>
<p>This example defines another subclass of &lsquo;<samp>Vehicle</samp>&rsquo;, called &lsquo;<samp>Hoverboard</samp>&rsquo;.
In its initializer, the &lsquo;<samp>Hoverboard</samp>&rsquo; class sets only its &lsquo;<samp>color</samp>&rsquo;
property. Instead of making an explicit call to &lsquo;<samp>super.init()</samp>&rsquo;, this
initializer relies on an implicit call to its superclass&rsquo;s initializer
to complete the process.
</p>
<div class="example">
<pre class="example">class Hoverboard: Vehicle {
    var color: String
    init(color: String) {
        self.color = color
        // super.init() implicitly called here
    }
    override var description: String {
        return &quot;\(super.description) in a beautiful \(color)&quot;
    }
}
</pre></div>

<p>An instance of &lsquo;<samp>Hoverboard</samp>&rsquo; uses the default number of wheels supplied
by the &lsquo;<samp>Vehicle</samp>&rsquo; initializer.
</p>
<div class="example">
<pre class="example">let hoverboard = Hoverboard(color: &quot;silver&quot;)
print(&quot;Hoverboard: \(hoverboard.description)&quot;)
// Hoverboard: 0 wheel(s) in a beautiful silver
</pre></div>

<p>Note
</p>
<p>Subclasses can modify inherited variable properties during
initialization, but can not modify inherited constant properties.
</p>
<hr>
<span id="Automatic-Initializer-Inheritance"></span><div class="header">
<p>
Next: <a href="#Designated-and-Convenience-Initializers-in-Action" accesskey="n" rel="next">Designated and Convenience Initializers in Action</a>, Previous: <a href="#Initializer-Inheritance-and-Overriding" accesskey="p" rel="prev">Initializer Inheritance and Overriding</a>, Up: <a href="#Class-Inheritance-and-Initialization" accesskey="u" rel="up">Class Inheritance and Initialization</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Automatic-Initializer-Inheritance-1"></span><h4 class="subsection">19.5.6 Automatic Initializer Inheritance</h4>

<p>As mentioned above, subclasses do not inherit their superclass
initializers by default. However, superclass initializers <em>are</em>
automatically inherited if certain conditions are met. In practice, this
means that you do not need to write initializer overrides in many common
scenarios, and can inherit your superclass initializers with minimal
effort whenever it is safe to do so.
</p>
<p>Assuming that you provide default values for any new properties you
introduce in a subclass, the following two rules apply:
</p>
<dl compact="compact">
<dt><strong>Rule 1</strong></dt>
<dd><p>If your subclass doesn&rsquo;t define any designated
initializers, it automatically inherits all of its superclass
designated initializers.
</p>
</dd>
<dt><strong>Rule 2</strong></dt>
<dd><p>If your subclass provides an implementation of <em>all</em> of
its superclass designated initializers&mdash;either by inheriting them as
per rule 1, or by providing a custom implementation as part of its
definition&mdash;then it automatically inherits all of the superclass
convenience initializers.
</p></dd>
</dl>

<p>These rules apply even if your subclass adds further convenience
initializers.
</p>
<p>Note
</p>
<p>A subclass can implement a superclass designated initializer as a
subclass convenience initializer as part of satisfying rule 2.
</p>
<hr>
<span id="Designated-and-Convenience-Initializers-in-Action"></span><div class="header">
<p>
Previous: <a href="#Automatic-Initializer-Inheritance" accesskey="p" rel="prev">Automatic Initializer Inheritance</a>, Up: <a href="#Class-Inheritance-and-Initialization" accesskey="u" rel="up">Class Inheritance and Initialization</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Designated-and-Convenience-Initializers-in-Action-1"></span><h4 class="subsection">19.5.7 Designated and Convenience Initializers in Action</h4>

<p>The following example shows designated initializers, convenience
initializers, and automatic initializer inheritance in action. This
example defines a hierarchy of three classes called &lsquo;<samp>Food</samp>&rsquo;,
&lsquo;<samp>RecipeIngredient</samp>&rsquo;, and &lsquo;<samp>ShoppingListItem</samp>&rsquo;, and demonstrates how their
initializers interact.
</p>
<p>The base class in the hierarchy is called &lsquo;<samp>Food</samp>&rsquo;, which is a simple
class to encapsulate the name of a foodstuff. The &lsquo;<samp>Food</samp>&rsquo; class
introduces a single &lsquo;<samp>String</samp>&rsquo; property called &lsquo;<samp>name</samp>&rsquo; and provides two
initializers for creating &lsquo;<samp>Food</samp>&rsquo; instances:
</p>
<div class="example">
<pre class="example">class Food {
    var name: String
    init(name: String) {
        self.name = name
    }
    convenience init() {
        self.init(name: &quot;[Unnamed]&quot;)
    }
}
</pre></div>

<p>The figure below shows the initializer chain for the &lsquo;<samp>Food</samp>&rsquo; class:
</p>
<img src="images/initializersExample01_2x.png" alt="images/initializersExample01_2x">
<p>Classes do not have a default memberwise initializer, and so the &lsquo;<samp>Food</samp>&rsquo;
class provides a designated initializer that takes a single argument
called &lsquo;<samp>name</samp>&rsquo;. This initializer can be used to create a new &lsquo;<samp>Food</samp>&rsquo;
instance with a specific name:
</p>
<div class="example">
<pre class="example">let namedMeat = Food(name: &quot;Bacon&quot;)
// namedMeat's name is &quot;Bacon&quot;
</pre></div>

<p>The &lsquo;<samp>init(name: String)</samp>&rsquo; initializer from the &lsquo;<samp>Food</samp>&rsquo; class is provided
as a <em>designated</em> initializer, because it ensures that all stored
properties of a new &lsquo;<samp>Food</samp>&rsquo; instance are fully initialized. The &lsquo;<samp>Food</samp>&rsquo;
class does not have a superclass, and so the &lsquo;<samp>init(name: String)</samp>&rsquo;
initializer does not need to call &lsquo;<samp>super.init()</samp>&rsquo; to complete its
initialization.
</p>
<p>The &lsquo;<samp>Food</samp>&rsquo; class also provides a <em>convenience</em> initializer, &lsquo;<samp>init()</samp>&rsquo;,
with no arguments. The &lsquo;<samp>init()</samp>&rsquo; initializer provides a default
placeholder name for a new food by delegating across to the &lsquo;<samp>Food</samp>&rsquo;
class&rsquo;s &lsquo;<samp>init(name: String)</samp>&rsquo; with a &lsquo;<samp>name</samp>&rsquo; value of &lsquo;<samp>[Unnamed]</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">let mysteryMeat = Food()
// mysteryMeat's name is &quot;[Unnamed]&quot;
</pre></div>

<p>The second class in the hierarchy is a subclass of &lsquo;<samp>Food</samp>&rsquo; called
&lsquo;<samp>RecipeIngredient</samp>&rsquo;. The &lsquo;<samp>RecipeIngredient</samp>&rsquo; class models an ingredient in
a cooking recipe. It introduces an &lsquo;<samp>Int</samp>&rsquo; property called &lsquo;<samp>quantity</samp>&rsquo; (in
addition to the &lsquo;<samp>name</samp>&rsquo; property it inherits from &lsquo;<samp>Food</samp>&rsquo;) and defines two
initializers for creating &lsquo;<samp>RecipeIngredient</samp>&rsquo; instances:
</p>
<div class="example">
<pre class="example">class RecipeIngredient: Food {
    var quantity: Int
    init(name: String, quantity: Int) {
        self.quantity = quantity
        super.init(name: name)
    }
    override convenience init(name: String) {
        self.init(name: name, quantity: 1)
    }
}
</pre></div>

<p>The figure below shows the initializer chain for the &lsquo;<samp>RecipeIngredient</samp>&rsquo;
class:
</p>
<img src="images/initializersExample02_2x.png" alt="images/initializersExample02_2x">
<p>The &lsquo;<samp>RecipeIngredient</samp>&rsquo; class has a single designated initializer,
&lsquo;<samp>init(name: String, quantity: Int)</samp>&rsquo;, which can be used to populate all
of the properties of a new &lsquo;<samp>RecipeIngredient</samp>&rsquo; instance. This initializer
starts by assigning the passed &lsquo;<samp>quantity</samp>&rsquo; argument to the &lsquo;<samp>quantity</samp>&rsquo;
property, which is the only new property introduced by
&lsquo;<samp>RecipeIngredient</samp>&rsquo;. After doing so, the initializer delegates up to the
&lsquo;<samp>init(name: String)</samp>&rsquo; initializer of the &lsquo;<samp>Food</samp>&rsquo; class. This process
satisfies safety check 1 from <a href="#Two_002dPhase-Initialization">Two-Phase
Initialization</a> above.
</p>
<p>&lsquo;<samp>RecipeIngredient</samp>&rsquo; also defines a convenience initializer,
&lsquo;<samp>init(name: String)</samp>&rsquo;, which is used to create a &lsquo;<samp>RecipeIngredient</samp>&rsquo;
instance by name alone. This convenience initializer assumes a quantity
of &lsquo;<samp>1</samp>&rsquo; for any &lsquo;<samp>RecipeIngredient</samp>&rsquo; instance that is created without an
explicit quantity. The definition of this convenience initializer makes
&lsquo;<samp>RecipeIngredient</samp>&rsquo; instances quicker and more convenient to create, and
avoids code duplication when creating several single-quantity
&lsquo;<samp>RecipeIngredient</samp>&rsquo; instances. This convenience initializer simply
delegates across to the class&rsquo;s designated initializer, passing in a
&lsquo;<samp>quantity</samp>&rsquo; value of &lsquo;<samp>1</samp>&rsquo;.
</p>
<p>The &lsquo;<samp>init(name: String)</samp>&rsquo; convenience initializer provided by
&lsquo;<samp>RecipeIngredient</samp>&rsquo; takes the same parameters as the &lsquo;<samp>init(name: String)</samp>&rsquo;
<em>designated</em> initializer from &lsquo;<samp>Food</samp>&rsquo;. Because this convenience
initializer overrides a designated initializer from its superclass, it
must be marked with the &lsquo;<samp>override</samp>&rsquo; modifier (as described in
<a href="#Initializer-Inheritance-and-Overriding">Initializer Inheritance and
Overriding</a>).
</p>
<p>Even though &lsquo;<samp>RecipeIngredient</samp>&rsquo; provides the &lsquo;<samp>init(name: String)</samp>&rsquo;
initializer as a convenience initializer, &lsquo;<samp>RecipeIngredient</samp>&rsquo; has
nonetheless provided an implementation of all of its superclass&rsquo;s
designated initializers. Therefore, &lsquo;<samp>RecipeIngredient</samp>&rsquo; automatically
inherits all of its superclass&rsquo;s convenience initializers too.
</p>
<p>In this example, the superclass for &lsquo;<samp>RecipeIngredient</samp>&rsquo; is &lsquo;<samp>Food</samp>&rsquo;, which
has a single convenience initializer called &lsquo;<samp>init()</samp>&rsquo;. This initializer
is therefore inherited by &lsquo;<samp>RecipeIngredient</samp>&rsquo;. The inherited version of
&lsquo;<samp>init()</samp>&rsquo; functions in exactly the same way as the &lsquo;<samp>Food</samp>&rsquo; version, except
that it delegates to the &lsquo;<samp>RecipeIngredient</samp>&rsquo; version of
&lsquo;<samp>init(name: String)</samp>&rsquo; rather than the &lsquo;<samp>Food</samp>&rsquo; version.
</p>
<p>All three of these initializers can be used to create new
&lsquo;<samp>RecipeIngredient</samp>&rsquo; instances:
</p>
<div class="example">
<pre class="example">let oneMysteryItem = RecipeIngredient()
let oneBacon = RecipeIngredient(name: &quot;Bacon&quot;)
let sixEggs = RecipeIngredient(name: &quot;Eggs&quot;, quantity: 6)
</pre></div>

<p>The third and final class in the hierarchy is a subclass of
&lsquo;<samp>RecipeIngredient</samp>&rsquo; called &lsquo;<samp>ShoppingListItem</samp>&rsquo;. The &lsquo;<samp>ShoppingListItem</samp>&rsquo;
class models a recipe ingredient as it appears in a shopping list.
</p>
<p>Every item in the shopping list starts out as “unpurchased”. To
represent this fact, &lsquo;<samp>ShoppingListItem</samp>&rsquo; introduces a Boolean property
called &lsquo;<samp>purchased</samp>&rsquo;, with a default value of &lsquo;<samp>false</samp>&rsquo;. &lsquo;<samp>ShoppingListItem</samp>&rsquo;
also adds a computed &lsquo;<samp>description</samp>&rsquo; property, which provides a textual
description of a &lsquo;<samp>ShoppingListItem</samp>&rsquo; instance:
</p>
<div class="example">
<pre class="example">class ShoppingListItem: RecipeIngredient {
    var purchased = false
    var description: String {
        var output = &quot;\(quantity) x \(name)&quot;
        output += purchased ? &quot; ✔&quot; : &quot; ✘&quot;
        return output
    }
}
</pre></div>

<p>Note
</p>
<p>&lsquo;<samp>ShoppingListItem</samp>&rsquo; does not define an initializer to provide an initial
value for &lsquo;<samp>purchased</samp>&rsquo;, because items in a shopping list (as modeled
here) always start out unpurchased.
</p>
<p>Because it provides a default value for all of the properties it
introduces and does not define any initializers itself,
&lsquo;<samp>ShoppingListItem</samp>&rsquo; automatically inherits <em>all</em> of the designated and
convenience initializers from its superclass.
</p>
<p>The figure below shows the overall initializer chain for all three
classes:
</p>
<img src="images/initializersExample03_2x.png" alt="images/initializersExample03_2x">
<p>You can use all three of the inherited initializers to create a new
&lsquo;<samp>ShoppingListItem</samp>&rsquo; instance:
</p>
<div class="example">
<pre class="example">var breakfastList = [
  ShoppingListItem(),
  ShoppingListItem(name: &quot;Bacon&quot;),
  ShoppingListItem(name: &quot;Eggs&quot;, quantity: 6),
]
breakfastList[0].name = &quot;Orange juice&quot;
breakfastList[0].purchased = true
for item in breakfastList {
    print(item.description)
}
// 1 x Orange juice ✔
// 1 x Bacon ✘
// 6 x Eggs ✘
</pre></div>

<p>Here, a new array called &lsquo;<samp>breakfastList</samp>&rsquo; is created from an array
literal containing three new &lsquo;<samp>ShoppingListItem</samp>&rsquo; instances. The type of
the array is inferred to be &lsquo;<samp>[ShoppingListItem]</samp>&rsquo;. After the array is
created, the name of the &lsquo;<samp>ShoppingListItem</samp>&rsquo; at the start of the array is
changed from &lsquo;<samp>&quot;[Unnamed]&quot;</samp>&rsquo; to &lsquo;<samp>&quot;Orange juice&quot;</samp>&rsquo; and it is marked as
having been purchased. Printing the description of each item in the
array shows that their default states have been set as expected.
</p>
<hr>
<span id="Failable-Initializers"></span><div class="header">
<p>
Next: <a href="#Required-Initializers" accesskey="n" rel="next">Required Initializers</a>, Previous: <a href="#Class-Inheritance-and-Initialization" accesskey="p" rel="prev">Class Inheritance and Initialization</a>, Up: <a href="#Initialization" accesskey="u" rel="up">Initialization</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Failable-Initializers-1"></span><h3 class="section">19.6 Failable Initializers</h3>

<p>It is sometimes useful to define a class, structure, or enumeration for
which initialization can fail. This failure might be triggered by
invalid initialization parameter values, the absence of a required
external resource, or some other condition that prevents initialization
from succeeding.
</p>
<p>To cope with initialization conditions that can fail, define one or more
failable initializers as part of a class, structure, or enumeration
definition. You write a failable initializer by placing a question mark
after the &lsquo;<samp>init</samp>&rsquo; keyword (&lsquo;<samp>init?</samp>&rsquo;).
</p>
<p>Note
</p>
<p>You cannot define a failable and a nonfailable initializer with the same
parameter types and names.
</p>
<p>A failable initializer creates an <em>optional</em> value of the type it
initializes. You write &lsquo;<samp>return nil</samp>&rsquo; within a failable initializer to
indicate a point at which initialization failure can be triggered.
</p>
<p>Note
</p>
<p>Strictly speaking, initializers do not return a value. Rather, their
role is to ensure that &lsquo;<samp>self</samp>&rsquo; is fully and correctly initialized by the
time that initialization ends. Although you write &lsquo;<samp>return nil</samp>&rsquo; to
trigger an initialization failure, you do not use the &lsquo;<samp>return</samp>&rsquo; keyword
to indicate initialization success.
</p>
<p>For instance, failable initializers are implemented for numeric type
conversions. To ensure conversion between numeric types maintains the
value exactly, use the &lsquo;<samp>init(exactly:)</samp>&rsquo; initializer. If the type
conversion cannot maintain the value, the initializer fails.
</p>
<div class="example">
<pre class="example">let wholeNumber: Double = 12345.0
let pi = 3.14159

if let valueMaintained = Int(exactly: wholeNumber) {
    print(&quot;\(wholeNumber) conversion to Int maintains value of \(valueMaintained)&quot;)
}
// Prints &quot;12345.0 conversion to Int maintains value of 12345&quot;

let valueChanged = Int(exactly: pi)
// valueChanged is of type Int?, not Int

if valueChanged == nil {
    print(&quot;\(pi) conversion to Int does not maintain value&quot;)
}
// Prints &quot;3.14159 conversion to Int does not maintain value&quot;
</pre></div>

<p>The example below defines a structure called &lsquo;<samp>Animal</samp>&rsquo;, with a constant
&lsquo;<samp>String</samp>&rsquo; property called &lsquo;<samp>species</samp>&rsquo;. The &lsquo;<samp>Animal</samp>&rsquo; structure also defines
a failable initializer with a single parameter called &lsquo;<samp>species</samp>&rsquo;. This
initializer checks if the &lsquo;<samp>species</samp>&rsquo; value passed to the initializer is
an empty string. If an empty string is found, an initialization failure
is triggered. Otherwise, the &lsquo;<samp>species</samp>&rsquo; property&rsquo;s value is set, and
initialization succeeds:
</p>
<div class="example">
<pre class="example">struct Animal {
    let species: String
    init?(species: String) {
        if species.isEmpty { return nil }
        self.species = species
    }
}
</pre></div>

<p>You can use this failable initializer to try to initialize a new
&lsquo;<samp>Animal</samp>&rsquo; instance and to check if initialization succeeded:
</p>
<div class="example">
<pre class="example">let someCreature = Animal(species: &quot;Giraffe&quot;)
// someCreature is of type Animal?, not Animal

if let giraffe = someCreature {
    print(&quot;An animal was initialized with a species of \(giraffe.species)&quot;)
}
// Prints &quot;An animal was initialized with a species of Giraffe&quot;
</pre></div>

<p>If you pass an empty string value to the failable initializer&rsquo;s
&lsquo;<samp>species</samp>&rsquo; parameter, the initializer triggers an initialization failure:
</p>
<div class="example">
<pre class="example">let anonymousCreature = Animal(species: &quot;&quot;)
// anonymousCreature is of type Animal?, not Animal

if anonymousCreature == nil {
    print(&quot;The anonymous creature could not be initialized&quot;)
}
// Prints &quot;The anonymous creature could not be initialized&quot;
</pre></div>

<p>Note
</p>
<p>Checking for an empty string value (such as &lsquo;<samp>&quot;&quot;</samp>&rsquo; rather than
&lsquo;<samp>&quot;Giraffe&quot;</samp>&rsquo;) is not the same as checking for &lsquo;<samp>nil</samp>&rsquo; to indicate the
absence of an <em>optional</em> &lsquo;<samp>String</samp>&rsquo; value. In the example above, an empty
string (&lsquo;<samp>&quot;&quot;</samp>&rsquo;) is a valid, non-optional &lsquo;<samp>String</samp>&rsquo;. However, it is not
appropriate for an animal to have an empty string as the value of its
&lsquo;<samp>species</samp>&rsquo; property. To model this restriction, the failable initializer
triggers an initialization failure if an empty string is found.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Failable-Initializers-for-Enumerations" accesskey="1">Failable Initializers for Enumerations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Failable-Initializers-for-Enumerations-with-Raw-Values" accesskey="2">Failable Initializers for Enumerations with Raw Values</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Propagation-of-Initialization-Failure" accesskey="3">Propagation of Initialization Failure</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Overriding-a-Failable-Initializer" accesskey="4">Overriding a Failable Initializer</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#The-init_0021-Failable-Initializer" accesskey="5">The init! Failable Initializer</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Failable-Initializers-for-Enumerations"></span><div class="header">
<p>
Next: <a href="#Failable-Initializers-for-Enumerations-with-Raw-Values" accesskey="n" rel="next">Failable Initializers for Enumerations with Raw Values</a>, Up: <a href="#Failable-Initializers" accesskey="u" rel="up">Failable Initializers</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Failable-Initializers-for-Enumerations-1"></span><h4 class="subsection">19.6.1 Failable Initializers for Enumerations</h4>

<p>You can use a failable initializer to select an appropriate enumeration
case based on one or more parameters. The initializer can then fail if
the provided parameters do not match an appropriate enumeration case.
</p>
<p>The example below defines an enumeration called &lsquo;<samp>TemperatureUnit</samp>&rsquo;, with
three possible states (&lsquo;<samp>kelvin</samp>&rsquo;, &lsquo;<samp>celsius</samp>&rsquo;, and &lsquo;<samp>fahrenheit</samp>&rsquo;). A
failable initializer is used to find an appropriate enumeration case for
a &lsquo;<samp>Character</samp>&rsquo; value representing a temperature symbol:
</p>
<div class="example">
<pre class="example">enum TemperatureUnit {
    case kelvin, celsius, fahrenheit
    init?(symbol: Character) {
        switch symbol {
        case &quot;K&quot;:
            self = .kelvin
        case &quot;C&quot;:
            self = .celsius
        case &quot;F&quot;:
            self = .fahrenheit
        default:
            return nil
        }
    }
}
</pre></div>

<p>You can use this failable initializer to choose an appropriate
enumeration case for the three possible states and to cause
initialization to fail if the parameter does not match one of these
states:
</p>
<div class="example">
<pre class="example">let fahrenheitUnit = TemperatureUnit(symbol: &quot;F&quot;)
if fahrenheitUnit != nil {
    print(&quot;This is a defined temperature unit, so initialization succeeded.&quot;)
}
// Prints &quot;This is a defined temperature unit, so initialization succeeded.&quot;

let unknownUnit = TemperatureUnit(symbol: &quot;X&quot;)
if unknownUnit == nil {
    print(&quot;This is not a defined temperature unit, so initialization failed.&quot;)
}
// Prints &quot;This is not a defined temperature unit, so initialization failed.&quot;
</pre></div>

<hr>
<span id="Failable-Initializers-for-Enumerations-with-Raw-Values"></span><div class="header">
<p>
Next: <a href="#Propagation-of-Initialization-Failure" accesskey="n" rel="next">Propagation of Initialization Failure</a>, Previous: <a href="#Failable-Initializers-for-Enumerations" accesskey="p" rel="prev">Failable Initializers for Enumerations</a>, Up: <a href="#Failable-Initializers" accesskey="u" rel="up">Failable Initializers</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Failable-Initializers-for-Enumerations-with-Raw-Values-1"></span><h4 class="subsection">19.6.2 Failable Initializers for Enumerations with Raw Values</h4>

<p>Enumerations with raw values automatically receive a failable
initializer, &lsquo;<samp>init?(rawValue:)</samp>&rsquo;, that takes a parameter called
&lsquo;<samp>rawValue</samp>&rsquo; of the appropriate raw-value type and selects a matching
enumeration case if one is found, or triggers an initialization failure
if no matching value exists.
</p>
<p>You can rewrite the &lsquo;<samp>TemperatureUnit</samp>&rsquo; example from above to use raw
values of type &lsquo;<samp>Character</samp>&rsquo; and to take advantage of the
&lsquo;<samp>init?(rawValue:)</samp>&rsquo; initializer:
</p>
<div class="example">
<pre class="example">enum TemperatureUnit: Character {
    case kelvin = &quot;K&quot;, celsius = &quot;C&quot;, fahrenheit = &quot;F&quot;
}

let fahrenheitUnit = TemperatureUnit(rawValue: &quot;F&quot;)
if fahrenheitUnit != nil {
    print(&quot;This is a defined temperature unit, so initialization succeeded.&quot;)
}
// Prints &quot;This is a defined temperature unit, so initialization succeeded.&quot;

let unknownUnit = TemperatureUnit(rawValue: &quot;X&quot;)
if unknownUnit == nil {
    print(&quot;This is not a defined temperature unit, so initialization failed.&quot;)
}
// Prints &quot;This is not a defined temperature unit, so initialization failed.&quot;
</pre></div>

<hr>
<span id="Propagation-of-Initialization-Failure"></span><div class="header">
<p>
Next: <a href="#Overriding-a-Failable-Initializer" accesskey="n" rel="next">Overriding a Failable Initializer</a>, Previous: <a href="#Failable-Initializers-for-Enumerations-with-Raw-Values" accesskey="p" rel="prev">Failable Initializers for Enumerations with Raw Values</a>, Up: <a href="#Failable-Initializers" accesskey="u" rel="up">Failable Initializers</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Propagation-of-Initialization-Failure-1"></span><h4 class="subsection">19.6.3 Propagation of Initialization Failure</h4>

<p>A failable initializer of a class, structure, or enumeration can
delegate across to another failable initializer from the same class,
structure, or enumeration. Similarly, a subclass failable initializer
can delegate up to a superclass failable initializer.
</p>
<p>In either case, if you delegate to another initializer that causes
initialization to fail, the entire initialization process fails
immediately, and no further initialization code is executed.
</p>
<p>Note
</p>
<p>A failable initializer can also delegate to a nonfailable initializer.
Use this approach if you need to add a potential failure state to an
existing initialization process that does not otherwise fail.
</p>
<p>The example below defines a subclass of &lsquo;<samp>Product</samp>&rsquo; called &lsquo;<samp>CartItem</samp>&rsquo;. The
&lsquo;<samp>CartItem</samp>&rsquo; class models an item in an online shopping cart. &lsquo;<samp>CartItem</samp>&rsquo;
introduces a stored constant property called &lsquo;<samp>quantity</samp>&rsquo; and ensures that
this property always has a value of at least &lsquo;<samp>1</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">class Product {
    let name: String
    init?(name: String) {
        if name.isEmpty { return nil }
        self.name = name
    }
}

class CartItem: Product {
    let quantity: Int
    init?(name: String, quantity: Int) {
        if quantity &lt; 1 { return nil }
        self.quantity = quantity
        super.init(name: name)
    }
}
</pre></div>

<p>The failable initializer for &lsquo;<samp>CartItem</samp>&rsquo; starts by validating that it has
received a &lsquo;<samp>quantity</samp>&rsquo; value of &lsquo;<samp>1</samp>&rsquo; or more. If the &lsquo;<samp>quantity</samp>&rsquo; is
invalid, the entire initialization process fails immediately and no
further initialization code is executed. Likewise, the failable
initializer for &lsquo;<samp>Product</samp>&rsquo; checks the &lsquo;<samp>name</samp>&rsquo; value, and the initializer
process fails immediately if &lsquo;<samp>name</samp>&rsquo; is the empty string.
</p>
<p>If you create a &lsquo;<samp>CartItem</samp>&rsquo; instance with a nonempty name and a quantity
of &lsquo;<samp>1</samp>&rsquo; or more, initialization succeeds:
</p>
<div class="example">
<pre class="example">if let twoSocks = CartItem(name: &quot;sock&quot;, quantity: 2) {
    print(&quot;Item: \(twoSocks.name), quantity: \(twoSocks.quantity)&quot;)
}
// Prints &quot;Item: sock, quantity: 2&quot;
</pre></div>

<p>If you try to create a &lsquo;<samp>CartItem</samp>&rsquo; instance with a &lsquo;<samp>quantity</samp>&rsquo; value of
&lsquo;<samp>0</samp>&rsquo;, the &lsquo;<samp>CartItem</samp>&rsquo; initializer causes initialization to fail:
</p>
<div class="example">
<pre class="example">if let zeroShirts = CartItem(name: &quot;shirt&quot;, quantity: 0) {
    print(&quot;Item: \(zeroShirts.name), quantity: \(zeroShirts.quantity)&quot;)
} else {
    print(&quot;Unable to initialize zero shirts&quot;)
}
// Prints &quot;Unable to initialize zero shirts&quot;
</pre></div>

<p>Similarly, if you try to create a &lsquo;<samp>CartItem</samp>&rsquo; instance with an empty
&lsquo;<samp>name</samp>&rsquo; value, the superclass &lsquo;<samp>Product</samp>&rsquo; initializer causes initialization
to fail:
</p>
<div class="example">
<pre class="example">if let oneUnnamed = CartItem(name: &quot;&quot;, quantity: 1) {
    print(&quot;Item: \(oneUnnamed.name), quantity: \(oneUnnamed.quantity)&quot;)
} else {
    print(&quot;Unable to initialize one unnamed product&quot;)
}
// Prints &quot;Unable to initialize one unnamed product&quot;
</pre></div>

<hr>
<span id="Overriding-a-Failable-Initializer"></span><div class="header">
<p>
Next: <a href="#The-init_0021-Failable-Initializer" accesskey="n" rel="next">The init! Failable Initializer</a>, Previous: <a href="#Propagation-of-Initialization-Failure" accesskey="p" rel="prev">Propagation of Initialization Failure</a>, Up: <a href="#Failable-Initializers" accesskey="u" rel="up">Failable Initializers</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Overriding-a-Failable-Initializer-1"></span><h4 class="subsection">19.6.4 Overriding a Failable Initializer</h4>

<p>You can override a superclass failable initializer in a subclass, just
like any other initializer. Alternatively, you can override a superclass
failable initializer with a subclass <em>nonfailable</em> initializer. This
enables you to define a subclass for which initialization cannot fail,
even though initialization of the superclass is allowed to fail.
</p>
<p>Note that if you override a failable superclass initializer with a
nonfailable subclass initializer, the only way to delegate up to the
superclass initializer is to force-unwrap the result of the failable
superclass initializer.
</p>
<p>Note
</p>
<p>You can override a failable initializer with a nonfailable initializer
but not the other way around.
</p>
<p>The example below defines a class called &lsquo;<samp>Document</samp>&rsquo;. This class models a
document that can be initialized with a &lsquo;<samp>name</samp>&rsquo; property that is either a
nonempty string value or &lsquo;<samp>nil</samp>&rsquo;, but cannot be an empty string:
</p>
<div class="example">
<pre class="example">class Document {
    var name: String?
    // this initializer creates a document with a nil name value
    init() {}
    // this initializer creates a document with a nonempty name value
    init?(name: String) {
        if name.isEmpty { return nil }
        self.name = name
    }
}
</pre></div>

<p>The next example defines a subclass of &lsquo;<samp>Document</samp>&rsquo; called
&lsquo;<samp>AutomaticallyNamedDocument</samp>&rsquo;. The &lsquo;<samp>AutomaticallyNamedDocument</samp>&rsquo; subclass
overrides both of the designated initializers introduced by &lsquo;<samp>Document</samp>&rsquo;.
These overrides ensure that an &lsquo;<samp>AutomaticallyNamedDocument</samp>&rsquo; instance has
an initial &lsquo;<samp>name</samp>&rsquo; value of &lsquo;<samp>&quot;[Untitled]&quot;</samp>&rsquo; if the instance is initialized
without a name, or if an empty string is passed to the &lsquo;<samp>init(name:)</samp>&rsquo;
initializer:
</p>
<div class="example">
<pre class="example">class AutomaticallyNamedDocument: Document {
    override init() {
        super.init()
        self.name = &quot;[Untitled]&quot;
    }
    override init(name: String) {
        super.init()
        if name.isEmpty {
            self.name = &quot;[Untitled]&quot;
        } else {
            self.name = name
        }
    }
}
</pre></div>

<p>The &lsquo;<samp>AutomaticallyNamedDocument</samp>&rsquo; overrides its superclass&rsquo;s failable
&lsquo;<samp>init?(name:)</samp>&rsquo; initializer with a nonfailable &lsquo;<samp>init(name:)</samp>&rsquo; initializer.
Because &lsquo;<samp>AutomaticallyNamedDocument</samp>&rsquo; copes with the empty string case in
a different way than its superclass, its initializer does not need to
fail, and so it provides a nonfailable version of the initializer
instead.
</p>
<p>You can use forced unwrapping in an initializer to call a failable
initializer from the superclass as part of the implementation of a
subclass&rsquo;s nonfailable initializer. For example, the &lsquo;<samp>UntitledDocument</samp>&rsquo;
subclass below is always named &lsquo;<samp>&quot;[Untitled]&quot;</samp>&rsquo;, and it uses the failable
&lsquo;<samp>init(name:)</samp>&rsquo; initializer from its superclass during initialization.
</p>
<div class="example">
<pre class="example">class UntitledDocument: Document {
    override init() {
        super.init(name: &quot;[Untitled]&quot;)!
    }
}
</pre></div>

<p>In this case, if the &lsquo;<samp>init(name:)</samp>&rsquo; initializer of the superclass were
ever called with an empty string as the name, the forced unwrapping
operation would result in a runtime error. However, because it&rsquo;s called
with a string constant, you can see that the initializer won&rsquo;t fail, so
no runtime error can occur in this case.
</p>
<hr>
<span id="The-init_0021-Failable-Initializer"></span><div class="header">
<p>
Previous: <a href="#Overriding-a-Failable-Initializer" accesskey="p" rel="prev">Overriding a Failable Initializer</a>, Up: <a href="#Failable-Initializers" accesskey="u" rel="up">Failable Initializers</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="The-init_0021-Failable-Initializer-1"></span><h4 class="subsection">19.6.5 The init! Failable Initializer</h4>

<p>You typically define a failable initializer that creates an optional
instance of the appropriate type by placing a question mark after the
&lsquo;<samp>init</samp>&rsquo; keyword (&lsquo;<samp>init?</samp>&rsquo;). Alternatively, you can define a failable
initializer that creates an implicitly unwrapped optional instance of
the appropriate type. Do this by placing an exclamation mark after the
&lsquo;<samp>init</samp>&rsquo; keyword (&lsquo;<samp>init!</samp>&rsquo;) instead of a question mark.
</p>
<p>You can delegate from &lsquo;<samp>init?</samp>&rsquo; to &lsquo;<samp>init!</samp>&rsquo; and vice versa, and you can
override &lsquo;<samp>init?</samp>&rsquo; with &lsquo;<samp>init!</samp>&rsquo; and vice versa. You can also delegate from
&lsquo;<samp>init</samp>&rsquo; to &lsquo;<samp>init!</samp>&rsquo;, although doing so will trigger an assertion if the
&lsquo;<samp>init!</samp>&rsquo; initializer causes initialization to fail.
</p>
<hr>
<span id="Required-Initializers"></span><div class="header">
<p>
Next: <a href="#Setting-a-Default-Property-Value-with-a-Closure-or-Function" accesskey="n" rel="next">Setting a Default Property Value with a Closure or Function</a>, Previous: <a href="#Failable-Initializers" accesskey="p" rel="prev">Failable Initializers</a>, Up: <a href="#Initialization" accesskey="u" rel="up">Initialization</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Required-Initializers-1"></span><h3 class="section">19.7 Required Initializers</h3>

<span id="index-required"></span>
<p>Write the &lsquo;<samp>required</samp>&rsquo; modifier before the definition of a class
initializer to indicate that every subclass of the class must implement
that initializer:
</p>
<div class="example">
<pre class="example">class SomeClass {
    required init() {
        // initializer implementation goes here
    }
}
</pre></div>

<p>You must also write the &lsquo;<samp>required</samp>&rsquo; modifier before every subclass
implementation of a required initializer, to indicate that the
initializer requirement applies to further subclasses in the chain. You
do not write the &lsquo;<samp>override</samp>&rsquo; modifier when overriding a required
designated initializer:
</p>
<div class="example">
<pre class="example">class SomeSubclass: SomeClass {
    required init() {
        // subclass implementation of the required initializer goes here
    }
}
</pre></div>

<p>Note
</p>
<p>You do not have to provide an explicit implementation of a required
initializer if you can satisfy the requirement with an inherited
initializer.
</p>
<hr>
<span id="Setting-a-Default-Property-Value-with-a-Closure-or-Function"></span><div class="header">
<p>
Previous: <a href="#Required-Initializers" accesskey="p" rel="prev">Required Initializers</a>, Up: <a href="#Initialization" accesskey="u" rel="up">Initialization</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Setting-a-Default-Property-Value-with-a-Closure-or-Function-1"></span><h3 class="section">19.8 Setting a Default Property Value with a Closure or Function</h3>

<p>If a stored property&rsquo;s default value requires some customization or
setup, you can use a closure or global function to provide a customized
default value for that property. Whenever a new instance of the type
that the property belongs to is initialized, the closure or function is
called, and its return value is assigned as the property&rsquo;s default
value.
</p>
<p>These kinds of closures or functions typically create a temporary value
of the same type as the property, tailor that value to represent the
desired initial state, and then return that temporary value to be used
as the property&rsquo;s default value.
</p>
<p>Here&rsquo;s a skeleton outline of how a closure can be used to provide a
default property value:
</p>
<div class="example">
<pre class="example">class SomeClass {
    let someProperty: SomeType = {
        // create a default value for someProperty inside this closure
        // someValue must be of the same type as SomeType
        return someValue
    }()
}
</pre></div>

<p>Note that the closure&rsquo;s end curly brace is followed by an empty pair of
parentheses. This tells Swift to execute the closure immediately. If you
omit these parentheses, you are trying to assign the closure itself to
the property, and not the return value of the closure.
</p>
<p>Note
</p>
<p>If you use a closure to initialize a property, remember that the rest of
the instance has not yet been initialized at the point that the closure
is executed. This means that you cannot access any other property values
from within your closure, even if those properties have default values.
You also cannot use the implicit &lsquo;<samp>self</samp>&rsquo; property, or call any of the
instance&rsquo;s methods.
</p>
<p>The example below defines a structure called &lsquo;<samp>Chessboard</samp>&rsquo;, which models
a board for the game of chess. Chess is played on an 8 x 8 board, with
alternating black and white squares.
</p>
<img src="images/chessBoard_2x.png" alt="images/chessBoard_2x">
<p>To represent this game board, the &lsquo;<samp>Chessboard</samp>&rsquo; structure has a single
property called &lsquo;<samp>boardColors</samp>&rsquo;, which is an array of 64 &lsquo;<samp>Bool</samp>&rsquo; values. A
value of &lsquo;<samp>true</samp>&rsquo; in the array represents a black square and a value of
&lsquo;<samp>false</samp>&rsquo; represents a white square. The first item in the array
represents the top left square on the board and the last item in the
array represents the bottom right square on the board.
</p>
<p>The &lsquo;<samp>boardColors</samp>&rsquo; array is initialized with a closure to set up its
color values:
</p>
<div class="example">
<pre class="example">struct Chessboard {
    let boardColors: [Bool] = {
        var temporaryBoard = [Bool]()
        var isBlack = false
        for i in 1...8 {
            for j in 1...8 {
                temporaryBoard.append(isBlack)
                isBlack = !isBlack
            }
            isBlack = !isBlack
        }
        return temporaryBoard
    }()
    func squareIsBlackAt(row: Int, column: Int) -&gt; Bool {
        return boardColors[(row * 8) + column]
    }
}
</pre></div>

<p>Whenever a new &lsquo;<samp>Chessboard</samp>&rsquo; instance is created, the closure is
executed, and the default value of &lsquo;<samp>boardColors</samp>&rsquo; is calculated and
returned. The closure in the example above calculates and sets the
appropriate color for each square on the board in a temporary array
called &lsquo;<samp>temporaryBoard</samp>&rsquo;, and returns this temporary array as the
closure&rsquo;s return value once its setup is complete. The returned array
value is stored in &lsquo;<samp>boardColors</samp>&rsquo; and can be queried with the
&lsquo;<samp>squareIsBlackAt(row:column:)</samp>&rsquo; utility function:
</p>
<div class="example">
<pre class="example">let board = Chessboard()
print(board.squareIsBlackAt(row: 0, column: 1))
// Prints &quot;true&quot;
print(board.squareIsBlackAt(row: 7, column: 7))
// Prints &quot;false&quot;
</pre></div>

<hr>
<span id="Deinitialization"></span><div class="header">
<p>
Next: <a href="#Optional-Chaining" accesskey="n" rel="next">Optional Chaining</a>, Previous: <a href="#Initialization" accesskey="p" rel="prev">Initialization</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Deinitialization-1"></span><h2 class="chapter">20 Deinitialization</h2>

<span id="index-deinit"></span>
<p>A <em>deinitializer</em> is called immediately before a class instance is
deallocated. You write deinitializers with the &lsquo;<samp>deinit</samp>&rsquo; keyword, similar
to how initializers are written with the &lsquo;<samp>init</samp>&rsquo; keyword. Deinitializers
are only available on class types.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#How-Deinitialization-Works" accesskey="1">How Deinitialization Works</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Deinitializers-in-Action" accesskey="2">Deinitializers in Action</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="How-Deinitialization-Works"></span><div class="header">
<p>
Next: <a href="#Deinitializers-in-Action" accesskey="n" rel="next">Deinitializers in Action</a>, Up: <a href="#Deinitialization" accesskey="u" rel="up">Deinitialization</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="How-Deinitialization-Works-1"></span><h3 class="section">20.1 How Deinitialization Works</h3>

<p>Swift automatically deallocates your instances when they are no longer
needed, to free up resources. Swift handles the memory management of
instances through <em>automatic reference counting</em> (<em>ARC</em>), as described
in <a href="#Automatic-Reference-Counting">Automatic Reference Counting</a>.
Typically you don&rsquo;t need to perform manual cleanup when your instances
are deallocated. However, when you are working with your own resources,
you might need to perform some additional cleanup yourself. For example,
if you create a custom class to open a file and write some data to it,
you might need to close the file before the class instance is
deallocated.
</p>
<p>Class definitions can have at most one deinitializer per class. The
deinitializer does not take any parameters and is written without
parentheses:
</p>
<div class="example">
<pre class="example">deinit {
 // perform the deinitialization
}
</pre></div>


<p>Deinitializers are called automatically, just before instance
deallocation takes place. You are not allowed to call a deinitializer
yourself. Superclass deinitializers are inherited by their subclasses,
and the superclass deinitializer is called automatically at the end of a
subclass deinitializer implementation. Superclass deinitializers are
always called, even if a subclass does not provide its own
deinitializer.
</p>
<p>Because an instance is not deallocated until after its deinitializer is
called, a deinitializer can access all properties of the instance it is
called on and can modify its behavior based on those properties (such as
looking up the name of a file that needs to be closed).
</p>
<hr>
<span id="Deinitializers-in-Action"></span><div class="header">
<p>
Previous: <a href="#How-Deinitialization-Works" accesskey="p" rel="prev">How Deinitialization Works</a>, Up: <a href="#Deinitialization" accesskey="u" rel="up">Deinitialization</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Deinitializers-in-Action-1"></span><h3 class="section">20.2 Deinitializers in Action</h3>

<p>Here&rsquo;s an example of a deinitializer in action. This example defines two
new types, &lsquo;<samp>Bank</samp>&rsquo; and &lsquo;<samp>Player</samp>&rsquo;, for a simple game. The &lsquo;<samp>Bank</samp>&rsquo; class
manages a made-up currency, which can never have more than 10,000 coins
in circulation. There can only ever be one &lsquo;<samp>Bank</samp>&rsquo; in the game, and so
the &lsquo;<samp>Bank</samp>&rsquo; is implemented as a class with type properties and methods to
store and manage its current state:
</p>
<div class="example">
<pre class="example">class Bank {
    static var coinsInBank = 10_000
    static func distribute(coins numberOfCoinsRequested: Int) -&gt; Int {
        let numberOfCoinsToVend = min(numberOfCoinsRequested, coinsInBank)
        coinsInBank -= numberOfCoinsToVend
        return numberOfCoinsToVend
    }
    static func receive(coins: Int) {
        coinsInBank += coins
    }
}
</pre></div>

<p>&lsquo;<samp>Bank</samp>&rsquo; keeps track of the current number of coins it holds with its
&lsquo;<samp>coinsInBank</samp>&rsquo; property. It also offers two
methods&mdash;&lsquo;<samp>distribute(coins:)</samp>&rsquo; and &lsquo;<samp>receive(coins:)</samp>&rsquo;&mdash;to handle the
distribution and collection of coins.
</p>
<p>The &lsquo;<samp>distribute(coins:)</samp>&rsquo; method checks that there are enough coins in
the bank before distributing them. If there are not enough coins, &lsquo;<samp>Bank</samp>&rsquo;
returns a smaller number than the number that was requested (and returns
zero if no coins are left in the bank). It returns an integer value to
indicate the actual number of coins that were provided.
</p>
<p>The &lsquo;<samp>receive(coins:)</samp>&rsquo; method simply adds the received number of coins
back into the bank&rsquo;s coin store.
</p>
<p>The &lsquo;<samp>Player</samp>&rsquo; class describes a player in the game. Each player has a
certain number of coins stored in their purse at any time. This is
represented by the player&rsquo;s &lsquo;<samp>coinsInPurse</samp>&rsquo; property:
</p>
<div class="example">
<pre class="example">class Player {
    var coinsInPurse: Int
    init(coins: Int) {
        coinsInPurse = Bank.distribute(coins: coins)
    }
    func win(coins: Int) {
        coinsInPurse += Bank.distribute(coins: coins)
    }
    deinit {
        Bank.receive(coins: coinsInPurse)
    }
}
</pre></div>

<p>Each &lsquo;<samp>Player</samp>&rsquo; instance is initialized with a starting allowance of a
specified number of coins from the bank during initialization, although
a &lsquo;<samp>Player</samp>&rsquo; instance may receive fewer than that number if not enough
coins are available.
</p>
<p>The &lsquo;<samp>Player</samp>&rsquo; class defines a &lsquo;<samp>win(coins:)</samp>&rsquo; method, which retrieves a
certain number of coins from the bank and adds them to the player&rsquo;s
purse. The &lsquo;<samp>Player</samp>&rsquo; class also implements a deinitializer, which is
called just before a &lsquo;<samp>Player</samp>&rsquo; instance is deallocated. Here, the
deinitializer simply returns all of the player&rsquo;s coins to the bank:
</p>
<div class="example">
<pre class="example">var playerOne: Player? = Player(coins: 100)
print(&quot;A new player has joined the game with \(playerOne!.coinsInPurse) coins&quot;)
// Prints &quot;A new player has joined the game with 100 coins&quot;
print(&quot;There are now \(Bank.coinsInBank) coins left in the bank&quot;)
// Prints &quot;There are now 9900 coins left in the bank&quot;
</pre></div>

<p>A new &lsquo;<samp>Player</samp>&rsquo; instance is created, with a request for 100 coins if they
are available. This &lsquo;<samp>Player</samp>&rsquo; instance is stored in an optional &lsquo;<samp>Player</samp>&rsquo;
variable called &lsquo;<samp>playerOne</samp>&rsquo;. An optional variable is used here, because
players can leave the game at any point. The optional lets you track
whether there is currently a player in the game.
</p>
<p>Because &lsquo;<samp>playerOne</samp>&rsquo; is an optional, it is qualified with an exclamation
mark (&lsquo;<samp>!</samp>&rsquo;) when its &lsquo;<samp>coinsInPurse</samp>&rsquo; property is accessed to print its
default number of coins, and whenever its &lsquo;<samp>win(coins:)</samp>&rsquo; method is
called:
</p>
<div class="example">
<pre class="example">playerOne!.win(coins: 2_000)
print(&quot;PlayerOne won 2000 coins &amp; now has \(playerOne!.coinsInPurse) coins&quot;)
// Prints &quot;PlayerOne won 2000 coins &amp; now has 2100 coins&quot;
print(&quot;The bank now only has \(Bank.coinsInBank) coins left&quot;)
// Prints &quot;The bank now only has 7900 coins left&quot;
</pre></div>

<p>Here, the player has won 2,000 coins. The player&rsquo;s purse now contains
2,100 coins, and the bank has only 7,900 coins left.
</p>
<div class="example">
<pre class="example">playerOne = nil
print(&quot;PlayerOne has left the game&quot;)
// Prints &quot;PlayerOne has left the game&quot;
print(&quot;The bank now has \(Bank.coinsInBank) coins&quot;)
// Prints &quot;The bank now has 10000 coins&quot;
</pre></div>

<p>The player has now left the game. This is indicated by setting the
optional &lsquo;<samp>playerOne</samp>&rsquo; variable to &lsquo;<samp>nil</samp>&rsquo;, meaning “no &lsquo;<samp>Player</samp>&rsquo; instance.”
At the point that this happens, the &lsquo;<samp>playerOne</samp>&rsquo; variable&rsquo;s reference to
the &lsquo;<samp>Player</samp>&rsquo; instance is broken. No other properties or variables are
still referring to the &lsquo;<samp>Player</samp>&rsquo; instance, and so it is deallocated in
order to free up its memory. Just before this happens, its deinitializer
is called automatically, and its coins are returned to the bank.
</p>
<hr>
<span id="Optional-Chaining"></span><div class="header">
<p>
Next: <a href="#Error-Handling-2" accesskey="n" rel="next">Error Handling 2</a>, Previous: <a href="#Deinitialization" accesskey="p" rel="prev">Deinitialization</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Optional-Chaining-1"></span><h2 class="chapter">21 Optional Chaining</h2>

<p><em>Optional chaining</em> is a process for querying and calling properties,
methods, and subscripts on an optional that might currently be &lsquo;<samp>nil</samp>&rsquo;. If
the optional contains a value, the property, method, or subscript call
succeeds; if the optional is &lsquo;<samp>nil</samp>&rsquo;, the property, method, or subscript
call returns &lsquo;<samp>nil</samp>&rsquo;. Multiple queries can be chained together, and the
entire chain fails gracefully if any link in the chain is &lsquo;<samp>nil</samp>&rsquo;.
</p>
<p>Note
</p>
<p>Optional chaining in Swift is similar to messaging &lsquo;<samp>nil</samp>&rsquo; in Objective-C,
but in a way that works for any type, and that can be checked for
success or failure.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Optional-Chaining-as-an-Alternative-to-Forced-Unwrapping" accesskey="1">Optional Chaining as an Alternative to Forced Unwrapping</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Defining-Model-Classes-for-Optional-Chaining" accesskey="2">Defining Model Classes for Optional Chaining</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Accessing-Properties-Through-Optional-Chaining" accesskey="3">Accessing Properties Through Optional Chaining</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Calling-Methods-Through-Optional-Chaining" accesskey="4">Calling Methods Through Optional Chaining</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Accessing-Subscripts-Through-Optional-Chaining" accesskey="5">Accessing Subscripts Through Optional Chaining</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Linking-Multiple-Levels-of-Chaining" accesskey="6">Linking Multiple Levels of Chaining</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Chaining-on-Methods-with-Optional-Return-Values" accesskey="7">Chaining on Methods with Optional Return Values</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Optional-Chaining-as-an-Alternative-to-Forced-Unwrapping"></span><div class="header">
<p>
Next: <a href="#Defining-Model-Classes-for-Optional-Chaining" accesskey="n" rel="next">Defining Model Classes for Optional Chaining</a>, Up: <a href="#Optional-Chaining" accesskey="u" rel="up">Optional Chaining</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Optional-Chaining-as-an-Alternative-to-Forced-Unwrapping-1"></span><h3 class="section">21.1 Optional Chaining as an Alternative to Forced Unwrapping</h3>

<p>You specify optional chaining by placing a question mark (&lsquo;<samp>?</samp>&rsquo;) after the
optional value on which you wish to call a property, method or subscript
if the optional is non-&lsquo;<samp>nil</samp>&rsquo;. This is very similar to placing an
exclamation mark (&lsquo;<samp>!</samp>&rsquo;) after an optional value to force the unwrapping
of its value. The main difference is that optional chaining fails
gracefully when the optional is &lsquo;<samp>nil</samp>&rsquo;, whereas forced unwrapping
triggers a runtime error when the optional is &lsquo;<samp>nil</samp>&rsquo;.
</p>
<p>To reflect the fact that optional chaining can be called on a &lsquo;<samp>nil</samp>&rsquo;
value, the result of an optional chaining call is always an optional
value, even if the property, method, or subscript you are querying
returns a non-optional value. You can use this optional return value to
check whether the optional chaining call was successful (the returned
optional contains a value), or did not succeed due to a &lsquo;<samp>nil</samp>&rsquo; value in
the chain (the returned optional value is &lsquo;<samp>nil</samp>&rsquo;).
</p>
<p>Specifically, the result of an optional chaining call is of the same
type as the expected return value, but wrapped in an optional. A
property that normally returns an &lsquo;<samp>Int</samp>&rsquo; will return an &lsquo;<samp>Int?</samp>&rsquo; when
accessed through optional chaining.
</p>
<p>The next several code snippets demonstrate how optional chaining differs
from forced unwrapping and enables you to check for success.
</p>
<p>First, two classes called &lsquo;<samp>Person</samp>&rsquo; and &lsquo;<samp>Residence</samp>&rsquo; are defined:
</p>
<div class="example">
<pre class="example">class Person {
    var residence: Residence?
}

class Residence {
    var numberOfRooms = 1
}
</pre></div>

<p>&lsquo;<samp>Residence</samp>&rsquo; instances have a single &lsquo;<samp>Int</samp>&rsquo; property called
&lsquo;<samp>numberOfRooms</samp>&rsquo;, with a default value of &lsquo;<samp>1</samp>&rsquo;. &lsquo;<samp>Person</samp>&rsquo; instances have an
optional &lsquo;<samp>residence</samp>&rsquo; property of type &lsquo;<samp>Residence?</samp>&rsquo;.
</p>
<p>If you create a new &lsquo;<samp>Person</samp>&rsquo; instance, its &lsquo;<samp>residence</samp>&rsquo; property is
default initialized to &lsquo;<samp>nil</samp>&rsquo;, by virtue of being optional. In the code
below, &lsquo;<samp>john</samp>&rsquo; has a &lsquo;<samp>residence</samp>&rsquo; property value of &lsquo;<samp>nil</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">let john = Person()
</pre></div>

<p>If you try to access the &lsquo;<samp>numberOfRooms</samp>&rsquo; property of this person&rsquo;s
&lsquo;<samp>residence</samp>&rsquo;, by placing an exclamation mark after &lsquo;<samp>residence</samp>&rsquo; to force
the unwrapping of its value, you trigger a runtime error, because there
is no &lsquo;<samp>residence</samp>&rsquo; value to unwrap:
</p>
<div class="example">
<pre class="example">let roomCount = john.residence!.numberOfRooms
// this triggers a runtime error
</pre></div>

<p>The code above succeeds when &lsquo;<samp>john.residence</samp>&rsquo; has a non-&lsquo;<samp>nil</samp>&rsquo; value and
will set &lsquo;<samp>roomCount</samp>&rsquo; to an &lsquo;<samp>Int</samp>&rsquo; value containing the appropriate number
of rooms. However, this code always triggers a runtime error when
&lsquo;<samp>residence</samp>&rsquo; is &lsquo;<samp>nil</samp>&rsquo;, as illustrated above.
</p>
<p>Optional chaining provides an alternative way to access the value of
&lsquo;<samp>numberOfRooms</samp>&rsquo;. To use optional chaining, use a question mark in place
of the exclamation mark:
</p>
<div class="example">
<pre class="example">if let roomCount = john.residence?.numberOfRooms {
    print(&quot;John's residence has \(roomCount) room(s).&quot;)
} else {
    print(&quot;Unable to retrieve the number of rooms.&quot;)
}
// Prints &quot;Unable to retrieve the number of rooms.&quot;
</pre></div>

<p>This tells Swift to “chain” on the optional &lsquo;<samp>residence</samp>&rsquo; property and to
retrieve the value of &lsquo;<samp>numberOfRooms</samp>&rsquo; if &lsquo;<samp>residence</samp>&rsquo; exists.
</p>
<p>Because the attempt to access &lsquo;<samp>numberOfRooms</samp>&rsquo; has the potential to fail,
the optional chaining attempt returns a value of type &lsquo;<samp>Int?</samp>&rsquo;, or
“optional &lsquo;<samp>Int=”. When =residence</samp>&rsquo; is &lsquo;<samp>nil</samp>&rsquo;, as in the example above,
this optional &lsquo;<samp>Int</samp>&rsquo; will also be &lsquo;<samp>nil</samp>&rsquo;, to reflect the fact that it was
not possible to access &lsquo;<samp>numberOfRooms</samp>&rsquo;. The optional &lsquo;<samp>Int</samp>&rsquo; is accessed
through optional binding to unwrap the integer and assign the
non-optional value to the &lsquo;<samp>roomCount</samp>&rsquo; variable.
</p>
<p>Note that this is true even though &lsquo;<samp>numberOfRooms</samp>&rsquo; is a non-optional
&lsquo;<samp>Int</samp>&rsquo;. The fact that it is queried through an optional chain means that
the call to &lsquo;<samp>numberOfRooms</samp>&rsquo; will always return an &lsquo;<samp>Int?</samp>&rsquo; instead of an
&lsquo;<samp>Int</samp>&rsquo;.
</p>
<p>You can assign a &lsquo;<samp>Residence</samp>&rsquo; instance to &lsquo;<samp>john.residence</samp>&rsquo;, so that it no
longer has a &lsquo;<samp>nil</samp>&rsquo; value:
</p>
<div class="example">
<pre class="example">john.residence = Residence()
</pre></div>

<p>&lsquo;<samp>john.residence</samp>&rsquo; now contains an actual &lsquo;<samp>Residence</samp>&rsquo; instance, rather
than &lsquo;<samp>nil</samp>&rsquo;. If you try to access &lsquo;<samp>numberOfRooms</samp>&rsquo; with the same optional
chaining as before, it will now return an &lsquo;<samp>Int?</samp>&rsquo; that contains the
default &lsquo;<samp>numberOfRooms</samp>&rsquo; value of &lsquo;<samp>1</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">if let roomCount = john.residence?.numberOfRooms {
    print(&quot;John's residence has \(roomCount) room(s).&quot;)
} else {
    print(&quot;Unable to retrieve the number of rooms.&quot;)
}
// Prints &quot;John's residence has 1 room(s).&quot;
</pre></div>

<hr>
<span id="Defining-Model-Classes-for-Optional-Chaining"></span><div class="header">
<p>
Next: <a href="#Accessing-Properties-Through-Optional-Chaining" accesskey="n" rel="next">Accessing Properties Through Optional Chaining</a>, Previous: <a href="#Optional-Chaining-as-an-Alternative-to-Forced-Unwrapping" accesskey="p" rel="prev">Optional Chaining as an Alternative to Forced Unwrapping</a>, Up: <a href="#Optional-Chaining" accesskey="u" rel="up">Optional Chaining</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Defining-Model-Classes-for-Optional-Chaining-1"></span><h3 class="section">21.2 Defining Model Classes for Optional Chaining</h3>

<p>You can use optional chaining with calls to properties, methods, and
subscripts that are more than one level deep. This enables you to drill
down into subproperties within complex models of interrelated types, and
to check whether it is possible to access properties, methods, and
subscripts on those subproperties.
</p>
<p>The code snippets below define four model classes for use in several
subsequent examples, including examples of multilevel optional chaining.
These classes expand upon the &lsquo;<samp>Person</samp>&rsquo; and &lsquo;<samp>Residence</samp>&rsquo; model from above
by adding a &lsquo;<samp>Room</samp>&rsquo; and &lsquo;<samp>Address</samp>&rsquo; class, with associated properties,
methods, and subscripts.
</p>
<p>The &lsquo;<samp>Person</samp>&rsquo; class is defined in the same way as before:
</p>
<div class="example">
<pre class="example">class Person {
    var residence: Residence?
}
</pre></div>

<p>The &lsquo;<samp>Residence</samp>&rsquo; class is more complex than before. This time, the
&lsquo;<samp>Residence</samp>&rsquo; class defines a variable property called &lsquo;<samp>rooms</samp>&rsquo;, which is
initialized with an empty array of type &lsquo;<samp>[Room]</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">class Residence {
    var rooms = [Room]()
    var numberOfRooms: Int {
        return rooms.count
    }
    subscript(i: Int) -&gt; Room {
        get {
            return rooms[i]
        }
        set {
            rooms[i] = newValue
        }
    }
    func printNumberOfRooms() {
        print(&quot;The number of rooms is \(numberOfRooms)&quot;)
    }
    var address: Address?
}
</pre></div>

<p>Because this version of &lsquo;<samp>Residence</samp>&rsquo; stores an array of &lsquo;<samp>Room</samp>&rsquo; instances,
its &lsquo;<samp>numberOfRooms</samp>&rsquo; property is implemented as a computed property, not
a stored property. The computed &lsquo;<samp>numberOfRooms</samp>&rsquo; property simply returns
the value of the &lsquo;<samp>count</samp>&rsquo; property from the &lsquo;<samp>rooms</samp>&rsquo; array.
</p>
<p>As a shortcut to accessing its &lsquo;<samp>rooms</samp>&rsquo; array, this version of
&lsquo;<samp>Residence</samp>&rsquo; provides a read-write subscript that provides access to the
room at the requested index in the &lsquo;<samp>rooms</samp>&rsquo; array.
</p>
<p>This version of &lsquo;<samp>Residence</samp>&rsquo; also provides a method called
&lsquo;<samp>printNumberOfRooms</samp>&rsquo;, which simply prints the number of rooms in the
residence.
</p>
<p>Finally, &lsquo;<samp>Residence</samp>&rsquo; defines an optional property called &lsquo;<samp>address</samp>&rsquo;, with
a type of &lsquo;<samp>Address?</samp>&rsquo;. The &lsquo;<samp>Address</samp>&rsquo; class type for this property is
defined below.
</p>
<p>The &lsquo;<samp>Room</samp>&rsquo; class used for the &lsquo;<samp>rooms</samp>&rsquo; array is a simple class with one
property called &lsquo;<samp>name</samp>&rsquo;, and an initializer to set that property to a
suitable room name:
</p>
<div class="example">
<pre class="example">class Room {
    let name: String
    init(name: String) { self.name = name }
}
</pre></div>

<p>The final class in this model is called &lsquo;<samp>Address</samp>&rsquo;. This class has three
optional properties of type &lsquo;<samp>String?</samp>&rsquo;. The first two properties,
&lsquo;<samp>buildingName</samp>&rsquo; and &lsquo;<samp>buildingNumber</samp>&rsquo;, are alternative ways to identify a
particular building as part of an address. The third property, &lsquo;<samp>street</samp>&rsquo;,
is used to name the street for that address:
</p>
<div class="example">
<pre class="example">class Address {
    var buildingName: String?
    var buildingNumber: String?
    var street: String?
    func buildingIdentifier() -&gt; String? {
        if let buildingNumber = buildingNumber, let street = street {
            return &quot;\(buildingNumber) \(street)&quot;
        } else if buildingName != nil {
            return buildingName
        } else {
            return nil
        }
    }
}
</pre></div>

<p>The &lsquo;<samp>Address</samp>&rsquo; class also provides a method called
&lsquo;<samp>buildingIdentifier()</samp>&rsquo;, which has a return type of &lsquo;<samp>String?</samp>&rsquo;. This
method checks the properties of the address and returns &lsquo;<samp>buildingName</samp>&rsquo;
if it has a value, or &lsquo;<samp>buildingNumber</samp>&rsquo; concatenated with &lsquo;<samp>street</samp>&rsquo; if
both have values, or &lsquo;<samp>nil</samp>&rsquo; otherwise.
</p>
<hr>
<span id="Accessing-Properties-Through-Optional-Chaining"></span><div class="header">
<p>
Next: <a href="#Calling-Methods-Through-Optional-Chaining" accesskey="n" rel="next">Calling Methods Through Optional Chaining</a>, Previous: <a href="#Defining-Model-Classes-for-Optional-Chaining" accesskey="p" rel="prev">Defining Model Classes for Optional Chaining</a>, Up: <a href="#Optional-Chaining" accesskey="u" rel="up">Optional Chaining</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Accessing-Properties-Through-Optional-Chaining-1"></span><h3 class="section">21.3 Accessing Properties Through Optional Chaining</h3>

<p>As demonstrated in <a href="#Optional-Chaining-as-an-Alternative-to-Forced-Unwrapping">Optional Chaining as
an Alternative to Forced Unwrapping</a>, you can use optional chaining to
access a property on an optional value, and to check if that property
access is successful.
</p>
<p>Use the classes defined above to create a new &lsquo;<samp>Person</samp>&rsquo; instance, and try
to access its &lsquo;<samp>numberOfRooms</samp>&rsquo; property as before:
</p>
<div class="example">
<pre class="example">let john = Person()
if let roomCount = john.residence?.numberOfRooms {
    print(&quot;John's residence has \(roomCount) room(s).&quot;)
} else {
    print(&quot;Unable to retrieve the number of rooms.&quot;)
}
// Prints &quot;Unable to retrieve the number of rooms.&quot;
</pre></div>

<p>Because &lsquo;<samp>john.residence</samp>&rsquo; is &lsquo;<samp>nil</samp>&rsquo;, this optional chaining call fails in
the same way as before.
</p>
<p>You can also attempt to set a property&rsquo;s value through optional
chaining:
</p>
<div class="example">
<pre class="example">let someAddress = Address()
someAddress.buildingNumber = &quot;29&quot;
someAddress.street = &quot;Acacia Road&quot;
john.residence?.address = someAddress
</pre></div>

<p>In this example, the attempt to set the &lsquo;<samp>address</samp>&rsquo; property of
&lsquo;<samp>john.residence</samp>&rsquo; will fail, because &lsquo;<samp>john.residence</samp>&rsquo; is currently &lsquo;<samp>nil</samp>&rsquo;.
</p>
<p>The assignment is part of the optional chaining, which means none of the
code on the right-hand side of the &lsquo;<samp>=</samp>&rsquo; operator is evaluated. In the
previous example, it&rsquo;s not easy to see that &lsquo;<samp>someAddress</samp>&rsquo; is never
evaluated, because accessing a constant doesn&rsquo;t have any side effects.
The listing below does the same assignment, but it uses a function to
create the address. The function prints “Function was called” before
returning a value, which lets you see whether the right-hand side of the
&lsquo;<samp>=</samp>&rsquo; operator was evaluated.
</p>
<div class="example">
<pre class="example">func createAddress() -&gt; Address {
    print(&quot;Function was called.&quot;)

    let someAddress = Address()
    someAddress.buildingNumber = &quot;29&quot;
    someAddress.street = &quot;Acacia Road&quot;

    return someAddress
}
john.residence?.address = createAddress()
</pre></div>

<p>You can tell that the &lsquo;<samp>createAddress()</samp>&rsquo; function isn&rsquo;t called, because
nothing is printed.
</p>
<hr>
<span id="Calling-Methods-Through-Optional-Chaining"></span><div class="header">
<p>
Next: <a href="#Accessing-Subscripts-Through-Optional-Chaining" accesskey="n" rel="next">Accessing Subscripts Through Optional Chaining</a>, Previous: <a href="#Accessing-Properties-Through-Optional-Chaining" accesskey="p" rel="prev">Accessing Properties Through Optional Chaining</a>, Up: <a href="#Optional-Chaining" accesskey="u" rel="up">Optional Chaining</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Calling-Methods-Through-Optional-Chaining-1"></span><h3 class="section">21.4 Calling Methods Through Optional Chaining</h3>

<p>You can use optional chaining to call a method on an optional value, and
to check whether that method call is successful. You can do this even if
that method does not define a return value.
</p>
<p>The &lsquo;<samp>printNumberOfRooms()</samp>&rsquo; method on the &lsquo;<samp>Residence</samp>&rsquo; class prints the
current value of &lsquo;<samp>numberOfRooms</samp>&rsquo;. Here&rsquo;s how the method looks:
</p>
<div class="example">
<pre class="example">func printNumberOfRooms() {
    print(&quot;The number of rooms is \(numberOfRooms)&quot;)
}
</pre></div>

<p>This method does not specify a return type. However, functions and
methods with no return type have an implicit return type of &lsquo;<samp>Void</samp>&rsquo;, as
described in <a href="#Functions-Without-Return-Values">Functions Without Return
Values</a>. This means that they return a value of &lsquo;<samp>()</samp>&rsquo;, or an empty
tuple.
</p>
<p>If you call this method on an optional value with optional chaining, the
method&rsquo;s return type will be &lsquo;<samp>Void?</samp>&rsquo;, not &lsquo;<samp>Void</samp>&rsquo;, because return values
are always of an optional type when called through optional chaining.
This enables you to use an &lsquo;<samp>if</samp>&rsquo; statement to check whether it was
possible to call the &lsquo;<samp>printNumberOfRooms()</samp>&rsquo; method, even though the
method does not itself define a return value. Compare the return value
from the &lsquo;<samp>printNumberOfRooms</samp>&rsquo; call against &lsquo;<samp>nil</samp>&rsquo; to see if the method
call was successful:
</p>
<div class="example">
<pre class="example">if john.residence?.printNumberOfRooms() != nil {
    print(&quot;It was possible to print the number of rooms.&quot;)
} else {
    print(&quot;It was not possible to print the number of rooms.&quot;)
}
// Prints &quot;It was not possible to print the number of rooms.&quot;
</pre></div>

<p>The same is true if you attempt to set a property through optional
chaining. The example above in
<a href="#Accessing-Properties-Through-Optional-Chaining">Accessing Properties Through Optional
Chaining</a> attempts to set an &lsquo;<samp>address</samp>&rsquo; value for &lsquo;<samp>john.residence</samp>&rsquo;, even
though the &lsquo;<samp>residence</samp>&rsquo; property is &lsquo;<samp>nil</samp>&rsquo;. Any attempt to set a property
through optional chaining returns a value of type &lsquo;<samp>Void?</samp>&rsquo;, which enables
you to compare against &lsquo;<samp>nil</samp>&rsquo; to see if the property was set
successfully:
</p>
<div class="example">
<pre class="example">if (john.residence?.address = someAddress) != nil {
    print(&quot;It was possible to set the address.&quot;)
} else {
    print(&quot;It was not possible to set the address.&quot;)
}
// Prints &quot;It was not possible to set the address.&quot;
</pre></div>

<hr>
<span id="Accessing-Subscripts-Through-Optional-Chaining"></span><div class="header">
<p>
Next: <a href="#Linking-Multiple-Levels-of-Chaining" accesskey="n" rel="next">Linking Multiple Levels of Chaining</a>, Previous: <a href="#Calling-Methods-Through-Optional-Chaining" accesskey="p" rel="prev">Calling Methods Through Optional Chaining</a>, Up: <a href="#Optional-Chaining" accesskey="u" rel="up">Optional Chaining</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Accessing-Subscripts-Through-Optional-Chaining-1"></span><h3 class="section">21.5 Accessing Subscripts Through Optional Chaining</h3>

<p>You can use optional chaining to try to retrieve and set a value from a
subscript on an optional value, and to check whether that subscript call
is successful.
</p>
<p>Note
</p>
<p>When you access a subscript on an optional value through optional
chaining, you place the question mark <em>before</em> the subscript&rsquo;s brackets,
not after. The optional chaining question mark always follows
immediately after the part of the expression that is optional.
</p>
<p>The example below tries to retrieve the name of the first room in the
&lsquo;<samp>rooms</samp>&rsquo; array of the &lsquo;<samp>john.residence</samp>&rsquo; property using the subscript
defined on the &lsquo;<samp>Residence</samp>&rsquo; class. Because &lsquo;<samp>john.residence</samp>&rsquo; is currently
&lsquo;<samp>nil</samp>&rsquo;, the subscript call fails:
</p>
<div class="example">
<pre class="example">if let firstRoomName = john.residence?[0].name {
    print(&quot;The first room name is \(firstRoomName).&quot;)
} else {
    print(&quot;Unable to retrieve the first room name.&quot;)
}
// Prints &quot;Unable to retrieve the first room name.&quot;
</pre></div>

<p>The optional chaining question mark in this subscript call is placed
immediately after &lsquo;<samp>john.residence</samp>&rsquo;, before the subscript brackets,
because &lsquo;<samp>john.residence</samp>&rsquo; is the optional value on which optional
chaining is being attempted.
</p>
<p>Similarly, you can try to set a new value through a subscript with
optional chaining:
</p>
<div class="example">
<pre class="example">john.residence?[0] = Room(name: &quot;Bathroom&quot;)
</pre></div>

<p>This subscript setting attempt also fails, because &lsquo;<samp>residence</samp>&rsquo; is
currently &lsquo;<samp>nil</samp>&rsquo;.
</p>
<p>If you create and assign an actual &lsquo;<samp>Residence</samp>&rsquo; instance to
&lsquo;<samp>john.residence</samp>&rsquo;, with one or more &lsquo;<samp>Room</samp>&rsquo; instances in its &lsquo;<samp>rooms</samp>&rsquo;
array, you can use the &lsquo;<samp>Residence</samp>&rsquo; subscript to access the actual items
in the &lsquo;<samp>rooms</samp>&rsquo; array through optional chaining:
</p>
<div class="example">
<pre class="example">let johnsHouse = Residence()
johnsHouse.rooms.append(Room(name: &quot;Living Room&quot;))
johnsHouse.rooms.append(Room(name: &quot;Kitchen&quot;))
john.residence = johnsHouse

if let firstRoomName = john.residence?[0].name {
    print(&quot;The first room name is \(firstRoomName).&quot;)
} else {
    print(&quot;Unable to retrieve the first room name.&quot;)
}
// Prints &quot;The first room name is Living Room.&quot;
</pre></div>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Accessing-Subscripts-of-Optional-Type" accesskey="1">Accessing Subscripts of Optional Type</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Accessing-Subscripts-of-Optional-Type"></span><div class="header">
<p>
Up: <a href="#Accessing-Subscripts-Through-Optional-Chaining" accesskey="u" rel="up">Accessing Subscripts Through Optional Chaining</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Accessing-Subscripts-of-Optional-Type-1"></span><h4 class="subsection">21.5.1 Accessing Subscripts of Optional Type</h4>

<p>If a subscript returns a value of optional type&mdash;such as the key
subscript of Swift&rsquo;s &lsquo;<samp>Dictionary</samp>&rsquo; type&mdash;place a question mark <em>after</em>
the subscript&rsquo;s closing bracket to chain on its optional return value:
</p>
<div class="example">
<pre class="example">var testScores = [&quot;Dave&quot;: [86, 82, 84], &quot;Bev&quot;: [79, 94, 81]]
testScores[&quot;Dave&quot;]?[0] = 91
testScores[&quot;Bev&quot;]?[0] += 1
testScores[&quot;Brian&quot;]?[0] = 72
// the &quot;Dave&quot; array is now [91, 82, 84] and the &quot;Bev&quot; array is now [80, 94, 81]
</pre></div>

<p>The example above defines a dictionary called &lsquo;<samp>testScores</samp>&rsquo;, which
contains two key-value pairs that map a &lsquo;<samp>String</samp>&rsquo; key to an array of
&lsquo;<samp>Int</samp>&rsquo; values. The example uses optional chaining to set the first item
in the &lsquo;<samp>&quot;Dave&quot;</samp>&rsquo; array to &lsquo;<samp>91</samp>&rsquo;; to increment the first item in the
&lsquo;<samp>&quot;Bev&quot;</samp>&rsquo; array by &lsquo;<samp>1</samp>&rsquo;; and to try to set the first item in an array for a
key of &lsquo;<samp>&quot;Brian&quot;</samp>&rsquo;. The first two calls succeed, because the &lsquo;<samp>testScores</samp>&rsquo;
dictionary contains keys for &lsquo;<samp>&quot;Dave&quot;</samp>&rsquo; and &lsquo;<samp>&quot;Bev&quot;</samp>&rsquo;. The third call fails,
because the &lsquo;<samp>testScores</samp>&rsquo; dictionary does not contain a key for
&lsquo;<samp>&quot;Brian&quot;</samp>&rsquo;.
</p>
<hr>
<span id="Linking-Multiple-Levels-of-Chaining"></span><div class="header">
<p>
Next: <a href="#Chaining-on-Methods-with-Optional-Return-Values" accesskey="n" rel="next">Chaining on Methods with Optional Return Values</a>, Previous: <a href="#Accessing-Subscripts-Through-Optional-Chaining" accesskey="p" rel="prev">Accessing Subscripts Through Optional Chaining</a>, Up: <a href="#Optional-Chaining" accesskey="u" rel="up">Optional Chaining</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Linking-Multiple-Levels-of-Chaining-1"></span><h3 class="section">21.6 Linking Multiple Levels of Chaining</h3>

<p>You can link together multiple levels of optional chaining to drill down
to properties, methods, and subscripts deeper within a model. However,
multiple levels of optional chaining do not add more levels of
optionality to the returned value.
</p>
<p>To put it another way:
</p>
<ul>
<li> If the type you are trying to retrieve is not optional, it will become
optional because of the optional chaining.

</li><li> If the type you are trying to retrieve is <em>already</em> optional, it will
not become <em>more</em> optional because of the chaining.
</li></ul>

<p>Therefore:
</p>
<ul>
<li> If you try to retrieve an &lsquo;<samp>Int</samp>&rsquo; value through optional chaining, an
&lsquo;<samp>Int?</samp>&rsquo; is always returned, no matter how many levels of chaining are
used.

</li><li> Similarly, if you try to retrieve an &lsquo;<samp>Int?</samp>&rsquo; value through optional
chaining, an &lsquo;<samp>Int?</samp>&rsquo; is always returned, no matter how many levels of
chaining are used.
</li></ul>

<p>The example below tries to access the &lsquo;<samp>street</samp>&rsquo; property of the &lsquo;<samp>address</samp>&rsquo;
property of the &lsquo;<samp>residence</samp>&rsquo; property of &lsquo;<samp>john</samp>&rsquo;. There are <em>two</em> levels
of optional chaining in use here, to chain through the &lsquo;<samp>residence</samp>&rsquo; and
&lsquo;<samp>address</samp>&rsquo; properties, both of which are of optional type:
</p>
<div class="example">
<pre class="example">if let johnsStreet = john.residence?.address?.street {
    print(&quot;John's street name is \(johnsStreet).&quot;)
} else {
    print(&quot;Unable to retrieve the address.&quot;)
}
// Prints &quot;Unable to retrieve the address.&quot;
</pre></div>

<p>The value of &lsquo;<samp>john.residence</samp>&rsquo; currently contains a valid &lsquo;<samp>Residence</samp>&rsquo;
instance. However, the value of &lsquo;<samp>john.residence.address</samp>&rsquo; is currently
&lsquo;<samp>nil</samp>&rsquo;. Because of this, the call to &lsquo;<samp>john.residence?.address?.street</samp>&rsquo;
fails.
</p>
<p>Note that in the example above, you are trying to retrieve the value of
the &lsquo;<samp>street</samp>&rsquo; property. The type of this property is &lsquo;<samp>String?</samp>&rsquo;. The
return value of &lsquo;<samp>john.residence?.address?.street</samp>&rsquo; is therefore also
&lsquo;<samp>String?</samp>&rsquo;, even though two levels of optional chaining are applied in
addition to the underlying optional type of the property.
</p>
<p>If you set an actual &lsquo;<samp>Address</samp>&rsquo; instance as the value for
&lsquo;<samp>john.residence.address</samp>&rsquo;, and set an actual value for the address&rsquo;s
&lsquo;<samp>street</samp>&rsquo; property, you can access the value of the &lsquo;<samp>street</samp>&rsquo; property
through multilevel optional chaining:
</p>
<div class="example">
<pre class="example">let johnsAddress = Address()
johnsAddress.buildingName = &quot;The Larches&quot;
johnsAddress.street = &quot;Laurel Street&quot;
john.residence?.address = johnsAddress

if let johnsStreet = john.residence?.address?.street {
    print(&quot;John's street name is \(johnsStreet).&quot;)
} else {
    print(&quot;Unable to retrieve the address.&quot;)
}
// Prints &quot;John's street name is Laurel Street.&quot;
</pre></div>

<p>In this example, the attempt to set the &lsquo;<samp>address</samp>&rsquo; property of
&lsquo;<samp>john.residence</samp>&rsquo; will succeed, because the value of &lsquo;<samp>john.residence</samp>&rsquo;
currently contains a valid &lsquo;<samp>Residence</samp>&rsquo; instance.
</p>
<hr>
<span id="Chaining-on-Methods-with-Optional-Return-Values"></span><div class="header">
<p>
Previous: <a href="#Linking-Multiple-Levels-of-Chaining" accesskey="p" rel="prev">Linking Multiple Levels of Chaining</a>, Up: <a href="#Optional-Chaining" accesskey="u" rel="up">Optional Chaining</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Chaining-on-Methods-with-Optional-Return-Values-1"></span><h3 class="section">21.7 Chaining on Methods with Optional Return Values</h3>

<p>The previous example shows how to retrieve the value of a property of
optional type through optional chaining. You can also use optional
chaining to call a method that returns a value of optional type, and to
chain on that method&rsquo;s return value if needed.
</p>
<p>The example below calls the &lsquo;<samp>Address</samp>&rsquo; class&rsquo;s &lsquo;<samp>buildingIdentifier()</samp>&rsquo;
method through optional chaining. This method returns a value of type
&lsquo;<samp>String?</samp>&rsquo;. As described above, the ultimate return type of this method
call after optional chaining is also &lsquo;<samp>String?</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">if let buildingIdentifier = john.residence?.address?.buildingIdentifier() {
    print(&quot;John's building identifier is \(buildingIdentifier).&quot;)
}
// Prints &quot;John's building identifier is The Larches.&quot;
</pre></div>

<p>If you want to perform further optional chaining on this method&rsquo;s return
value, place the optional chaining question mark <em>after</em> the method&rsquo;s
parentheses:
</p>
<div class="example">
<pre class="example">if let beginsWithThe =
     john.residence?.address?.buildingIdentifier()?.hasPrefix(&quot;The&quot;) {
    if beginsWithThe {
        print(&quot;John's building identifier begins with \&quot;The\&quot;.&quot;)
    } else {
        print(&quot;John's building identifier does not begin with \&quot;The\&quot;.&quot;)
    }
}
// Prints &quot;John's building identifier begins with &quot;The&quot;.&quot;
</pre></div>

<p>Note
</p>
<p>In the example above, you place the optional chaining question mark
<em>after</em> the parentheses, because the optional value you are chaining on
is the &lsquo;<samp>buildingIdentifier()</samp>&rsquo; method&rsquo;s return value, and not the
&lsquo;<samp>buildingIdentifier()</samp>&rsquo; method itself.
</p>
<hr>
<span id="Error-Handling-2"></span><div class="header">
<p>
Next: <a href="#Type-Casting" accesskey="n" rel="next">Type Casting</a>, Previous: <a href="#Optional-Chaining" accesskey="p" rel="prev">Optional Chaining</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Error-Handling-5"></span><h2 class="chapter">22 Error Handling</h2>

<p><em>Error handling</em> is the process of responding to and recovering from
error conditions in your program. Swift provides first-class support for
throwing, catching, propagating, and manipulating recoverable errors at
runtime.
</p>
<p>Some operations aren&rsquo;t guaranteed to always complete execution or
produce a useful output. Optionals are used to represent the absence of
a value, but when an operation fails, it&rsquo;s often useful to understand
what caused the failure, so that your code can respond accordingly.
</p>
<p>As an example, consider the task of reading and processing data from a
file on disk. There are a number of ways this task can fail, including
the file not existing at the specified path, the file not having read
permissions, or the file not being encoded in a compatible format.
Distinguishing among these different situations allows a program to
resolve some errors and to communicate to the user any errors it can&rsquo;t
resolve.
</p>
<p>Note
</p>
<p>Error handling in Swift interoperates with error handling patterns that
use the &lsquo;<samp>NSError</samp>&rsquo; class in Cocoa and Objective-C. For more information
about this class, see
<a href="https://developer.apple.com/documentation/swift/cocoa_design_patterns/handling_cocoa_errors_in_swift">Handling
Cocoa Errors in Swift</a>
[<a href="https://developer.apple.com/documentation/swift/cocoa_design_patterns/handling_cocoa_errors_in_swift">https://developer.apple.com/documentation/swift/cocoa_design_patterns/handling_cocoa_errors_in_swift</a>].
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Representing-and-Throwing-Errors" accesskey="1">Representing and Throwing Errors</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Handling-Errors" accesskey="2">Handling Errors</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Specifying-Cleanup-Actions" accesskey="3">Specifying Cleanup Actions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Representing-and-Throwing-Errors"></span><div class="header">
<p>
Next: <a href="#Handling-Errors" accesskey="n" rel="next">Handling Errors</a>, Up: <a href="#Error-Handling-2" accesskey="u" rel="up">Error Handling 2</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Representing-and-Throwing-Errors-1"></span><h3 class="section">22.1 Representing and Throwing Errors</h3>

<p>In Swift, errors are represented by values of types that conform to the
&lsquo;<samp>Error</samp>&rsquo; protocol. This empty protocol indicates that a type can be used
for error handling.
</p>
<p>Swift enumerations are particularly well suited to modeling a group of
related error conditions, with associated values allowing for additional
information about the nature of an error to be communicated. For
example, here&rsquo;s how you might represent the error conditions of
operating a vending machine inside a game:
</p>
<div class="example">
<pre class="example">enum VendingMachineError: Error {
    case invalidSelection
    case insufficientFunds(coinsNeeded: Int)
    case outOfStock
}
</pre></div>

<span id="index-throw"></span>

<p>Throwing an error lets you indicate that something unexpected happened
and the normal flow of execution can&rsquo;t continue. You use a &lsquo;<samp>throw</samp>&rsquo;
statement to throw an error. For example, the following code throws an
error to indicate that five additional coins are needed by the vending
machine:
</p>
<div class="example">
<pre class="example">throw VendingMachineError.insufficientFunds(coinsNeeded: 5)
</pre></div>

<hr>
<span id="Handling-Errors"></span><div class="header">
<p>
Next: <a href="#Specifying-Cleanup-Actions" accesskey="n" rel="next">Specifying Cleanup Actions</a>, Previous: <a href="#Representing-and-Throwing-Errors" accesskey="p" rel="prev">Representing and Throwing Errors</a>, Up: <a href="#Error-Handling-2" accesskey="u" rel="up">Error Handling 2</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Handling-Errors-1"></span><h3 class="section">22.2 Handling Errors</h3>

<p>When an error is thrown, some surrounding piece of code must be
responsible for handling the error&mdash;for example, by correcting the
problem, trying an alternative approach, or informing the user of the
failure.
</p>
<p>There are four ways to handle errors in Swift. You can propagate the
error from a function to the code that calls that function, handle the
error using a &lsquo;<samp>do</samp>&rsquo;-&lsquo;<samp>catch</samp>&rsquo; statement, handle the error as an optional
value, or assert that the error will not occur. Each approach is
described in a section below.
</p>
<span id="index-try"></span>

<p>When a function throws an error, it changes the flow of your program, so
it&rsquo;s important that you can quickly identify places in your code that
can throw errors. To identify these places in your code, write the &lsquo;<samp>try</samp>&rsquo;
keyword&mdash;or the &lsquo;<samp>try?</samp>&rsquo; or &lsquo;<samp>try!</samp>&rsquo; variation&mdash;before a piece of code
that calls a function, method, or initializer that can throw an error.
These keywords are described in the sections below.
</p>
<p>Note
</p>
<p>Error handling in Swift resembles exception handling in other languages,
with the use of the &lsquo;<samp>try</samp>&rsquo;, &lsquo;<samp>catch</samp>&rsquo; and &lsquo;<samp>throw</samp>&rsquo; keywords. Unlike
exception handling in many languages&mdash;including Objective-C&mdash;error
handling in Swift does not involve unwinding the call stack, a process
that can be computationally expensive. As such, the performance
characteristics of a &lsquo;<samp>throw</samp>&rsquo; statement are comparable to those of a
&lsquo;<samp>return</samp>&rsquo; statement.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Propagating-Errors-Using-Throwing-Functions" accesskey="1">Propagating Errors Using Throwing Functions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Handling-Errors-Using-Do_002dCatch" accesskey="2">Handling Errors Using Do-Catch</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Converting-Errors-to-Optional-Values" accesskey="3">Converting Errors to Optional Values</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Disabling-Error-Propagation" accesskey="4">Disabling Error Propagation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Propagating-Errors-Using-Throwing-Functions"></span><div class="header">
<p>
Next: <a href="#Handling-Errors-Using-Do_002dCatch" accesskey="n" rel="next">Handling Errors Using Do-Catch</a>, Up: <a href="#Handling-Errors" accesskey="u" rel="up">Handling Errors</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Propagating-Errors-Using-Throwing-Functions-1"></span><h4 class="subsection">22.2.1 Propagating Errors Using Throwing Functions</h4>

<p>To indicate that a function, method, or initializer can throw an error,
you write the &lsquo;<samp>throws</samp>&rsquo; keyword in the function&rsquo;s declaration after its
parameters. A function marked with &lsquo;<samp>throws</samp>&rsquo; is called a <em>throwing
function</em>. If the function specifies a return type, you write the
&lsquo;<samp>throws</samp>&rsquo; keyword before the return arrow (&lsquo;<samp>-&gt;</samp>&rsquo;).
</p>
<div class="example">
<pre class="example">func canThrowErrors() throws -&gt; String

func cannotThrowErrors() -&gt; String
</pre></div>

<p>A throwing function propagates errors that are thrown inside of it to
the scope from which it&rsquo;s called.
</p>
<p>Note
</p>
<p>Only throwing functions can propagate errors. Any errors thrown inside a
nonthrowing function must be handled inside the function.
</p>
<p>In the example below, the &lsquo;<samp>VendingMachine</samp>&rsquo; class has a
&lsquo;<samp>vend(itemNamed:)</samp>&rsquo; method that throws an appropriate
&lsquo;<samp>VendingMachineError</samp>&rsquo; if the requested item is not available, is out of
stock, or has a cost that exceeds the current deposited amount:
</p>
<div class="example">
<pre class="example">struct Item {
    var price: Int
    var count: Int
}

class VendingMachine {
    var inventory = [
      &quot;Candy Bar&quot;: Item(price: 12, count: 7),
      &quot;Chips&quot;: Item(price: 10, count: 4),
      &quot;Pretzels&quot;: Item(price: 7, count: 11)
    ]
    var coinsDeposited = 0

    func vend(itemNamed name: String) throws {
        guard let item = inventory[name] else {
            throw VendingMachineError.invalidSelection
        }

        guard item.count &gt; 0 else {
            throw VendingMachineError.outOfStock
        }

        guard item.price &lt;= coinsDeposited else {
            throw VendingMachineError.insufficientFunds(coinsNeeded: item.price - coinsDeposited)
        }

        coinsDeposited -= item.price

        var newItem = item
        newItem.count -= 1
        inventory[name] = newItem

        print(&quot;Dispensing \(name)&quot;)
    }
}
</pre></div>

<p>The implementation of the &lsquo;<samp>vend(itemNamed:)</samp>&rsquo; method uses &lsquo;<samp>guard</samp>&rsquo;
statements to exit the method early and throw appropriate errors if any
of the requirements for purchasing a snack aren&rsquo;t met. Because a &lsquo;<samp>throw</samp>&rsquo;
statement immediately transfers program control, an item will be vended
only if all of these requirements are met.
</p>
<p>Because the &lsquo;<samp>vend(itemNamed:)</samp>&rsquo; method propagates any errors it throws,
any code that calls this method must either handle the errors&mdash;using a
&lsquo;<samp>do</samp>&rsquo;-&lsquo;<samp>catch</samp>&rsquo; statement, &lsquo;<samp>try?</samp>&rsquo;, or &lsquo;<samp>try!</samp>&rsquo;&mdash;or continue to propagate
them. For example, the &lsquo;<samp>buyFavoriteSnack(person:vendingMachine:)</samp>&rsquo; in the
example below is also a throwing function, and any errors that the
&lsquo;<samp>vend(itemNamed:)</samp>&rsquo; method throws will propagate up to the point where
the &lsquo;<samp>buyFavoriteSnack(person:vendingMachine:)</samp>&rsquo; function is called.
</p>
<div class="example">
<pre class="example">let favoriteSnacks = [
  &quot;Alice&quot;: &quot;Chips&quot;,
  &quot;Bob&quot;: &quot;Licorice&quot;,
  &quot;Eve&quot;: &quot;Pretzels&quot;,
]
func buyFavoriteSnack(person: String, vendingMachine: VendingMachine) throws {
    let snackName = favoriteSnacks[person] ?? &quot;Candy Bar&quot;
    try vendingMachine.vend(itemNamed: snackName)
}
</pre></div>

<p>In this example, the &lsquo;<samp>buyFavoriteSnack(person: vendingMachine:)</samp>&rsquo;
function looks up a given person&rsquo;s favorite snack and tries to buy it
for them by calling the &lsquo;<samp>vend(itemNamed:)</samp>&rsquo; method. Because the
&lsquo;<samp>vend(itemNamed:)</samp>&rsquo; method can throw an error, it&rsquo;s called with the &lsquo;<samp>try</samp>&rsquo;
keyword in front of it.
</p>
<p>Throwing initializers can propagate errors in the same way as throwing
functions. For example, the initializer for the &lsquo;<samp>PurchasedSnack</samp>&rsquo;
structure in the listing below calls a throwing function as part of the
initialization process, and it handles any errors that it encounters by
propagating them to its caller.
</p>
<div class="example">
<pre class="example">struct PurchasedSnack {
    let name: String
    init(name: String, vendingMachine: VendingMachine) throws {
        try vendingMachine.vend(itemNamed: name)
        self.name = name
    }
}
</pre></div>

<hr>
<span id="Handling-Errors-Using-Do_002dCatch"></span><div class="header">
<p>
Next: <a href="#Converting-Errors-to-Optional-Values" accesskey="n" rel="next">Converting Errors to Optional Values</a>, Previous: <a href="#Propagating-Errors-Using-Throwing-Functions" accesskey="p" rel="prev">Propagating Errors Using Throwing Functions</a>, Up: <a href="#Handling-Errors" accesskey="u" rel="up">Handling Errors</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Handling-Errors-Using-Do_002dCatch-1"></span><h4 class="subsection">22.2.2 Handling Errors Using Do-Catch</h4>

<span id="index-do"></span>
<span id="index-catch"></span>

<p>You use a &lsquo;<samp>do</samp>&rsquo;-&lsquo;<samp>catch</samp>&rsquo; statement to handle errors by running a block of
code. If an error is thrown by the code in the &lsquo;<samp>do</samp>&rsquo; clause, it is
matched against the &lsquo;<samp>catch</samp>&rsquo; clauses to determine which one of them can
handle the error.
</p>
<p>Here is the general form of a &lsquo;<samp>do</samp>&rsquo;-&lsquo;<samp>catch</samp>&rsquo; statement:
</p>
<div class="example">
<pre class="example">do {
    try expression
    statements
} catch pattern 1 {
    statements
} catch pattern 2 where condition {
    statements
} catch {
    statements
}
</pre></div>

<p>You write a pattern after &lsquo;<samp>catch</samp>&rsquo; to indicate what errors that clause
can handle. If a &lsquo;<samp>catch</samp>&rsquo; clause doesn&rsquo;t have a pattern, the clause
matches any error and binds the error to a local constant named &lsquo;<samp>error</samp>&rsquo;.
For more information about pattern matching, see Patterns.
</p>
<p>For example, the following code matches against all three cases of the
&lsquo;<samp>VendingMachineError</samp>&rsquo; enumeration.
</p>
<div class="example">
<pre class="example">var vendingMachine = VendingMachine()
vendingMachine.coinsDeposited = 8
do {
    try buyFavoriteSnack(person: &quot;Alice&quot;, vendingMachine: vendingMachine)
    print(&quot;Success! Yum.&quot;)
} catch VendingMachineError.invalidSelection {
    print(&quot;Invalid Selection.&quot;)
} catch VendingMachineError.outOfStock {
    print(&quot;Out of Stock.&quot;)
} catch VendingMachineError.insufficientFunds(let coinsNeeded) {
    print(&quot;Insufficient funds. Please insert an additional
            \(coinsNeeded) coins.&quot;)
} catch {
    print(&quot;Unexpected error: \(error).&quot;)
}
// Prints &quot;Insufficient funds. Please insert an additional 2 coins.&quot;
</pre></div>

<p>In the above example, the &lsquo;<samp>buyFavoriteSnack(person:vendingMachine:)</samp>&rsquo;
function is called in a &lsquo;<samp>try</samp>&rsquo; expression, because it can throw an error.
If an error is thrown, execution immediately transfers to the &lsquo;<samp>catch</samp>&rsquo;
clauses, which decide whether to allow propagation to continue. If no
pattern is matched, the error gets caught by the final &lsquo;<samp>catch</samp>&rsquo; clause
and is bound to a local &lsquo;<samp>error</samp>&rsquo; constant. If no error is thrown, the
remaining statements in the &lsquo;<samp>do</samp>&rsquo; statement are executed.
</p>
<p>The &lsquo;<samp>catch</samp>&rsquo; clauses don&rsquo;t have to handle every possible error that the
code in the &lsquo;<samp>do</samp>&rsquo; clause can throw. If none of the &lsquo;<samp>catch</samp>&rsquo; clauses handle
the error, the error propagates to the surrounding scope. However, the
propagated error must be handled by <em>some</em> surrounding scope. In a
nonthrowing function, an enclosing &lsquo;<samp>do</samp>&rsquo;-&lsquo;<samp>catch</samp>&rsquo; clause must handle the
error. In a throwing function, either an enclosing &lsquo;<samp>do</samp>&rsquo;-&lsquo;<samp>catch</samp>&rsquo; clause
or the caller must handle the error. If the error propagates to the
top-level scope without being handled, you&rsquo;ll get a runtime error.
</p>
<p>For example, the above example can be written so any error that isn&rsquo;t a
&lsquo;<samp>VendingMachineError</samp>&rsquo; is instead caught by the calling function:
</p>
<div class="example">
<pre class="example">func nourish(with item: String) throws {
    do {
        try vendingMachine.vend(itemNamed: item)
    } catch is VendingMachineError {
        print(&quot;Invalid selection, out of stock, or not enough money.&quot;)
    }
}

do {
    try nourish(with: &quot;Beet-Flavored Chips&quot;)
} catch {
    print(&quot;Unexpected non-vending-machine-related error: \(error)&quot;)
}
// Prints &quot;Invalid selection, out of stock, or not enough money.&quot;
</pre></div>

<p>In the &lsquo;<samp>nourish(with:)</samp>&rsquo; function, if &lsquo;<samp>vend(itemNamed:)</samp>&rsquo; throws an error
that&rsquo;s one of the cases of the &lsquo;<samp>VendingMachineError</samp>&rsquo; enumeration,
&lsquo;<samp>nourish(with:)</samp>&rsquo; handles the error by printing a message. Otherwise,
&lsquo;<samp>nourish(with:)</samp>&rsquo; propagates the error to its call site. The error is
then caught by the general &lsquo;<samp>catch</samp>&rsquo; clause.
</p>
<hr>
<span id="Converting-Errors-to-Optional-Values"></span><div class="header">
<p>
Next: <a href="#Disabling-Error-Propagation" accesskey="n" rel="next">Disabling Error Propagation</a>, Previous: <a href="#Handling-Errors-Using-Do_002dCatch" accesskey="p" rel="prev">Handling Errors Using Do-Catch</a>, Up: <a href="#Handling-Errors" accesskey="u" rel="up">Handling Errors</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Converting-Errors-to-Optional-Values-1"></span><h4 class="subsection">22.2.3 Converting Errors to Optional Values</h4>

<span id="index-try_003f"></span>

<p>You use &lsquo;<samp>try?</samp>&rsquo; to handle an error by converting it to an optional value.
If an error is thrown while evaluating the &lsquo;<samp>try?</samp>&rsquo; expression, the value
of the expression is &lsquo;<samp>nil</samp>&rsquo;. For example, in the following code &lsquo;<samp>x</samp>&rsquo; and
&lsquo;<samp>y</samp>&rsquo; have the same value and behavior:
</p>
<div class="example">
<pre class="example">func someThrowingFunction() throws -&gt; Int {
    // ...
}

let x = try? someThrowingFunction()

let y: Int?
do {
    y = try someThrowingFunction()
} catch {
    y = nil
}
</pre></div>

<p>If &lsquo;<samp>someThrowingFunction()</samp>&rsquo; throws an error, the value of &lsquo;<samp>x</samp>&rsquo; and &lsquo;<samp>y</samp>&rsquo; is
&lsquo;<samp>nil</samp>&rsquo;. Otherwise, the value of &lsquo;<samp>x</samp>&rsquo; and &lsquo;<samp>y</samp>&rsquo; is the value that the
function returned. Note that &lsquo;<samp>x</samp>&rsquo; and &lsquo;<samp>y</samp>&rsquo; are an optional of whatever
type &lsquo;<samp>someThrowingFunction()</samp>&rsquo; returns. Here the function returns an
integer, so &lsquo;<samp>x</samp>&rsquo; and &lsquo;<samp>y</samp>&rsquo; are optional integers.
</p>
<p>Using &lsquo;<samp>try?</samp>&rsquo; lets you write concise error handling code when you want to
handle all errors in the same way. For example, the following code uses
several approaches to fetch data, or returns &lsquo;<samp>nil</samp>&rsquo; if all of the
approaches fail.
</p>
<div class="example">
<pre class="example">func fetchData() -&gt; Data? {
    if let data = try? fetchDataFromDisk() { return data }
    if let data = try? fetchDataFromServer() { return data }
    return nil
}
</pre></div>

<hr>
<span id="Disabling-Error-Propagation"></span><div class="header">
<p>
Previous: <a href="#Converting-Errors-to-Optional-Values" accesskey="p" rel="prev">Converting Errors to Optional Values</a>, Up: <a href="#Handling-Errors" accesskey="u" rel="up">Handling Errors</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Disabling-Error-Propagation-1"></span><h4 class="subsection">22.2.4 Disabling Error Propagation</h4>

<span id="index-try_0021"></span>

<p>Sometimes you know a throwing function or method won&rsquo;t, in fact, throw
an error at runtime. On those occasions, you can write &lsquo;<samp>try!</samp>&rsquo; before the
expression to disable error propagation and wrap the call in a runtime
assertion that no error will be thrown. If an error actually is thrown,
you&rsquo;ll get a runtime error.
</p>
<p>For example, the following code uses a &lsquo;<samp>loadImage(atPath:)</samp>&rsquo; function,
which loads the image resource at a given path or throws an error if the
image can&rsquo;t be loaded. In this case, because the image is shipped with
the application, no error will be thrown at runtime, so it is
appropriate to disable error propagation.
</p>
<div class="example">
<pre class="example">let photo = try! loadImage(atPath: &quot;./Resources/John Appleseed.jpg&quot;)
</pre></div>

<hr>
<span id="Specifying-Cleanup-Actions"></span><div class="header">
<p>
Previous: <a href="#Handling-Errors" accesskey="p" rel="prev">Handling Errors</a>, Up: <a href="#Error-Handling-2" accesskey="u" rel="up">Error Handling 2</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Specifying-Cleanup-Actions-1"></span><h3 class="section">22.3 Specifying Cleanup Actions</h3>

<span id="index-defer"></span>

<p>You use a &lsquo;<samp>defer</samp>&rsquo; statement to execute a set of statements just before
code execution leaves the current block of code. This statement lets you
do any necessary cleanup that should be performed regardless of <em>how</em>
execution leaves the current block of code&mdash;whether it leaves because
an error was thrown or because of a statement such as &lsquo;<samp>return</samp>&rsquo; or
&lsquo;<samp>break</samp>&rsquo;. For example, you can use a &lsquo;<samp>defer</samp>&rsquo; statement to ensure that
file descriptors are closed and manually allocated memory is freed.
</p>
<p>A &lsquo;<samp>defer</samp>&rsquo; statement defers execution until the current scope is exited.
This statement consists of the &lsquo;<samp>defer</samp>&rsquo; keyword and the statements to be
executed later. The deferred statements may not contain any code that
would transfer control out of the statements, such as a &lsquo;<samp>break</samp>&rsquo; or a
&lsquo;<samp>return</samp>&rsquo; statement, or by throwing an error. Deferred actions are
executed in the reverse of the order that they&rsquo;re written in your source
code. That is, the code in the first &lsquo;<samp>defer</samp>&rsquo; statement executes last,
the code in the second &lsquo;<samp>defer</samp>&rsquo; statement executes second to last, and so
on. The last &lsquo;<samp>defer</samp>&rsquo; statement in source code order executes first.
</p>
<div class="example">
<pre class="example">func processFile(filename: String) throws {
    if exists(filename) {
        let file = open(filename)
        defer {
            close(file)
        }
        while let line = try file.readline() {
            // Work with the file.
        }
        // close(file) is called here, at the end of the scope.
    }
}
</pre></div>

<p>The above example uses a &lsquo;<samp>defer</samp>&rsquo; statement to ensure that the &lsquo;<samp>open(_:)</samp>&rsquo;
function has a corresponding call to &lsquo;<samp>close(_:)</samp>&rsquo;.
</p>
<p>Note
</p>
<p>You can use a &lsquo;<samp>defer</samp>&rsquo; statement even when no error handling code is
involved.
</p>
<hr>
<span id="Type-Casting"></span><div class="header">
<p>
Next: <a href="#Nested-Types" accesskey="n" rel="next">Nested Types</a>, Previous: <a href="#Error-Handling-2" accesskey="p" rel="prev">Error Handling 2</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Type-Casting-1"></span><h2 class="chapter">23 Type Casting</h2>

<p><em>Type casting</em> is a way to check the type of an instance, or to treat
that instance as a different superclass or subclass from somewhere else
in its own class hierarchy.
</p>
<p>Type casting in Swift is implemented with the &lsquo;<samp>is</samp>&rsquo; and &lsquo;<samp>as</samp>&rsquo; operators.
These two operators provide a simple and expressive way to check the
type of a value or cast a value to a different type.
</p>
<p>You can also use type casting to check whether a type conforms to a
protocol, as described in <a href="#Checking-for-Protocol-Conformance">Checking for Protocol Conformance</a>.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Defining-a-Class-Hierarchy-for-Type-Casting" accesskey="1">Defining a Class Hierarchy for Type Casting</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Checking-Type" accesskey="2">Checking Type</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Downcasting" accesskey="3">Downcasting</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Type-Casting-for-Any-and-AnyObject" accesskey="4">Type Casting for Any and AnyObject</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Defining-a-Class-Hierarchy-for-Type-Casting"></span><div class="header">
<p>
Next: <a href="#Checking-Type" accesskey="n" rel="next">Checking Type</a>, Up: <a href="#Type-Casting" accesskey="u" rel="up">Type Casting</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Defining-a-Class-Hierarchy-for-Type-Casting-1"></span><h3 class="section">23.1 Defining a Class Hierarchy for Type Casting</h3>

<p>You can use type casting with a hierarchy of classes and subclasses to
check the type of a particular class instance and to cast that instance
to another class within the same hierarchy. The three code snippets
below define a hierarchy of classes and an array containing instances of
those classes, for use in an example of type casting.
</p>
<p>The first snippet defines a new base class called &lsquo;<samp>MediaItem</samp>&rsquo;. This
class provides basic functionality for any kind of item that appears in
a digital media library. Specifically, it declares a &lsquo;<samp>name</samp>&rsquo; property of
type &lsquo;<samp>String</samp>&rsquo;, and an &lsquo;<samp>init name</samp>&rsquo; initializer. (It is assumed that all
media items, including all movies and songs, will have a name.)
</p>
<div class="example">
<pre class="example">class MediaItem {
    var name: String
    init(name: String) {
        self.name = name
    }
}
</pre></div>

<p>The next snippet defines two subclasses of &lsquo;<samp>MediaItem</samp>&rsquo;. The first
subclass, &lsquo;<samp>Movie</samp>&rsquo;, encapsulates additional information about a movie or
film. It adds a &lsquo;<samp>director</samp>&rsquo; property on top of the base &lsquo;<samp>MediaItem</samp>&rsquo;
class, with a corresponding initializer. The second subclass, &lsquo;<samp>Song</samp>&rsquo;,
adds an &lsquo;<samp>artist</samp>&rsquo; property and initializer on top of the base class:
</p>
<div class="example">
<pre class="example">class Movie: MediaItem {
    var director: String
    init(name: String, director: String) {
        self.director = director
        super.init(name: name)
    }
}

class Song: MediaItem {
    var artist: String
    init(name: String, artist: String) {
        self.artist = artist
        super.init(name: name)
    }
}
</pre></div>

<p>The final snippet creates a constant array called &lsquo;<samp>library</samp>&rsquo;, which
contains two &lsquo;<samp>Movie</samp>&rsquo; instances and three &lsquo;<samp>Song</samp>&rsquo; instances. The type of
the &lsquo;<samp>library</samp>&rsquo; array is inferred by initializing it with the contents of
an array literal. Swift&rsquo;s type checker is able to deduce that &lsquo;<samp>Movie</samp>&rsquo;
and &lsquo;<samp>Song</samp>&rsquo; have a common superclass of &lsquo;<samp>MediaItem</samp>&rsquo;, and so it infers a
type of &lsquo;<samp>[MediaItem]</samp>&rsquo; for the &lsquo;<samp>library</samp>&rsquo; array:
</p>
<div class="example">
<pre class="example">let library = [
  Movie(name: &quot;Casablanca&quot;, director: &quot;Michael Curtiz&quot;),
  Song(name: &quot;Blue Suede Shoes&quot;, artist: &quot;Elvis Presley&quot;),
  Movie(name: &quot;Citizen Kane&quot;, director: &quot;Orson Welles&quot;),
  Song(name: &quot;The One And Only&quot;, artist: &quot;Chesney Hawkes&quot;),
  Song(name: &quot;Never Gonna Give You Up&quot;, artist: &quot;Rick Astley&quot;)
]
// the type of &quot;library&quot; is inferred to be [MediaItem]
</pre></div>

<p>The items stored in &lsquo;<samp>library</samp>&rsquo; are still &lsquo;<samp>Movie</samp>&rsquo; and &lsquo;<samp>Song</samp>&rsquo; instances
behind the scenes. However, if you iterate over the contents of this
array, the items you receive back are typed as &lsquo;<samp>MediaItem</samp>&rsquo;, and not as
&lsquo;<samp>Movie</samp>&rsquo; or &lsquo;<samp>Song</samp>&rsquo;. In order to work with them as their native type, you
need to <em>check</em> their type, or <em>downcast</em> them to a different type, as
described below.
</p>
<hr>
<span id="Checking-Type"></span><div class="header">
<p>
Next: <a href="#Downcasting" accesskey="n" rel="next">Downcasting</a>, Previous: <a href="#Defining-a-Class-Hierarchy-for-Type-Casting" accesskey="p" rel="prev">Defining a Class Hierarchy for Type Casting</a>, Up: <a href="#Type-Casting" accesskey="u" rel="up">Type Casting</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Checking-Type-1"></span><h3 class="section">23.2 Checking Type</h3>

<span id="index-is"></span>

<p>Use the <em>type check operator</em> (&lsquo;<samp>is</samp>&rsquo;) to check whether an instance is of
a certain subclass type. The type check operator returns &lsquo;<samp>true</samp>&rsquo; if the
instance is of that subclass type and &lsquo;<samp>false</samp>&rsquo; if it is not.
</p>
<p>The example below defines two variables, &lsquo;<samp>movieCount</samp>&rsquo; and &lsquo;<samp>songCount</samp>&rsquo;,
which count the number of &lsquo;<samp>Movie</samp>&rsquo; and &lsquo;<samp>Song</samp>&rsquo; instances in the &lsquo;<samp>library</samp>&rsquo;
array:
</p>
<div class="example">
<pre class="example">var movieCount = 0
var songCount = 0

for item in library {
    if item is Movie {
        movieCount += 1
    } else if item is Song {
        songCount += 1
    }
}

print(&quot;Media library contains \(movieCount) movies and \(songCount) songs&quot;)
// Prints &quot;Media library contains 2 movies and 3 songs&quot;
</pre></div>

<p>This example iterates through all items in the &lsquo;<samp>library</samp>&rsquo; array. On each
pass, the &lsquo;<samp>for</samp>&rsquo;-&lsquo;<samp>in</samp>&rsquo; loop sets the &lsquo;<samp>item</samp>&rsquo; constant to the next
&lsquo;<samp>MediaItem</samp>&rsquo; in the array.
</p>
<p>&lsquo;<samp>item is Movie</samp>&rsquo; returns &lsquo;<samp>true</samp>&rsquo; if the current &lsquo;<samp>MediaItem</samp>&rsquo; is a &lsquo;<samp>Movie</samp>&rsquo;
instance and &lsquo;<samp>false</samp>&rsquo; if it is not. Similarly, &lsquo;<samp>item is Song</samp>&rsquo; checks
whether the item is a &lsquo;<samp>Song</samp>&rsquo; instance. At the end of the &lsquo;<samp>for</samp>&rsquo;-&lsquo;<samp>in</samp>&rsquo;
loop, the values of &lsquo;<samp>movieCount</samp>&rsquo; and &lsquo;<samp>songCount</samp>&rsquo; contain a count of how
many &lsquo;<samp>MediaItem</samp>&rsquo; instances were found of each type.
</p>
<hr>
<span id="Downcasting"></span><div class="header">
<p>
Next: <a href="#Type-Casting-for-Any-and-AnyObject" accesskey="n" rel="next">Type Casting for Any and AnyObject</a>, Previous: <a href="#Checking-Type" accesskey="p" rel="prev">Checking Type</a>, Up: <a href="#Type-Casting" accesskey="u" rel="up">Type Casting</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Downcasting-1"></span><h3 class="section">23.3 Downcasting</h3>

<span id="index-as"></span>

<p>A constant or variable of a certain class type may actually refer to an
instance of a subclass behind the scenes. Where you believe this is the
case, you can try to <em>downcast</em> to the subclass type with a <em>type cast
operator</em> (&lsquo;<samp>as?</samp>&rsquo; or &lsquo;<samp>as!</samp>&rsquo;).
</p>
<p>Because downcasting can fail, the type cast operator comes in two
different forms. The conditional form, &lsquo;<samp>as?</samp>&rsquo;, returns an optional value
of the type you are trying to downcast to. The forced form, &lsquo;<samp>as!</samp>&rsquo;,
attempts the downcast and force-unwraps the result as a single compound
action.
</p>
<p>Use the conditional form of the type cast operator (&lsquo;<samp>as?</samp>&rsquo;) when you are
not sure if the downcast will succeed. This form of the operator will
always return an optional value, and the value will be &lsquo;<samp>nil</samp>&rsquo; if the
downcast was not possible. This enables you to check for a successful
downcast.
</p>
<p>Use the forced form of the type cast operator (&lsquo;<samp>as!</samp>&rsquo;) only when you are
sure that the downcast will always succeed. This form of the operator
will trigger a runtime error if you try to downcast to an incorrect
class type.
</p>
<p>The example below iterates over each &lsquo;<samp>MediaItem</samp>&rsquo; in &lsquo;<samp>library</samp>&rsquo;, and
prints an appropriate description for each item. To do this, it needs to
access each item as a true &lsquo;<samp>Movie</samp>&rsquo; or &lsquo;<samp>Song</samp>&rsquo;, and not just as a
&lsquo;<samp>MediaItem</samp>&rsquo;. This is necessary in order for it to be able to access the
&lsquo;<samp>director</samp>&rsquo; or &lsquo;<samp>artist</samp>&rsquo; property of a &lsquo;<samp>Movie</samp>&rsquo; or &lsquo;<samp>Song</samp>&rsquo; for use in the
description.
</p>
<p>In this example, each item in the array might be a &lsquo;<samp>Movie</samp>&rsquo;, or it might
be a &lsquo;<samp>Song</samp>&rsquo;. You don&rsquo;t know in advance which actual class to use for
each item, and so it is appropriate to use the conditional form of the
type cast operator (&lsquo;<samp>as?</samp>&rsquo;) to check the downcast each time through the
loop:
</p>
<div class="example">
<pre class="example">for item in library {
    if let movie = item as? Movie {
        print(&quot;Movie: \(movie.name), dir. \(movie.director)&quot;)
    } else if let song = item as? Song {
        print(&quot;Song: \(song.name), by \(song.artist)&quot;)
    }
}

// Movie: Casablanca, dir. Michael Curtiz
// Song: Blue Suede Shoes, by Elvis Presley
// Movie: Citizen Kane, dir. Orson Welles
// Song: The One And Only, by Chesney Hawkes
// Song: Never Gonna Give You Up, by Rick Astley
</pre></div>

<p>The example starts by trying to downcast the current &lsquo;<samp>item</samp>&rsquo; as a
&lsquo;<samp>Movie</samp>&rsquo;. Because &lsquo;<samp>item</samp>&rsquo; is a &lsquo;<samp>MediaItem</samp>&rsquo; instance, it&rsquo;s possible that it
<em>might</em> be a &lsquo;<samp>Movie</samp>&rsquo;; equally, it&rsquo;s also possible that it might be a
&lsquo;<samp>Song</samp>&rsquo;, or even just a base &lsquo;<samp>MediaItem</samp>&rsquo;. Because of this uncertainty,
the &lsquo;<samp>as?</samp>&rsquo; form of the type cast operator returns an <em>optional</em> value
when attempting to downcast to a subclass type. The result of
&lsquo;<samp>item as? Movie</samp>&rsquo; is of type &lsquo;<samp>Movie?</samp>&rsquo;, or “optional =Movie=”.
</p>
<p>Downcasting to &lsquo;<samp>Movie</samp>&rsquo; fails when applied to the &lsquo;<samp>Song</samp>&rsquo; instances in the
library array. To cope with this, the example above uses optional
binding to check whether the optional &lsquo;<samp>Movie</samp>&rsquo; actually contains a value
(that is, to find out whether the downcast succeeded.) This optional
binding is written “=if let movie = item as? Movie=”, which can be read
as:
</p>
<p>“Try to access &lsquo;<samp>item</samp>&rsquo; as a &lsquo;<samp>Movie</samp>&rsquo;. If this is successful, set a new
temporary constant called &lsquo;<samp>movie</samp>&rsquo; to the value stored in the returned
optional &lsquo;<samp>Movie</samp>&rsquo;.”
</p>
<p>If the downcasting succeeds, the properties of &lsquo;<samp>movie</samp>&rsquo; are then used to
print a description for that &lsquo;<samp>Movie</samp>&rsquo; instance, including the name of its
&lsquo;<samp>director</samp>&rsquo;. A similar principle is used to check for &lsquo;<samp>Song</samp>&rsquo; instances,
and to print an appropriate description (including &lsquo;<samp>artist</samp>&rsquo; name)
whenever a &lsquo;<samp>Song</samp>&rsquo; is found in the library.
</p>
<p>Note
</p>
<p>Casting does not actually modify the instance or change its values. The
underlying instance remains the same; it is simply treated and accessed
as an instance of the type to which it has been cast.
</p>
<hr>
<span id="Type-Casting-for-Any-and-AnyObject"></span><div class="header">
<p>
Previous: <a href="#Downcasting" accesskey="p" rel="prev">Downcasting</a>, Up: <a href="#Type-Casting" accesskey="u" rel="up">Type Casting</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Type-Casting-for-Any-and-AnyObject-1"></span><h3 class="section">23.4 Type Casting for Any and AnyObject</h3>

<span id="index-Any"></span>
<span id="index-AnyObject"></span>

<p>Swift provides two special types for working with nonspecific types:
</p>
<ul>
<li> &lsquo;<samp>Any</samp>&rsquo; can represent an instance of any type at all, including function
types.

</li><li> &lsquo;<samp>AnyObject</samp>&rsquo; can represent an instance of any class type.
</li></ul>

<p>Use &lsquo;<samp>Any</samp>&rsquo; and &lsquo;<samp>AnyObject</samp>&rsquo; only when you explicitly need the behavior and
capabilities they provide. It is always better to be specific about the
types you expect to work with in your code.
</p>
<p>Here&rsquo;s an example of using &lsquo;<samp>Any</samp>&rsquo; to work with a mix of different types,
including function types and nonclass types. The example creates an
array called &lsquo;<samp>things</samp>&rsquo;, which can store values of type &lsquo;<samp>Any</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">var things = [Any]()

things.append(0)
things.append(0.0)
things.append(42)
things.append(3.14159)
things.append(&quot;hello&quot;)
things.append((3.0, 5.0))
things.append(Movie(name: &quot;Ghostbusters&quot;, director: &quot;Ivan Reitman&quot;))
things.append({ (name: String) -&gt; String in &quot;Hello, \(name)&quot; })
</pre></div>

<p>The &lsquo;<samp>things</samp>&rsquo; array contains two &lsquo;<samp>Int</samp>&rsquo; values, two &lsquo;<samp>Double</samp>&rsquo; values, a
&lsquo;<samp>String</samp>&rsquo; value, a tuple of type &lsquo;<samp>(Double, Double)</samp>&rsquo;, the movie
“Ghostbusters”, and a closure expression that takes a &lsquo;<samp>String</samp>&rsquo; value and
returns another &lsquo;<samp>String</samp>&rsquo; value.
</p>
<p>To discover the specific type of a constant or variable that is known
only to be of type &lsquo;<samp>Any</samp>&rsquo; or &lsquo;<samp>AnyObject</samp>&rsquo;, you can use an &lsquo;<samp>is</samp>&rsquo; or &lsquo;<samp>as</samp>&rsquo;
pattern in a &lsquo;<samp>switch</samp>&rsquo; statement&rsquo;s cases. The example below iterates over
the items in the &lsquo;<samp>things</samp>&rsquo; array and queries the type of each item with a
&lsquo;<samp>switch</samp>&rsquo; statement. Several of the &lsquo;<samp>switch</samp>&rsquo; statement&rsquo;s cases bind their
matched value to a constant of the specified type to enable its value to
be printed:
</p>
<div class="example">
<pre class="example">for thing in things {
    switch thing {
    case 0 as Int:
        print(&quot;zero as an Int&quot;)
    case 0 as Double:
        print(&quot;zero as a Double&quot;)
    case let someInt as Int:
        print(&quot;an integer value of \(someInt)&quot;)
    case let someDouble as Double where someDouble &gt; 0:
        print(&quot;a positive double value of \(someDouble)&quot;)
    case is Double:
        print(&quot;some other double value that I don't want to print&quot;)
    case let someString as String:
        print(&quot;a string value of \&quot;\(someString)\&quot;&quot;)
    case let (x, y) as (Double, Double):
        print(&quot;an (x, y) point at \(x), \(y)&quot;)
    case let movie as Movie:
        print(&quot;a movie called \(movie.name), dir. \(movie.director)&quot;)
    case let stringConverter as (String) -&gt; String:
        print(stringConverter(&quot;Michael&quot;))
    default:
        print(&quot;something else&quot;)
    }
}

// zero as an Int
// zero as a Double
// an integer value of 42
// a positive double value of 3.14159
// a string value of &quot;hello&quot;
// an (x, y) point at 3.0, 5.0
// a movie called Ghostbusters, dir. Ivan Reitman
// Hello, Michael
</pre></div>

<p>Note
</p>
<p>The &lsquo;<samp>Any</samp>&rsquo; type represents values of any type, including optional types.
Swift gives you a warning if you use an optional value where a value of
type &lsquo;<samp>Any</samp>&rsquo; is expected. If you really do need to use an optional value
as an &lsquo;<samp>Any</samp>&rsquo; value, you can use the &lsquo;<samp>as</samp>&rsquo; operator to explicitly cast the
optional to &lsquo;<samp>Any</samp>&rsquo;, as shown below.
</p>
<div class="example">
<pre class="example">let optionalNumber: Int? = 3
things.append(optionalNumber) // Warning
things.append(optionalNumber as Any) // No warning
</pre></div>

<hr>
<span id="Nested-Types"></span><div class="header">
<p>
Next: <a href="#Extensions" accesskey="n" rel="next">Extensions</a>, Previous: <a href="#Type-Casting" accesskey="p" rel="prev">Type Casting</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Nested-Types-3"></span><h2 class="chapter">24 Nested Types</h2>

<p>Enumerations are often created to support a specific class or
structure&rsquo;s functionality. Similarly, it can be convenient to define
utility classes and structures purely for use within the context of a
more complex type. To accomplish this, Swift enables you to define
<em>nested types</em>, whereby you nest supporting enumerations, classes, and
structures within the definition of the type they support.
</p>
<p>To nest a type within another type, write its definition within the
outer braces of the type it supports. Types can be nested to as many
levels as are required.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Nested-Types-in-Action" accesskey="1">Nested Types in Action</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Referring-to-Nested-Types" accesskey="2">Referring to Nested Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Nested-Types-in-Action"></span><div class="header">
<p>
Next: <a href="#Referring-to-Nested-Types" accesskey="n" rel="next">Referring to Nested Types</a>, Up: <a href="#Nested-Types" accesskey="u" rel="up">Nested Types</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Nested-Types-in-Action-1"></span><h3 class="section">24.1 Nested Types in Action</h3>

<p>The example below defines a structure called &lsquo;<samp>BlackjackCard</samp>&rsquo;, which
models a playing card as used in the game of Blackjack. The
&lsquo;<samp>BlackjackCard</samp>&rsquo; structure contains two nested enumeration types called
&lsquo;<samp>Suit</samp>&rsquo; and &lsquo;<samp>Rank</samp>&rsquo;.
</p>
<p>In Blackjack, the Ace cards have a value of either one or eleven. This
feature is represented by a structure called &lsquo;<samp>Values</samp>&rsquo;, which is nested
within the &lsquo;<samp>Rank</samp>&rsquo; enumeration:
</p>
<div class="example">
<pre class="example">struct BlackjackCard {

    // nested Suit enumeration
    enum Suit: Character {
        case spades = &quot;♠&quot;, hearts = &quot;♡&quot;, diamonds = &quot;♢&quot;, clubs = &quot;♣&quot;
    }

    // nested Rank enumeration
    enum Rank: Int {
        case two = 2, three, four, five, six, seven, eight, nine, ten
        case jack, queen, king, ace
        struct Values {
            let first: Int, second: Int?
        }
        var values: Values {
            switch self {
            case .ace:
                return Values(first: 1, second: 11)
            case .jack, .queen, .king:
                return Values(first: 10, second: nil)
            default:
                return Values(first: self.rawValue, second: nil)
            }
        }
    }

    // BlackjackCard properties and methods
    let rank: Rank, suit: Suit
    var description: String {
        var output = &quot;suit is \(suit.rawValue),&quot;
        output += &quot; value is \(rank.values.first)&quot;
        if let second = rank.values.second {
            output += &quot; or \(second)&quot;
        }
        return output
    }
}
</pre></div>

<p>The &lsquo;<samp>Suit</samp>&rsquo; enumeration describes the four common playing card suits,
together with a raw &lsquo;<samp>Character</samp>&rsquo; value to represent their symbol.
</p>
<p>The &lsquo;<samp>Rank</samp>&rsquo; enumeration describes the thirteen possible playing card
ranks, together with a raw &lsquo;<samp>Int</samp>&rsquo; value to represent their face value.
(This raw &lsquo;<samp>Int</samp>&rsquo; value is not used for the Jack, Queen, King, and Ace
cards.)
</p>
<p>As mentioned above, the &lsquo;<samp>Rank</samp>&rsquo; enumeration defines a further nested
structure of its own, called &lsquo;<samp>Values</samp>&rsquo;. This structure encapsulates the
fact that most cards have one value, but the Ace card has two values.
The &lsquo;<samp>Values</samp>&rsquo; structure defines two properties to represent this:
</p>
<ul>
<li> &lsquo;<samp>first</samp>&rsquo;, of type &lsquo;<samp>Int</samp>&rsquo;

</li><li> &lsquo;<samp>second</samp>&rsquo;, of type &lsquo;<samp>Int?</samp>&rsquo;, or “optional =Int=”
</li></ul>

<p>&lsquo;<samp>Rank</samp>&rsquo; also defines a computed property, &lsquo;<samp>values</samp>&rsquo;, which returns an
instance of the &lsquo;<samp>Values</samp>&rsquo; structure. This computed property considers the
rank of the card and initializes a new &lsquo;<samp>Values</samp>&rsquo; instance with
appropriate values based on its rank. It uses special values for &lsquo;<samp>jack</samp>&rsquo;,
&lsquo;<samp>queen</samp>&rsquo;, &lsquo;<samp>king</samp>&rsquo;, and &lsquo;<samp>ace</samp>&rsquo;. For the numeric cards, it uses the rank&rsquo;s
raw &lsquo;<samp>Int</samp>&rsquo; value.
</p>
<p>The &lsquo;<samp>BlackjackCard</samp>&rsquo; structure itself has two properties&mdash;&lsquo;<samp>rank</samp>&rsquo; and
&lsquo;<samp>suit</samp>&rsquo;. It also defines a computed property called &lsquo;<samp>description</samp>&rsquo;, which
uses the values stored in &lsquo;<samp>rank</samp>&rsquo; and &lsquo;<samp>suit</samp>&rsquo; to build a description of
the name and value of the card. The &lsquo;<samp>description</samp>&rsquo; property uses optional
binding to check whether there is a second value to display, and if so,
inserts additional description detail for that second value.
</p>
<p>Because &lsquo;<samp>BlackjackCard</samp>&rsquo; is a structure with no custom initializers, it
has an implicit memberwise initializer, as described in
<a href="#Memberwise-Initializers-for-Structure-Types">Memberwise Initializers for Structure
Types</a>. You can use this initializer to initialize a new constant
called &lsquo;<samp>theAceOfSpades</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">let theAceOfSpades = BlackjackCard(rank: .ace, suit: .spades)
print(&quot;theAceOfSpades: \(theAceOfSpades.description)&quot;)
// Prints &quot;theAceOfSpades: suit is ♠, value is 1 or 11&quot;
</pre></div>

<p>Even though &lsquo;<samp>Rank</samp>&rsquo; and &lsquo;<samp>Suit</samp>&rsquo; are nested within &lsquo;<samp>BlackjackCard</samp>&rsquo;, their
type can be inferred from context, and so the initialization of this
instance is able to refer to the enumeration cases by their case names
(&lsquo;<samp>.ace</samp>&rsquo; and &lsquo;<samp>.spades</samp>&rsquo;) alone. In the example above, the &lsquo;<samp>description</samp>&rsquo;
property correctly reports that the Ace of Spades has a value of &lsquo;<samp>1</samp>&rsquo; or
&lsquo;<samp>11</samp>&rsquo;.
</p>
<hr>
<span id="Referring-to-Nested-Types"></span><div class="header">
<p>
Previous: <a href="#Nested-Types-in-Action" accesskey="p" rel="prev">Nested Types in Action</a>, Up: <a href="#Nested-Types" accesskey="u" rel="up">Nested Types</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Referring-to-Nested-Types-1"></span><h3 class="section">24.2 Referring to Nested Types</h3>

<p>To use a nested type outside of its definition context, prefix its name
with the name of the type it is nested within:
</p>
<div class="example">
<pre class="example">let heartsSymbol = BlackjackCard.Suit.hearts.rawValue
// heartsSymbol is &quot;♡&quot;
</pre></div>

<p>For the example above, this enables the names of &lsquo;<samp>Suit</samp>&rsquo;, &lsquo;<samp>Rank</samp>&rsquo;, and
&lsquo;<samp>Values</samp>&rsquo; to be kept deliberately short, because their names are
naturally qualified by the context in which they are defined.
</p>
<hr>
<span id="Extensions"></span><div class="header">
<p>
Next: <a href="#Protocols" accesskey="n" rel="next">Protocols</a>, Previous: <a href="#Nested-Types" accesskey="p" rel="prev">Nested Types</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Extensions-2"></span><h2 class="chapter">25 Extensions</h2>

<span id="index-extension-1"></span>

<p><em>Extensions</em> add new functionality to an existing class, structure,
enumeration, or protocol type. This includes the ability to extend types
for which you do not have access to the original source code (known as
<em>retroactive modeling</em>). Extensions are similar to categories in
Objective-C. (Unlike Objective-C categories, Swift extensions do not
have names.)
</p>
<p>Extensions in Swift can:
</p>
<ul>
<li> Add computed instance properties and computed type properties

</li><li> Define instance methods and type methods

</li><li> Provide new initializers

</li><li> Define subscripts

</li><li> Define and use new nested types

</li><li> Make an existing type conform to a protocol
</li></ul>

<p>In Swift, you can even extend a protocol to provide implementations of
its requirements or add additional functionality that conforming types
can take advantage of. For more details, see
<a href="#Protocol-Extensions">Protocol Extensions</a>.
</p>
<p>Note
</p>
<p>Extensions can add new functionality to a type, but they cannot override
existing functionality.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Extension-Syntax" accesskey="1">Extension Syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Computed-Properties-1" accesskey="2">Computed Properties</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Initializers-1" accesskey="3">Initializers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Methods-1" accesskey="4">Methods</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Subscripts-1" accesskey="5">Subscripts</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Nested-Types-1" accesskey="6">Nested Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Extension-Syntax"></span><div class="header">
<p>
Next: <a href="#Computed-Properties-1" accesskey="n" rel="next">Computed Properties 1</a>, Up: <a href="#Extensions" accesskey="u" rel="up">Extensions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Extension-Syntax-1"></span><h3 class="section">25.1 Extension Syntax</h3>

<p>Declare extensions with the &lsquo;<samp>extension</samp>&rsquo; keyword:
</p>
<div class="example">
<pre class="example">extension SomeType {
    // new functionality to add to SomeType goes here
}
</pre></div>

<p>An extension can extend an existing type to make it adopt one or more
protocols. To add protocol conformance, you write the protocol names the
same way as you write them for a class or structure:
</p>
<div class="example">
<pre class="example">extension SomeType: SomeProtocol, AnotherProtocol {
    // implementation of protocol requirements goes here
}
</pre></div>

<p>Adding protocol conformance in this way is described in
<a href="#Adding-Protocol-Conformance-with-an-Extension">Adding Protocol Conformance with an
Extension</a>.
</p>
<p>An extension can be used to extend an existing generic type, as
described in <a href="#Extending-a-Generic-Type">Extending a Generic Type</a>. You
can also extend a generic type to conditionally add functionality, as
described in <a href="#Extensions-with-a-Generic-Where-Clause">Extensions with a Generic Where
Clause</a>.
</p>
<p>Note
</p>
<p>If you define an extension to add new functionality to an existing type,
the new functionality will be available on all existing instances of
that type, even if they were created before the extension was defined.
</p>
<hr>
<span id="Computed-Properties-1"></span><div class="header">
<p>
Next: <a href="#Initializers-1" accesskey="n" rel="next">Initializers 1</a>, Previous: <a href="#Extension-Syntax" accesskey="p" rel="prev">Extension Syntax</a>, Up: <a href="#Extensions" accesskey="u" rel="up">Extensions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Computed-Properties-3"></span><h3 class="section">25.2 Computed Properties</h3>

<p>Extensions can add computed instance properties and computed type
properties to existing types. This example adds five computed instance
properties to Swift&rsquo;s built-in &lsquo;<samp>Double</samp>&rsquo; type, to provide basic support
for working with distance units:
</p>
<div class="example">
<pre class="example">extension Double {
    var km: Double { return self * 1_000.0 }
    var m: Double { return self }
    var cm: Double { return self / 100.0 }
    var mm: Double { return self / 1_000.0 }
    var ft: Double { return self / 3.28084 }
}
let oneInch = 25.4.mm
print(&quot;One inch is \(oneInch) meters&quot;)
// Prints &quot;One inch is 0.0254 meters&quot;
let threeFeet = 3.ft
print(&quot;Three feet is \(threeFeet) meters&quot;)
// Prints &quot;Three feet is 0.914399970739201 meters&quot;
</pre></div>

<p>These computed properties express that a &lsquo;<samp>Double</samp>&rsquo; value should be
considered as a certain unit of length. Although they are implemented as
computed properties, the names of these properties can be appended to a
floating-point literal value with dot syntax, as a way to use that
literal value to perform distance conversions.
</p>
<p>In this example, a &lsquo;<samp>Double</samp>&rsquo; value of &lsquo;<samp>1.0</samp>&rsquo; is considered to represent
“one meter”. This is why the &lsquo;<samp>m</samp>&rsquo; computed property returns &lsquo;<samp>self</samp>&rsquo;&mdash;the
expression &lsquo;<samp>1.m</samp>&rsquo; is considered to calculate a &lsquo;<samp>Double</samp>&rsquo; value of &lsquo;<samp>1.0</samp>&rsquo;.
</p>
<p>Other units require some conversion to be expressed as a value measured
in meters. One kilometer is the same as 1,000 meters, so the &lsquo;<samp>km</samp>&rsquo;
computed property multiplies the value by &lsquo;<samp>1_000.00</samp>&rsquo; to convert into a
number expressed in meters. Similarly, there are 3.28084 feet in a
meter, and so the &lsquo;<samp>ft</samp>&rsquo; computed property divides the underlying &lsquo;<samp>Double</samp>&rsquo;
value by &lsquo;<samp>3.28084</samp>&rsquo;, to convert it from feet to meters.
</p>
<span id="index-get"></span>

<p>These properties are read-only computed properties, and so they are
expressed without the &lsquo;<samp>get</samp>&rsquo; keyword, for brevity. Their return value is
of type &lsquo;<samp>Double</samp>&rsquo;, and can be used within mathematical calculations
wherever a &lsquo;<samp>Double</samp>&rsquo; is accepted:
</p>
<div class="example">
<pre class="example">let aMarathon = 42.km + 195.m
print(&quot;A marathon is \(aMarathon) meters long&quot;)
// Prints &quot;A marathon is 42195.0 meters long&quot;
</pre></div>

<p>Note
</p>
<p>Extensions can add new computed properties, but they cannot add stored
properties, or add property observers to existing properties.
</p>
<hr>
<span id="Initializers-1"></span><div class="header">
<p>
Next: <a href="#Methods-1" accesskey="n" rel="next">Methods 1</a>, Previous: <a href="#Computed-Properties-1" accesskey="p" rel="prev">Computed Properties 1</a>, Up: <a href="#Extensions" accesskey="u" rel="up">Extensions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Initializers-4"></span><h3 class="section">25.3 Initializers</h3>

<p>Extensions can add new initializers to existing types. This enables you
to extend other types to accept your own custom types as initializer
parameters, or to provide additional initialization options that were
not included as part of the type&rsquo;s original implementation.
</p>
<p>Extensions can add new convenience initializers to a class, but they
cannot add new designated initializers or deinitializers to a class.
Designated initializers and deinitializers must always be provided by
the original class implementation.
</p>
<p>If you use an extension to add an initializer to a value type that
provides default values for all of its stored properties and does not
define any custom initializers, you can call the default initializer and
memberwise initializer for that value type from within your extension&rsquo;s
initializer. This wouldn&rsquo;t be the case if you had written the
initializer as part of the value type&rsquo;s original implementation, as
described in <a href="#Initializer-Delegation-for-Value-Types">Initializer Delegation for
Value Types</a>.
</p>
<p>If you use an extension to add an initializer to a structure that was
declared in another module, the new initializer can&rsquo;t access &lsquo;<samp>self</samp>&rsquo;
until it calls an initializer from the defining module.
</p>
<p>The example below defines a custom &lsquo;<samp>Rect</samp>&rsquo; structure to represent a
geometric rectangle. The example also defines two supporting structures
called &lsquo;<samp>Size</samp>&rsquo; and &lsquo;<samp>Point</samp>&rsquo;, both of which provide default values of &lsquo;<samp>0.0</samp>&rsquo;
for all of their properties:
</p>
<div class="example">
<pre class="example">struct Size {
    var width = 0.0, height = 0.0
}
struct Point {
    var x = 0.0, y = 0.0
}
struct Rect {
    var origin = Point()
    var size = Size()
}
</pre></div>

<p>Because the &lsquo;<samp>Rect</samp>&rsquo; structure provides default values for all of its
properties, it receives a default initializer and a memberwise
initializer automatically, as described in
<a href="#Default-Initializers">Default Initializers</a>. These
initializers can be used to create new &lsquo;<samp>Rect</samp>&rsquo; instances:
</p>
<div class="example">
<pre class="example">let defaultRect = Rect()
let memberwiseRect = Rect(origin: Point(x: 2.0, y: 2.0),
                          size: Size(width: 5.0, height: 5.0))
</pre></div>

<p>You can extend the &lsquo;<samp>Rect</samp>&rsquo; structure to provide an additional initializer
that takes a specific center point and size:
</p>
<div class="example">
<pre class="example">extension Rect {
    init(center: Point, size: Size) {
        let originX = center.x - (size.width / 2)
        let originY = center.y - (size.height / 2)
        self.init(origin: Point(x: originX, y: originY), size: size)
    }
}
</pre></div>

<p>This new initializer starts by calculating an appropriate origin point
based on the provided &lsquo;<samp>center</samp>&rsquo; point and &lsquo;<samp>size</samp>&rsquo; value. The initializer
then calls the structure&rsquo;s automatic memberwise initializer
&lsquo;<samp>init(origin:size:)</samp>&rsquo;, which stores the new origin and size values in the
appropriate properties:
</p>
<div class="example">
<pre class="example">let centerRect = Rect(center: Point(x: 4.0, y: 4.0),
                      size: Size(width: 3.0, height: 3.0))
// centerRect's origin is (2.5, 2.5) and its size is (3.0, 3.0)
</pre></div>

<p>Note
</p>
<p>If you provide a new initializer with an extension, you are still
responsible for making sure that each instance is fully initialized once
the initializer completes.
</p>
<hr>
<span id="Methods-1"></span><div class="header">
<p>
Next: <a href="#Subscripts-1" accesskey="n" rel="next">Subscripts 1</a>, Previous: <a href="#Initializers-1" accesskey="p" rel="prev">Initializers 1</a>, Up: <a href="#Extensions" accesskey="u" rel="up">Extensions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Methods-3"></span><h3 class="section">25.4 Methods</h3>

<p>Extensions can add new instance methods and type methods to existing
types. The following example adds a new instance method called
&lsquo;<samp>repetitions</samp>&rsquo; to the &lsquo;<samp>Int</samp>&rsquo; type:
</p>
<div class="example">
<pre class="example">extension Int {
    func repetitions(task: () -&gt; Void) {
        for _ in 0..&lt;self {
            task()
        }
    }
}
</pre></div>

<p>The &lsquo;<samp>repetitions(task:)</samp>&rsquo; method takes a single argument of type
&lsquo;<samp>() -&gt; Void</samp>&rsquo;, which indicates a function that has no parameters and does
not return a value.
</p>
<p>After defining this extension, you can call the &lsquo;<samp>repetitions(task:)</samp>&rsquo;
method on any integer to perform a task that many number of times:
</p>
<div class="example">
<pre class="example">3.repetitions {
    print(&quot;Hello!&quot;)
}
// Hello!
// Hello!
// Hello!
</pre></div>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Mutating-Instance-Methods" accesskey="1">Mutating Instance Methods</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Mutating-Instance-Methods"></span><div class="header">
<p>
Up: <a href="#Methods-1" accesskey="u" rel="up">Methods 1</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Mutating-Instance-Methods-1"></span><h4 class="subsection">25.4.1 Mutating Instance Methods</h4>

<p>Instance methods added with an extension can also modify (or <em>mutate</em>)
the instance itself. Structure and enumeration methods that modify
&lsquo;<samp>self</samp>&rsquo; or its properties must mark the instance method as &lsquo;<samp>mutating</samp>&rsquo;,
just like mutating methods from an original implementation.
</p>
<p>The example below adds a new mutating method called &lsquo;<samp>square</samp>&rsquo; to Swift&rsquo;s
&lsquo;<samp>Int</samp>&rsquo; type, which squares the original value:
</p>
<div class="example">
<pre class="example">extension Int {
    mutating func square() {
        self = self * self
    }
}
var someInt = 3
someInt.square()
// someInt is now 9
</pre></div>

<hr>
<span id="Subscripts-1"></span><div class="header">
<p>
Next: <a href="#Nested-Types-1" accesskey="n" rel="next">Nested Types 1</a>, Previous: <a href="#Methods-1" accesskey="p" rel="prev">Methods 1</a>, Up: <a href="#Extensions" accesskey="u" rel="up">Extensions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Subscripts-3"></span><h3 class="section">25.5 Subscripts</h3>

<p>Extensions can add new subscripts to an existing type. This example adds
an integer subscript to Swift&rsquo;s built-in &lsquo;<samp>Int</samp>&rsquo; type. This subscript
&lsquo;<samp>[n]</samp>&rsquo; returns the decimal digit &lsquo;<samp>n</samp>&rsquo; places in from the right of the
number:
</p>
<ul>
<li> &lsquo;<samp>123456789[0]</samp>&rsquo; returns &lsquo;<samp>9</samp>&rsquo;

</li><li> &lsquo;<samp>123456789[1]</samp>&rsquo; returns &lsquo;<samp>8</samp>&rsquo;
</li></ul>

<p>&hellip;and so on:
</p>
<div class="example">
<pre class="example">extension Int {
    subscript(digitIndex: Int) -&gt; Int {
        var decimalBase = 1
        for _ in 0..&lt;digitIndex {
            decimalBase *= 10
        }
        return (self / decimalBase) % 10
    }
}
746381295[0]
// returns 5
746381295[1]
// returns 9
746381295[2]
// returns 2
746381295[8]
// returns 7
</pre></div>

<p>If the &lsquo;<samp>Int</samp>&rsquo; value does not have enough digits for the requested index,
the subscript implementation returns &lsquo;<samp>0</samp>&rsquo;, as if the number had been
padded with zeros to the left:
</p>
<div class="example">
<pre class="example">746381295[9]
// returns 0, as if you had requested:
0746381295[9]
</pre></div>

<hr>
<span id="Nested-Types-1"></span><div class="header">
<p>
Previous: <a href="#Subscripts-1" accesskey="p" rel="prev">Subscripts 1</a>, Up: <a href="#Extensions" accesskey="u" rel="up">Extensions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Nested-Types-4"></span><h3 class="section">25.6 Nested Types</h3>

<p>Extensions can add new nested types to existing classes, structures, and
enumerations:
</p>
<div class="example">
<pre class="example">extension Int {
    enum Kind {
        case negative, zero, positive
    }
    var kind: Kind {
        switch self {
        case 0:
            return .zero
        case let x where x &gt; 0:
            return .positive
        default:
            return .negative
        }
    }
}
</pre></div>

<p>This example adds a new nested enumeration to &lsquo;<samp>Int</samp>&rsquo;. This enumeration,
called &lsquo;<samp>Kind</samp>&rsquo;, expresses the kind of number that a particular integer
represents. Specifically, it expresses whether the number is negative,
zero, or positive.
</p>
<p>This example also adds a new computed instance property to &lsquo;<samp>Int</samp>&rsquo;, called
&lsquo;<samp>kind</samp>&rsquo;, which returns the appropriate &lsquo;<samp>Kind</samp>&rsquo; enumeration case for that
integer.
</p>
<p>The nested enumeration can now be used with any &lsquo;<samp>Int</samp>&rsquo; value:
</p>
<div class="example">
<pre class="example">func printIntegerKinds(_ numbers: [Int]) {
    for number in numbers {
        switch number.kind {
        case .negative:
            print(&quot;- &quot;, terminator: &quot;&quot;)
        case .zero:
            print(&quot;0 &quot;, terminator: &quot;&quot;)
        case .positive:
            print(&quot;+ &quot;, terminator: &quot;&quot;)
        }
    }
    print(&quot;&quot;)
}
printIntegerKinds([3, 19, -27, 0, -6, 0, 7])
// Prints &quot;+ + - 0 - 0 + &quot;
</pre></div>

<p>This function, &lsquo;<samp>printIntegerKinds(_:)</samp>&rsquo;, takes an input array of &lsquo;<samp>Int</samp>&rsquo;
values and iterates over those values in turn. For each integer in the
array, the function considers the &lsquo;<samp>kind</samp>&rsquo; computed property for that
integer, and prints an appropriate description.
</p>
<p>Note
</p>
<p>&lsquo;<samp>number.kind</samp>&rsquo; is already known to be of type &lsquo;<samp>Int.Kind</samp>&rsquo;. Because of
this, all of the &lsquo;<samp>Int.Kind</samp>&rsquo; case values can be written in shorthand form
inside the &lsquo;<samp>switch</samp>&rsquo; statement, such as &lsquo;<samp>.negative</samp>&rsquo; rather than
&lsquo;<samp>Int.Kind.negative</samp>&rsquo;.
</p>
<hr>
<span id="Protocols"></span><div class="header">
<p>
Next: <a href="#Generics-1" accesskey="n" rel="next">Generics 1</a>, Previous: <a href="#Extensions" accesskey="p" rel="prev">Extensions</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Protocols-2"></span><h2 class="chapter">26 Protocols</h2>

<span id="index-protocol"></span>

<p>A <em>protocol</em> defines a blueprint of methods, properties, and other
requirements that suit a particular task or piece of functionality. The
protocol can then be <em>adopted</em> by a class, structure, or enumeration to
provide an actual implementation of those requirements. Any type that
satisfies the requirements of a protocol is said to <em>conform</em> to that
protocol.
</p>
<p>In addition to specifying requirements that conforming types must
implement, you can extend a protocol to implement some of these
requirements or to implement additional functionality that conforming
types can take advantage of.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Protocol-Syntax" accesskey="1">Protocol Syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Property-Requirements" accesskey="2">Property Requirements</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Method-Requirements" accesskey="3">Method Requirements</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Mutating-Method-Requirements" accesskey="4">Mutating Method Requirements</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Initializer-Requirements" accesskey="5">Initializer Requirements</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Protocols-as-Types" accesskey="6">Protocols as Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Delegation" accesskey="7">Delegation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Adding-Protocol-Conformance-with-an-Extension" accesskey="8">Adding Protocol Conformance with an Extension</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Collections-of-Protocol-Types" accesskey="9">Collections of Protocol Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Protocol-Inheritance">Protocol Inheritance</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Class_002dOnly-Protocols">Class-Only Protocols</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Protocol-Composition">Protocol Composition</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Checking-for-Protocol-Conformance">Checking for Protocol Conformance</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Optional-Protocol-Requirements">Optional Protocol Requirements</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Protocol-Extensions">Protocol Extensions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Protocol-Syntax"></span><div class="header">
<p>
Next: <a href="#Property-Requirements" accesskey="n" rel="next">Property Requirements</a>, Up: <a href="#Protocols" accesskey="u" rel="up">Protocols</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Protocol-Syntax-1"></span><h3 class="section">26.1 Protocol Syntax</h3>

<p>You define protocols in a very similar way to classes, structures, and
enumerations:
</p>
<div class="example">
<pre class="example">protocol SomeProtocol {
    // protocol definition goes here
}
</pre></div>

<p>Custom types state that they adopt a particular protocol by placing the
protocol&rsquo;s name after the type&rsquo;s name, separated by a colon, as part of
their definition. Multiple protocols can be listed, and are separated by
commas:
</p>
<div class="example">
<pre class="example">struct SomeStructure: FirstProtocol, AnotherProtocol {
    // structure definition goes here
}
</pre></div>

<p>If a class has a superclass, list the superclass name before any
protocols it adopts, followed by a comma:
</p>
<div class="example">
<pre class="example">class SomeClass: SomeSuperclass, FirstProtocol, AnotherProtocol {
    // class definition goes here
}
</pre></div>

<hr>
<span id="Property-Requirements"></span><div class="header">
<p>
Next: <a href="#Method-Requirements" accesskey="n" rel="next">Method Requirements</a>, Previous: <a href="#Protocol-Syntax" accesskey="p" rel="prev">Protocol Syntax</a>, Up: <a href="#Protocols" accesskey="u" rel="up">Protocols</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Property-Requirements-1"></span><h3 class="section">26.2 Property Requirements</h3>

<p>A protocol can require any conforming type to provide an instance
property or type property with a particular name and type. The protocol
doesn&rsquo;t specify whether the property should be a stored property or a
computed property&mdash;it only specifies the required property name and
type. The protocol also specifies whether each property must be gettable
or gettable <em>and</em> settable.
</p>
<p>If a protocol requires a property to be gettable and settable, that
property requirement can&rsquo;t be fulfilled by a constant stored property or
a read-only computed property. If the protocol only requires a property
to be gettable, the requirement can be satisfied by any kind of
property, and it&rsquo;s valid for the property to be also settable if this is
useful for your own code.
</p>
<p>Property requirements are always declared as variable properties,
prefixed with the &lsquo;<samp>var</samp>&rsquo; keyword. Gettable and settable properties are
indicated by writing &lsquo;<samp>{ get set }</samp>&rsquo; after their type declaration, and
gettable properties are indicated by writing &lsquo;<samp>{ get }</samp>&rsquo;.
</p>
<div class="example">
<pre class="example">protocol SomeProtocol {
    var mustBeSettable: Int { get set }
    var doesNotNeedToBeSettable: Int { get }
}
</pre></div>

<p>Always prefix type property requirements with the &lsquo;<samp>static</samp>&rsquo; keyword when
you define them in a protocol. This rule pertains even though type
property requirements can be prefixed with the &lsquo;<samp>class</samp>&rsquo; or &lsquo;<samp>static</samp>&rsquo;
keyword when implemented by a class:
</p>
<div class="example">
<pre class="example">protocol AnotherProtocol {
    static var someTypeProperty: Int { get set }
}
</pre></div>

<p>Here&rsquo;s an example of a protocol with a single instance property
requirement:
</p>
<div class="example">
<pre class="example">protocol FullyNamed {
    var fullName: String { get }
}
</pre></div>

<p>The &lsquo;<samp>FullyNamed</samp>&rsquo; protocol requires a conforming type to provide a fully
qualified name. The protocol doesn&rsquo;t specify anything else about the
nature of the conforming type&mdash;it only specifies that the type must be
able to provide a full name for itself. The protocol states that any
&lsquo;<samp>FullyNamed</samp>&rsquo; type must have a gettable instance property called
&lsquo;<samp>fullName</samp>&rsquo;, which is of type &lsquo;<samp>String</samp>&rsquo;.
</p>
<p>Here&rsquo;s an example of a simple structure that adopts and conforms to the
&lsquo;<samp>FullyNamed</samp>&rsquo; protocol:
</p>
<div class="example">
<pre class="example">struct Person: FullyNamed {
    var fullName: String
}
let john = Person(fullName: &quot;John Appleseed&quot;)
// john.fullName is &quot;John Appleseed&quot;
</pre></div>

<p>This example defines a structure called &lsquo;<samp>Person</samp>&rsquo;, which represents a
specific named person. It states that it adopts the &lsquo;<samp>FullyNamed</samp>&rsquo;
protocol as part of the first line of its definition.
</p>
<p>Each instance of &lsquo;<samp>Person</samp>&rsquo; has a single stored property called
&lsquo;<samp>fullName</samp>&rsquo;, which is of type &lsquo;<samp>String</samp>&rsquo;. This matches the single
requirement of the &lsquo;<samp>FullyNamed</samp>&rsquo; protocol, and means that &lsquo;<samp>Person</samp>&rsquo; has
correctly conformed to the protocol. (Swift reports an error at
compile-time if a protocol requirement is not fulfilled.)
</p>
<p>Here&rsquo;s a more complex class, which also adopts and conforms to the
&lsquo;<samp>FullyNamed</samp>&rsquo; protocol:
</p>
<div class="example">
<pre class="example">class Starship: FullyNamed {
    var prefix: String?
    var name: String
    init(name: String, prefix: String? = nil) {
        self.name = name
        self.prefix = prefix
    }
    var fullName: String {
        return (prefix != nil ? prefix! + &quot; &quot; : &quot;&quot;) + name
    }
}
var ncc1701 = Starship(name: &quot;Enterprise&quot;, prefix: &quot;USS&quot;)
// ncc1701.fullName is &quot;USS Enterprise&quot;
</pre></div>

<p>This class implements the &lsquo;<samp>fullName</samp>&rsquo; property requirement as a computed
read-only property for a starship. Each &lsquo;<samp>Starship</samp>&rsquo; class instance stores
a mandatory &lsquo;<samp>name</samp>&rsquo; and an optional &lsquo;<samp>prefix</samp>&rsquo;. The &lsquo;<samp>fullName</samp>&rsquo; property
uses the &lsquo;<samp>prefix</samp>&rsquo; value if it exists, and prepends it to the beginning
of &lsquo;<samp>name</samp>&rsquo; to create a full name for the starship.
</p>
<hr>
<span id="Method-Requirements"></span><div class="header">
<p>
Next: <a href="#Mutating-Method-Requirements" accesskey="n" rel="next">Mutating Method Requirements</a>, Previous: <a href="#Property-Requirements" accesskey="p" rel="prev">Property Requirements</a>, Up: <a href="#Protocols" accesskey="u" rel="up">Protocols</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Method-Requirements-1"></span><h3 class="section">26.3 Method Requirements</h3>

<p>Protocols can require specific instance methods and type methods to be
implemented by conforming types. These methods are written as part of
the protocol&rsquo;s definition in exactly the same way as for normal instance
and type methods, but without curly braces or a method body. Variadic
parameters are allowed, subject to the same rules as for normal methods.
Default values, however, can&rsquo;t be specified for method parameters within
a protocol&rsquo;s definition.
</p>
<p>As with type property requirements, you always prefix type method
requirements with the &lsquo;<samp>static</samp>&rsquo; keyword when they&rsquo;re defined in a
protocol. This is true even though type method requirements are prefixed
with the &lsquo;<samp>class</samp>&rsquo; or &lsquo;<samp>static</samp>&rsquo; keyword when implemented by a class:
</p>
<div class="example">
<pre class="example">protocol SomeProtocol {
    static func someTypeMethod()
}
</pre></div>

<p>The following example defines a protocol with a single instance method
requirement:
</p>
<div class="example">
<pre class="example">protocol RandomNumberGenerator {
    func random() -&gt; Double
}
</pre></div>

<p>This protocol, &lsquo;<samp>RandomNumberGenerator</samp>&rsquo;, requires any conforming type to
have an instance method called &lsquo;<samp>random</samp>&rsquo;, which returns a &lsquo;<samp>Double</samp>&rsquo; value
whenever it&rsquo;s called. Although it&rsquo;s not specified as part of the
protocol, it&rsquo;s assumed that this value will be a number from &lsquo;<samp>0.0</samp>&rsquo; up to
(but not including) &lsquo;<samp>1.0</samp>&rsquo;.
</p>
<p>The &lsquo;<samp>RandomNumberGenerator</samp>&rsquo; protocol doesn&rsquo;t make any assumptions about
how each random number will be generated&mdash;it simply requires the
generator to provide a standard way to generate a new random number.
</p>
<p>Here&rsquo;s an implementation of a class that adopts and conforms to the
&lsquo;<samp>RandomNumberGenerator</samp>&rsquo; protocol. This class implements a pseudorandom
number generator algorithm known as a <em>linear congruential generator</em>:
</p>
<div class="example">
<pre class="example">class LinearCongruentialGenerator: RandomNumberGenerator {
    var lastRandom = 42.0
    let m = 139968.0
    let a = 3877.0
    let c = 29573.0
    func random() -&gt; Double {
        lastRandom = ((lastRandom * a +
                         c).truncatingRemainder(dividingBy:m))
        return lastRandom / m
    }
}
let generator = LinearCongruentialGenerator()
print(&quot;Here's a random number: \(generator.random())&quot;)
// Prints &quot;Here's a random number: 0.3746499199817101&quot;
print(&quot;And another one: \(generator.random())&quot;)
// Prints &quot;And another one: 0.729023776863283&quot;
</pre></div>

<hr>
<span id="Mutating-Method-Requirements"></span><div class="header">
<p>
Next: <a href="#Initializer-Requirements" accesskey="n" rel="next">Initializer Requirements</a>, Previous: <a href="#Method-Requirements" accesskey="p" rel="prev">Method Requirements</a>, Up: <a href="#Protocols" accesskey="u" rel="up">Protocols</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Mutating-Method-Requirements-1"></span><h3 class="section">26.4 Mutating Method Requirements</h3>

<p>It&rsquo;s sometimes necessary for a method to modify (or <em>mutate</em>) the
instance it belongs to. For instance methods on value types (that is,
structures and enumerations) you place the &lsquo;<samp>mutating</samp>&rsquo; keyword before a
method&rsquo;s &lsquo;<samp>func</samp>&rsquo; keyword to indicate that the method is allowed to modify
the instance it belongs to and any properties of that instance. This
process is described in <a href="#Modifying-Value-Types-from-Within-Instance-Methods">Modifying Value Types
from Within Instance Methods</a>.
</p>
<p>If you define a protocol instance method requirement that is intended to
mutate instances of any type that adopts the protocol, mark the method
with the &lsquo;<samp>mutating</samp>&rsquo; keyword as part of the protocol&rsquo;s definition. This
enables structures and enumerations to adopt the protocol and satisfy
that method requirement.
</p>
<p>Note
</p>
<p>If you mark a protocol instance method requirement as &lsquo;<samp>mutating</samp>&rsquo;, you
don&rsquo;t need to write the &lsquo;<samp>mutating</samp>&rsquo; keyword when writing an
implementation of that method for a class. The &lsquo;<samp>mutating</samp>&rsquo; keyword is
only used by structures and enumerations.
</p>
<p>The example below defines a protocol called &lsquo;<samp>Togglable</samp>&rsquo;, which defines a
single instance method requirement called &lsquo;<samp>toggle</samp>&rsquo;. As its name
suggests, the &lsquo;<samp>toggle()</samp>&rsquo; method is intended to toggle or invert the
state of any conforming type, typically by modifying a property of that
type.
</p>
<p>The &lsquo;<samp>toggle()</samp>&rsquo; method is marked with the &lsquo;<samp>mutating</samp>&rsquo; keyword as part of
the &lsquo;<samp>Togglable</samp>&rsquo; protocol definition, to indicate that the method is
expected to mutate the state of a conforming instance when it&rsquo;s called:
</p>
<div class="example">
<pre class="example">protocol Togglable {
    mutating func toggle()
}
</pre></div>

<p>If you implement the &lsquo;<samp>Togglable</samp>&rsquo; protocol for a structure or
enumeration, that structure or enumeration can conform to the protocol
by providing an implementation of the &lsquo;<samp>toggle()</samp>&rsquo; method that is also
marked as &lsquo;<samp>mutating</samp>&rsquo;.
</p>
<p>The example below defines an enumeration called &lsquo;<samp>OnOffSwitch</samp>&rsquo;. This
enumeration toggles between two states, indicated by the enumeration
cases &lsquo;<samp>on</samp>&rsquo; and &lsquo;<samp>off</samp>&rsquo;. The enumeration&rsquo;s &lsquo;<samp>toggle</samp>&rsquo; implementation is
marked as &lsquo;<samp>mutating</samp>&rsquo;, to match the &lsquo;<samp>Togglable</samp>&rsquo; protocol&rsquo;s requirements:
</p>
<div class="example">
<pre class="example">enum OnOffSwitch: Togglable {
    case off, on
    mutating func toggle() {
        switch self {
        case .off:
            self = .on
        case .on:
            self = .off
        }
    }
}
var lightSwitch = OnOffSwitch.off
lightSwitch.toggle()
// lightSwitch is now equal to .on
</pre></div>

<hr>
<span id="Initializer-Requirements"></span><div class="header">
<p>
Next: <a href="#Protocols-as-Types" accesskey="n" rel="next">Protocols as Types</a>, Previous: <a href="#Mutating-Method-Requirements" accesskey="p" rel="prev">Mutating Method Requirements</a>, Up: <a href="#Protocols" accesskey="u" rel="up">Protocols</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Initializer-Requirements-1"></span><h3 class="section">26.5 Initializer Requirements</h3>

<p>Protocols can require specific initializers to be implemented by
conforming types. You write these initializers as part of the protocol&rsquo;s
definition in exactly the same way as for normal initializers, but
without curly braces or an initializer body:
</p>
<div class="example">
<pre class="example">protocol SomeProtocol {
    init(someParameter: Int)
}
</pre></div>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Class-Implementations-of-Protocol-Initializer-Requirements" accesskey="1">Class Implementations of Protocol Initializer Requirements</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Failable-Initializer-Requirements" accesskey="2">Failable Initializer Requirements</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Class-Implementations-of-Protocol-Initializer-Requirements"></span><div class="header">
<p>
Next: <a href="#Failable-Initializer-Requirements" accesskey="n" rel="next">Failable Initializer Requirements</a>, Up: <a href="#Initializer-Requirements" accesskey="u" rel="up">Initializer Requirements</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Class-Implementations-of-Protocol-Initializer-Requirements-1"></span><h4 class="subsection">26.5.1 Class Implementations of Protocol Initializer Requirements</h4>

<p>You can implement a protocol initializer requirement on a conforming
class as either a designated initializer or a convenience initializer.
In both cases, you must mark the initializer implementation with the
&lsquo;<samp>required</samp>&rsquo; modifier:
</p>
<div class="example">
<pre class="example">class SomeClass: SomeProtocol {
    required init(someParameter: Int) {
        // initializer implementation goes here
    }
}
</pre></div>

<p>The use of the &lsquo;<samp>required</samp>&rsquo; modifier ensures that you provide an explicit
or inherited implementation of the initializer requirement on all
subclasses of the conforming class, such that they also conform to the
protocol.
</p>
<p>For more information on required initializers, see
<a href="#Required-Initializers">Required Initializers</a>.
</p>
<p>Note
</p>
<p>You don&rsquo;t need to mark protocol initializer implementations with the
&lsquo;<samp>required</samp>&rsquo; modifier on classes that are marked with the &lsquo;<samp>final</samp>&rsquo;
modifier, because final classes can&rsquo;t subclassed. For more about the
&lsquo;<samp>final</samp>&rsquo; modifier, see <a href="#Preventing-Overrides">Preventing
Overrides</a>.
</p>
<p>If a subclass overrides a designated initializer from a superclass, and
also implements a matching initializer requirement from a protocol, mark
the initializer implementation with both the &lsquo;<samp>required</samp>&rsquo; and &lsquo;<samp>override</samp>&rsquo;
modifiers:
</p>
<div class="example">
<pre class="example">protocol SomeProtocol {
    init()
}

class SomeSuperClass {
    init() {
        // initializer implementation goes here
    }
}

class SomeSubClass: SomeSuperClass, SomeProtocol {
    // &quot;required&quot; from SomeProtocol conformance; &quot;override&quot; from SomeSuperClass
    required override init() {
        // initializer implementation goes here
    }
}
</pre></div>

<hr>
<span id="Failable-Initializer-Requirements"></span><div class="header">
<p>
Previous: <a href="#Class-Implementations-of-Protocol-Initializer-Requirements" accesskey="p" rel="prev">Class Implementations of Protocol Initializer Requirements</a>, Up: <a href="#Initializer-Requirements" accesskey="u" rel="up">Initializer Requirements</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Failable-Initializer-Requirements-1"></span><h4 class="subsection">26.5.2 Failable Initializer Requirements</h4>

<p>Protocols can define failable initializer requirements for conforming
types, as defined in <a href="#Failable-Initializers">Failable
Initializers</a>.
</p>
<p>A failable initializer requirement can be satisfied by a failable or
nonfailable initializer on a conforming type. A nonfailable initializer
requirement can be satisfied by a nonfailable initializer or an
implicitly unwrapped failable initializer.
</p>
<hr>
<span id="Protocols-as-Types"></span><div class="header">
<p>
Next: <a href="#Delegation" accesskey="n" rel="next">Delegation</a>, Previous: <a href="#Initializer-Requirements" accesskey="p" rel="prev">Initializer Requirements</a>, Up: <a href="#Protocols" accesskey="u" rel="up">Protocols</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Protocols-as-Types-1"></span><h3 class="section">26.6 Protocols as Types</h3>

<p>Protocols don&rsquo;t actually implement any functionality themselves.
Nonetheless, you can use protocols as a fully fledged types in your
code. Using a protocol as a type is sometimes called an <em>existential
type</em>, which comes from the phrase “there exists a type <em>T</em> such that
<em>T</em> conforms to the protocol”.
</p>
<p>You can use a protocol in many places where other types are allowed,
including:
</p>
<ul>
<li> As a parameter type or return type in a function, method, or
initializer

</li><li> As the type of a constant, variable, or property

</li><li> As the type of items in an array, dictionary, or other container
</li></ul>

<p>Note
</p>
<p>Because protocols are types, begin their names with a capital letter
(such as &lsquo;<samp>FullyNamed</samp>&rsquo; and &lsquo;<samp>RandomNumberGenerator</samp>&rsquo;) to match the names of
other types in Swift (such as &lsquo;<samp>Int</samp>&rsquo;, &lsquo;<samp>String</samp>&rsquo;, and &lsquo;<samp>Double</samp>&rsquo;).
</p>
<p>Here&rsquo;s an example of a protocol used as a type:
</p>
<div class="example">
<pre class="example">class Dice {
    let sides: Int
    let generator: RandomNumberGenerator
    init(sides: Int, generator: RandomNumberGenerator) {
        self.sides = sides
        self.generator = generator
    }
    func roll() -&gt; Int {
        return Int(generator.random() * Double(sides)) + 1
    }
}
</pre></div>

<p>This example defines a new class called &lsquo;<samp>Dice</samp>&rsquo;, which represents an
<em>n</em>-sided dice for use in a board game. &lsquo;<samp>Dice</samp>&rsquo; instances have an integer
property called &lsquo;<samp>sides</samp>&rsquo;, which represents how many sides they have, and
a property called &lsquo;<samp>generator</samp>&rsquo;, which provides a random number generator
from which to create dice roll values.
</p>
<p>The &lsquo;<samp>generator</samp>&rsquo; property is of type &lsquo;<samp>RandomNumberGenerator</samp>&rsquo;. Therefore,
you can set it to an instance of <em>any</em> type that adopts the
&lsquo;<samp>RandomNumberGenerator</samp>&rsquo; protocol. Nothing else is required of the
instance you assign to this property, except that the instance must
adopt the &lsquo;<samp>RandomNumberGenerator</samp>&rsquo; protocol. Because its type is
&lsquo;<samp>RandomNumberGenerator</samp>&rsquo;, code inside the &lsquo;<samp>Dice</samp>&rsquo; class can only interact
with &lsquo;<samp>generator</samp>&rsquo; in ways that apply to all generators that conform to
this protocol. That means it can&rsquo;t use any methods or properties that
are defined by the underlying type of the generator. However, you can
downcast from a protocol type to an underlying type in the same way you
can downcast from a superclass to a subclass, as discussed in
<a href="#Downcasting">Downcasting</a>.
</p>
<p>&lsquo;<samp>Dice</samp>&rsquo; also has an initializer, to set up its initial state. This
initializer has a parameter called &lsquo;<samp>generator</samp>&rsquo;, which is also of type
&lsquo;<samp>RandomNumberGenerator</samp>&rsquo;. You can pass a value of any conforming type in
to this parameter when initializing a new &lsquo;<samp>Dice</samp>&rsquo; instance.
</p>
<p>&lsquo;<samp>Dice</samp>&rsquo; provides one instance method, &lsquo;<samp>roll</samp>&rsquo;, which returns an integer
value between 1 and the number of sides on the dice. This method calls
the generator&rsquo;s &lsquo;<samp>random()</samp>&rsquo; method to create a new random number between
&lsquo;<samp>0.0</samp>&rsquo; and &lsquo;<samp>1.0</samp>&rsquo;, and uses this random number to create a dice roll value
within the correct range. Because &lsquo;<samp>generator</samp>&rsquo; is known to adopt
&lsquo;<samp>RandomNumberGenerator</samp>&rsquo;, it&rsquo;s guaranteed to have a &lsquo;<samp>random()</samp>&rsquo; method to
call.
</p>
<p>Here&rsquo;s how the &lsquo;<samp>Dice</samp>&rsquo; class can be used to create a six-sided dice with
a &lsquo;<samp>LinearCongruentialGenerator</samp>&rsquo; instance as its random number generator:
</p>
<div class="example">
<pre class="example">var d6 = Dice(sides: 6, generator: LinearCongruentialGenerator())
for _ in 1...5 {
    print(&quot;Random dice roll is \(d6.roll())&quot;)
}
// Random dice roll is 3
// Random dice roll is 5
// Random dice roll is 4
// Random dice roll is 5
// Random dice roll is 4
</pre></div>

<hr>
<span id="Delegation"></span><div class="header">
<p>
Next: <a href="#Adding-Protocol-Conformance-with-an-Extension" accesskey="n" rel="next">Adding Protocol Conformance with an Extension</a>, Previous: <a href="#Protocols-as-Types" accesskey="p" rel="prev">Protocols as Types</a>, Up: <a href="#Protocols" accesskey="u" rel="up">Protocols</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Delegation-1"></span><h3 class="section">26.7 Delegation</h3>

<p><em>Delegation</em> is a design pattern that enables a class or structure to
hand off (or <em>delegate</em>) some of its responsibilities to an instance of
another type. This design pattern is implemented by defining a protocol
that encapsulates the delegated responsibilities, such that a conforming
type (known as a delegate) is guaranteed to provide the functionality
that has been delegated. Delegation can be used to respond to a
particular action, or to retrieve data from an external source without
needing to know the underlying type of that source.
</p>
<p>The example below defines two protocols for use with dice-based board
games:
</p>
<div class="example">
<pre class="example">protocol DiceGame {
    var dice: Dice { get }
    func play()
}
protocol DiceGameDelegate: AnyObject {
    func gameDidStart(_ game: DiceGame)
    func game(_ game: DiceGame, didStartNewTurnWithDiceRoll diceRoll: Int)
    func gameDidEnd(_ game: DiceGame)
}
</pre></div>

<p>The &lsquo;<samp>DiceGame</samp>&rsquo; protocol is a protocol that can be adopted by any game
that involves dice.
</p>
<p>The &lsquo;<samp>DiceGameDelegate</samp>&rsquo; protocol can be adopted to track the progress of
a &lsquo;<samp>DiceGame</samp>&rsquo;. To prevent strong reference cycles, delegates are declared
as weak references. For information about weak references, see
<a href="#Strong-Reference-Cycles-Between-Class-Instances">Strong Reference Cycles
Between Class Instances</a>. Marking the protocol as class-only lets the
&lsquo;<samp>SnakesAndLadders</samp>&rsquo; class later in this chapter declare that its delegate
must use a weak reference. A class-only protocol is marked by its
inheritance from &lsquo;<samp>AnyObject</samp>&rsquo; as discussed in
<a href="#Class_002dOnly-Protocols">Class-Only Protocols</a>.
</p>
<p>Here&rsquo;s a version of the <em>Snakes and Ladders</em> game originally introduced
in <a href="#Control-Flow">Control Flow</a>. This version is adapted to use
a &lsquo;<samp>Dice</samp>&rsquo; instance for its dice-rolls; to adopt the &lsquo;<samp>DiceGame</samp>&rsquo; protocol;
and to notify a &lsquo;<samp>DiceGameDelegate</samp>&rsquo; about its progress:
</p>
<div class="example">
<pre class="example">class SnakesAndLadders: DiceGame {
    let finalSquare = 25
    let dice = Dice(sides: 6, generator: LinearCongruentialGenerator())
    var square = 0
    var board: [Int]
    init() {
        board = Array(repeating: 0, count: finalSquare + 1)
        board[03] = +08; board[06] = +11; board[09] = +09; board[10] = +02
        board[14] = -10; board[19] = -11; board[22] = -02; board[24] = -08
    }
    weak var delegate: DiceGameDelegate?
    func play() {
        square = 0
        delegate?.gameDidStart(self)
        gameLoop: while square != finalSquare {
            let diceRoll = dice.roll()
            delegate?.game(self, didStartNewTurnWithDiceRoll: diceRoll)
            switch square + diceRoll {
            case finalSquare:
                break gameLoop
            case let newSquare where newSquare &gt; finalSquare:
                continue gameLoop
            default:
                square += diceRoll
                square += board[square]
            }
        }
        delegate?.gameDidEnd(self)
    }
}
</pre></div>

<p>For a description of the <em>Snakes and Ladders</em> gameplay, see
<a href="#Break">Break</a>.
</p>
<p>This version of the game is wrapped up as a class called
&lsquo;<samp>SnakesAndLadders</samp>&rsquo;, which adopts the &lsquo;<samp>DiceGame</samp>&rsquo; protocol. It provides a
gettable &lsquo;<samp>dice</samp>&rsquo; property and a &lsquo;<samp>play()</samp>&rsquo; method in order to conform to
the protocol. (The &lsquo;<samp>dice</samp>&rsquo; property is declared as a constant property
because it doesn&rsquo;t need to change after initialization, and the protocol
only requires that it must be gettable.)
</p>
<p>The <em>Snakes and Ladders</em> game board setup takes place within the class&rsquo;s
&lsquo;<samp>init()</samp>&rsquo; initializer. All game logic is moved into the protocol&rsquo;s &lsquo;<samp>play</samp>&rsquo;
method, which uses the protocol&rsquo;s required &lsquo;<samp>dice</samp>&rsquo; property to provide
its dice roll values.
</p>
<p>Note that the &lsquo;<samp>delegate</samp>&rsquo; property is defined as an <em>optional</em>
&lsquo;<samp>DiceGameDelegate</samp>&rsquo;, because a delegate isn&rsquo;t required in order to play
the game. Because it&rsquo;s of an optional type, the &lsquo;<samp>delegate</samp>&rsquo; property is
automatically set to an initial value of &lsquo;<samp>nil</samp>&rsquo;. Thereafter, the game
instantiator has the option to set the property to a suitable delegate.
Because the &lsquo;<samp>DiceGameDelegate</samp>&rsquo; protocol is class-only, you can declare
the delegate to be &lsquo;<samp>weak</samp>&rsquo; to prevent reference cycles.
</p>
<p>&lsquo;<samp>DiceGameDelegate</samp>&rsquo; provides three methods for tracking the progress of a
game. These three methods have been incorporated into the game logic
within the &lsquo;<samp>play()</samp>&rsquo; method above, and are called when a new game starts,
a new turn begins, or the game ends.
</p>
<p>Because the &lsquo;<samp>delegate</samp>&rsquo; property is an <em>optional</em> &lsquo;<samp>DiceGameDelegate</samp>&rsquo;, the
&lsquo;<samp>play()</samp>&rsquo; method uses optional chaining each time it calls a method on
the delegate. If the &lsquo;<samp>delegate</samp>&rsquo; property is nil, these delegate calls
fail gracefully and without error. If the &lsquo;<samp>delegate</samp>&rsquo; property is
non-nil, the delegate methods are called, and are passed the
&lsquo;<samp>SnakesAndLadders</samp>&rsquo; instance as a parameter.
</p>
<p>This next example shows a class called &lsquo;<samp>DiceGameTracker</samp>&rsquo;, which adopts
the &lsquo;<samp>DiceGameDelegate</samp>&rsquo; protocol:
</p>
<div class="example">
<pre class="example">class DiceGameTracker: DiceGameDelegate {
    var numberOfTurns = 0
    func gameDidStart(_ game: DiceGame) {
        numberOfTurns = 0
        if game is SnakesAndLadders {
            print(&quot;Started a new game of Snakes and Ladders&quot;)
        }
        print(&quot;The game is using a \(game.dice.sides)-sided dice&quot;)
    }
    func game(_ game: DiceGame, didStartNewTurnWithDiceRoll diceRoll: Int) {
        numberOfTurns += 1
        print(&quot;Rolled a \(diceRoll)&quot;)
    }
    func gameDidEnd(_ game: DiceGame) {
        print(&quot;The game lasted for \(numberOfTurns) turns&quot;)
    }
}
</pre></div>

<p>&lsquo;<samp>DiceGameTracker</samp>&rsquo; implements all three methods required by
&lsquo;<samp>DiceGameDelegate</samp>&rsquo;. It uses these methods to keep track of the number of
turns a game has taken. It resets a &lsquo;<samp>numberOfTurns</samp>&rsquo; property to zero
when the game starts, increments it each time a new turn begins, and
prints out the total number of turns once the game has ended.
</p>
<p>The implementation of &lsquo;<samp>gameDidStart(_:)</samp>&rsquo; shown above uses the &lsquo;<samp>game</samp>&rsquo;
parameter to print some introductory information about the game that is
about to be played. The &lsquo;<samp>game</samp>&rsquo; parameter has a type of &lsquo;<samp>DiceGame</samp>&rsquo;, not
&lsquo;<samp>SnakesAndLadders</samp>&rsquo;, and so &lsquo;<samp>gameDidStart(_:)</samp>&rsquo; can access and use only
methods and properties that are implemented as part of the &lsquo;<samp>DiceGame</samp>&rsquo;
protocol. However, the method is still able to use type casting to query
the type of the underlying instance. In this example, it checks whether
&lsquo;<samp>game</samp>&rsquo; is actually an instance of &lsquo;<samp>SnakesAndLadders</samp>&rsquo; behind the scenes,
and prints an appropriate message if so.
</p>
<p>The &lsquo;<samp>gameDidStart(_:)</samp>&rsquo; method also accesses the &lsquo;<samp>dice</samp>&rsquo; property of the
passed &lsquo;<samp>game</samp>&rsquo; parameter. Because &lsquo;<samp>game</samp>&rsquo; is known to conform to the
&lsquo;<samp>DiceGame</samp>&rsquo; protocol, it&rsquo;s guaranteed to have a &lsquo;<samp>dice</samp>&rsquo; property, and so
the &lsquo;<samp>gameDidStart(_:)</samp>&rsquo; method is able to access and print the dice&rsquo;s
&lsquo;<samp>sides</samp>&rsquo; property, regardless of what kind of game is being played.
</p>
<p>Here&rsquo;s how &lsquo;<samp>DiceGameTracker</samp>&rsquo; looks in action:
</p>
<div class="example">
<pre class="example">let tracker = DiceGameTracker()
let game = SnakesAndLadders()
game.delegate = tracker
game.play()
// Started a new game of Snakes and Ladders
// The game is using a 6-sided dice
// Rolled a 3
// Rolled a 5
// Rolled a 4
// Rolled a 5
// The game lasted for 4 turns
</pre></div>

<hr>
<span id="Adding-Protocol-Conformance-with-an-Extension"></span><div class="header">
<p>
Next: <a href="#Collections-of-Protocol-Types" accesskey="n" rel="next">Collections of Protocol Types</a>, Previous: <a href="#Delegation" accesskey="p" rel="prev">Delegation</a>, Up: <a href="#Protocols" accesskey="u" rel="up">Protocols</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Adding-Protocol-Conformance-with-an-Extension-1"></span><h3 class="section">26.8 Adding Protocol Conformance with an Extension</h3>

<p>You can extend an existing type to adopt and conform to a new protocol,
even if you don&rsquo;t have access to the source code for the existing type.
Extensions can add new properties, methods, and subscripts to an
existing type, and are therefore able to add any requirements that a
protocol may demand. For more about extensions, see
<a href="#Extensions">Extensions</a>.
</p>
<p>Note
</p>
<p>Existing instances of a type automatically adopt and conform to a
protocol when that conformance is added to the instance&rsquo;s type in an
extension.
</p>
<p>For example, this protocol, called &lsquo;<samp>TextRepresentable</samp>&rsquo;, can be
implemented by any type that has a way to be represented as text. This
might be a description of itself, or a text version of its current
state:
</p>
<div class="example">
<pre class="example">protocol TextRepresentable {
    var textualDescription: String { get }
}
</pre></div>

<p>The &lsquo;<samp>Dice</samp>&rsquo; class from above can be extended to adopt and conform to
&lsquo;<samp>TextRepresentable</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">extension Dice: TextRepresentable {
    var textualDescription: String {
        return &quot;A \(sides)-sided dice&quot;
    }
}
</pre></div>

<p>This extension adopts the new protocol in exactly the same way as if
&lsquo;<samp>Dice</samp>&rsquo; had provided it in its original implementation. The protocol name
is provided after the type name, separated by a colon, and an
implementation of all requirements of the protocol is provided within
the extension&rsquo;s curly braces.
</p>
<p>Any &lsquo;<samp>Dice</samp>&rsquo; instance can now be treated as &lsquo;<samp>TextRepresentable</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">let d12 = Dice(sides: 12, generator: LinearCongruentialGenerator())
print(d12.textualDescription)
// Prints &quot;A 12-sided dice&quot;
</pre></div>

<p>Similarly, the &lsquo;<samp>SnakesAndLadders</samp>&rsquo; game class can be extended to adopt
and conform to the &lsquo;<samp>TextRepresentable</samp>&rsquo; protocol:
</p>
<div class="example">
<pre class="example">extension SnakesAndLadders: TextRepresentable {
    var textualDescription: String {
        return &quot;A game of Snakes and Ladders with \(finalSquare) squares&quot;
    }
}
print(game.textualDescription)
// Prints &quot;A game of Snakes and Ladders with 25 squares&quot;
</pre></div>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Conditionally-Conforming-to-a-Protocol" accesskey="1">Conditionally Conforming to a Protocol</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Declaring-Protocol-Adoption-with-an-Extension" accesskey="2">Declaring Protocol Adoption with an Extension</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Conditionally-Conforming-to-a-Protocol"></span><div class="header">
<p>
Next: <a href="#Declaring-Protocol-Adoption-with-an-Extension" accesskey="n" rel="next">Declaring Protocol Adoption with an Extension</a>, Up: <a href="#Adding-Protocol-Conformance-with-an-Extension" accesskey="u" rel="up">Adding Protocol Conformance with an Extension</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Conditionally-Conforming-to-a-Protocol-1"></span><h4 class="subsection">26.8.1 Conditionally Conforming to a Protocol</h4>

<p>A generic type may be able to satisfy the requirements of a protocol
only under certain conditions, such as when the type&rsquo;s generic parameter
conforms to the protocol. You can make a generic type conditionally
conform to a protocol by listing constraints when extending the type.
Write these constraints after the name of the protocol you&rsquo;re adopting
by writing a generic &lsquo;<samp>where</samp>&rsquo; clause. For more about generic &lsquo;<samp>where</samp>&rsquo;
clauses, see <a href="#Generic-Where-Clauses">Generic Where Clauses</a>.
</p>
<p>The following extension makes &lsquo;<samp>Array</samp>&rsquo; instances conform to the
&lsquo;<samp>TextRepresentable</samp>&rsquo; protocol whenever they store elements of a type that
conforms to &lsquo;<samp>TextRepresentable</samp>&rsquo;.
</p>
<div class="example">
<pre class="example">extension Array: TextRepresentable where Element: TextRepresentable {
    var textualDescription: String {
        let itemsAsText = self.map { $0.textualDescription }
        return &quot;[&quot; + itemsAsText.joined(separator: &quot;, &quot;) + &quot;]&quot;
    }
}
let myDice = [d6, d12]
print(myDice.textualDescription)
// Prints &quot;[A 6-sided dice, A 12-sided dice]&quot;
</pre></div>

<hr>
<span id="Declaring-Protocol-Adoption-with-an-Extension"></span><div class="header">
<p>
Previous: <a href="#Conditionally-Conforming-to-a-Protocol" accesskey="p" rel="prev">Conditionally Conforming to a Protocol</a>, Up: <a href="#Adding-Protocol-Conformance-with-an-Extension" accesskey="u" rel="up">Adding Protocol Conformance with an Extension</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Declaring-Protocol-Adoption-with-an-Extension-1"></span><h4 class="subsection">26.8.2 Declaring Protocol Adoption with an Extension</h4>

<p>If a type already conforms to all of the requirements of a protocol, but
has not yet stated that it adopts that protocol, you can make it adopt
the protocol with an empty extension:
</p>
<div class="example">
<pre class="example">struct Hamster {
    var name: String
    var textualDescription: String {
        return &quot;A hamster named \(name)&quot;
    }
}
extension Hamster: TextRepresentable {}
</pre></div>

<p>Instances of &lsquo;<samp>Hamster</samp>&rsquo; can now be used wherever &lsquo;<samp>TextRepresentable</samp>&rsquo; is
the required type:
</p>
<div class="example">
<pre class="example">let simonTheHamster = Hamster(name: &quot;Simon&quot;)
let somethingTextRepresentable: TextRepresentable = simonTheHamster
print(somethingTextRepresentable.textualDescription)
// Prints &quot;A hamster named Simon&quot;
</pre></div>

<p>Note
</p>
<p>Types don&rsquo;t automatically adopt a protocol just by satisfying its
requirements. They must always explicitly declare their adoption of the
protocol.
</p>
<hr>
<span id="Collections-of-Protocol-Types"></span><div class="header">
<p>
Next: <a href="#Protocol-Inheritance" accesskey="n" rel="next">Protocol Inheritance</a>, Previous: <a href="#Adding-Protocol-Conformance-with-an-Extension" accesskey="p" rel="prev">Adding Protocol Conformance with an Extension</a>, Up: <a href="#Protocols" accesskey="u" rel="up">Protocols</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Collections-of-Protocol-Types-1"></span><h3 class="section">26.9 Collections of Protocol Types</h3>

<p>A protocol can be used as the type to be stored in a collection such as
an array or a dictionary, as mentioned in
<a href="#Protocols-as-Types">Protocols as Types</a>. This example creates an
array of &lsquo;<samp>TextRepresentable</samp>&rsquo; things:
</p>
<div class="example">
<pre class="example">let things: [TextRepresentable] = [game, d12, simonTheHamster]
</pre></div>

<p>It&rsquo;s now possible to iterate over the items in the array, and print each
item&rsquo;s textual description:
</p>
<div class="example">
<pre class="example">for thing in things {
    print(thing.textualDescription)
}
// A game of Snakes and Ladders with 25 squares
// A 12-sided dice
// A hamster named Simon
</pre></div>

<p>Note that the &lsquo;<samp>thing</samp>&rsquo; constant is of type &lsquo;<samp>TextRepresentable</samp>&rsquo;. It&rsquo;s not
of type &lsquo;<samp>Dice</samp>&rsquo;, or &lsquo;<samp>DiceGame</samp>&rsquo;, or &lsquo;<samp>Hamster</samp>&rsquo;, even if the actual instance
behind the scenes is of one of those types. Nonetheless, because it&rsquo;s of
type &lsquo;<samp>TextRepresentable</samp>&rsquo;, and anything that is &lsquo;<samp>TextRepresentable</samp>&rsquo; is
known to have a &lsquo;<samp>textualDescription</samp>&rsquo; property, it&rsquo;s safe to access
&lsquo;<samp>thing.textualDescription</samp>&rsquo; each time through the loop.
</p>
<hr>
<span id="Protocol-Inheritance"></span><div class="header">
<p>
Next: <a href="#Class_002dOnly-Protocols" accesskey="n" rel="next">Class-Only Protocols</a>, Previous: <a href="#Collections-of-Protocol-Types" accesskey="p" rel="prev">Collections of Protocol Types</a>, Up: <a href="#Protocols" accesskey="u" rel="up">Protocols</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Protocol-Inheritance-2"></span><h3 class="section">26.10 Protocol Inheritance</h3>

<p>A protocol can <em>inherit</em> one or more other protocols and can add further
requirements on top of the requirements it inherits. The syntax for
protocol inheritance is similar to the syntax for class inheritance, but
with the option to list multiple inherited protocols, separated by
commas:
</p>
<div class="example">
<pre class="example">protocol InheritingProtocol: SomeProtocol, AnotherProtocol {
    // protocol definition goes here
}
</pre></div>

<p>Here&rsquo;s an example of a protocol that inherits the &lsquo;<samp>TextRepresentable</samp>&rsquo;
protocol from above:
</p>
<div class="example">
<pre class="example">protocol PrettyTextRepresentable: TextRepresentable {
    var prettyTextualDescription: String { get }
}
</pre></div>

<p>This example defines a new protocol, &lsquo;<samp>PrettyTextRepresentable</samp>&rsquo;, which
inherits from &lsquo;<samp>TextRepresentable</samp>&rsquo;. Anything that adopts
&lsquo;<samp>PrettyTextRepresentable</samp>&rsquo; must satisfy all of the requirements enforced
by &lsquo;<samp>TextRepresentable</samp>&rsquo;, <em>plus</em> the additional requirements enforced by
&lsquo;<samp>PrettyTextRepresentable</samp>&rsquo;. In this example, &lsquo;<samp>PrettyTextRepresentable</samp>&rsquo;
adds a single requirement to provide a gettable property called
&lsquo;<samp>prettyTextualDescription</samp>&rsquo; that returns a &lsquo;<samp>String</samp>&rsquo;.
</p>
<p>The &lsquo;<samp>SnakesAndLadders</samp>&rsquo; class can be extended to adopt and conform to
&lsquo;<samp>PrettyTextRepresentable</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">extension SnakesAndLadders: PrettyTextRepresentable {
    var prettyTextualDescription: String {
        var output = textualDescription + &quot;:\n&quot;
        for index in 1...finalSquare {
            switch board[index] {
            case let ladder where ladder &gt; 0:
                output += &quot;▲ &quot;
            case let snake where snake &lt; 0:
                output += &quot;▼ &quot;
            default:
                output += &quot;○ &quot;
            }
        }
        return output
    }
}
</pre></div>

<p>This extension states that it adopts the &lsquo;<samp>PrettyTextRepresentable</samp>&rsquo;
protocol and provides an implementation of the
&lsquo;<samp>prettyTextualDescription</samp>&rsquo; property for the &lsquo;<samp>SnakesAndLadders</samp>&rsquo; type.
Anything that is &lsquo;<samp>PrettyTextRepresentable</samp>&rsquo; must also be
&lsquo;<samp>TextRepresentable</samp>&rsquo;, and so the implementation of
&lsquo;<samp>prettyTextualDescription</samp>&rsquo; starts by accessing the &lsquo;<samp>textualDescription</samp>&rsquo;
property from the &lsquo;<samp>TextRepresentable</samp>&rsquo; protocol to begin an output
string. It appends a colon and a line break, and uses this as the start
of its pretty text representation. It then iterates through the array of
board squares, and appends a geometric shape to represent the contents
of each square:
</p>
<ul>
<li> If the square&rsquo;s value is greater than &lsquo;<samp>0</samp>&rsquo;, it&rsquo;s the base of a ladder,
and is represented by &lsquo;<samp>▲</samp>&rsquo;.

</li><li> If the square&rsquo;s value is less than &lsquo;<samp>0</samp>&rsquo;, it&rsquo;s the head of a snake, and
is represented by &lsquo;<samp>▼</samp>&rsquo;.

</li><li> Otherwise, the square&rsquo;s value is &lsquo;<samp>0</samp>&rsquo;, and it&rsquo;s a “free” square,
represented by &lsquo;<samp>○</samp>&rsquo;.
</li></ul>

<p>The &lsquo;<samp>prettyTextualDescription</samp>&rsquo; property can now be used to print a
pretty text description of any &lsquo;<samp>SnakesAndLadders</samp>&rsquo; instance:
</p>
<div class="example">
<pre class="example">print(game.prettyTextualDescription)
// A game of Snakes and Ladders with 25 squares:
// ○ ○ ▲ ○ ○ ▲ ○ ○ ▲ ▲ ○ ○ ○ ▼ ○ ○ ○ ○ ▼ ○ ○ ▼ ○ ▼ ○
</pre></div>

<hr>
<span id="Class_002dOnly-Protocols"></span><div class="header">
<p>
Next: <a href="#Protocol-Composition" accesskey="n" rel="next">Protocol Composition</a>, Previous: <a href="#Protocol-Inheritance" accesskey="p" rel="prev">Protocol Inheritance</a>, Up: <a href="#Protocols" accesskey="u" rel="up">Protocols</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Class_002dOnly-Protocols-1"></span><h3 class="section">26.11 Class-Only Protocols</h3>

<p>You can limit protocol adoption to class types (and not structures or
enumerations) by adding the &lsquo;<samp>AnyObject</samp>&rsquo; protocol to a protocol&rsquo;s
inheritance list.
</p>
<div class="example">
<pre class="example">protocol SomeClassOnlyProtocol: AnyObject, SomeInheritedProtocol {
    // class-only protocol definition goes here
}
</pre></div>

<p>In the example above, &lsquo;<samp>SomeClassOnlyProtocol</samp>&rsquo; can only be adopted by
class types. It&rsquo;s a compile-time error to write a structure or
enumeration definition that tries to adopt &lsquo;<samp>SomeClassOnlyProtocol</samp>&rsquo;.
</p>
<p>Note
</p>
<p>Use a class-only protocol when the behavior defined by that protocol&rsquo;s
requirements assumes or requires that a conforming type has reference
semantics rather than value semantics. For more about reference and
value semantics, see <a href="#Structures-and-Enumerations-Are-Value-Types">Structures and
Enumerations Are Value Types</a> and
<a href="#Classes-Are-Reference-Types">Classes Are Reference Types</a>.
</p>
<hr>
<span id="Protocol-Composition"></span><div class="header">
<p>
Next: <a href="#Checking-for-Protocol-Conformance" accesskey="n" rel="next">Checking for Protocol Conformance</a>, Previous: <a href="#Class_002dOnly-Protocols" accesskey="p" rel="prev">Class-Only Protocols</a>, Up: <a href="#Protocols" accesskey="u" rel="up">Protocols</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Protocol-Composition-1"></span><h3 class="section">26.12 Protocol Composition</h3>

<p>It can be useful to require a type to conform to multiple protocols at
the same time. You can combine multiple protocols into a single
requirement with a <em>protocol composition</em>. Protocol compositions behave
as if you defined a temporary local protocol that has the combined
requirements of all protocols in the composition. Protocol compositions
don&rsquo;t define any new protocol types.
</p>
<p>Protocol compositions have the form &lsquo;<samp>SomeProtocol &amp; AnotherProtocol</samp>&rsquo;.
You can list as many protocols as you need, separating them with
ampersands (&lsquo;<samp>&amp;</samp>&rsquo;). In addition to its list of protocols, a protocol
composition can also contain one class type, which you can use to
specify a required superclass.
</p>
<p>Here&rsquo;s an example that combines two protocols called &lsquo;<samp>Named</samp>&rsquo; and &lsquo;<samp>Aged</samp>&rsquo;
into a single protocol composition requirement on a function parameter:
</p>
<div class="example">
<pre class="example">protocol Named {
    var name: String { get }
}
protocol Aged {
    var age: Int { get }
}
struct Person: Named, Aged {
    var name: String
    var age: Int
}
func wishHappyBirthday(to celebrator: Named &amp; Aged) {
    print(&quot;Happy birthday, \(celebrator.name), you're \(celebrator.age)!&quot;)
}
let birthdayPerson = Person(name: &quot;Malcolm&quot;, age: 21)
wishHappyBirthday(to: birthdayPerson)
// Prints &quot;Happy birthday, Malcolm, you're 21!&quot;
</pre></div>

<p>In this example, the &lsquo;<samp>Named</samp>&rsquo; protocol has a single requirement for a
gettable &lsquo;<samp>String</samp>&rsquo; property called &lsquo;<samp>name</samp>&rsquo;. The &lsquo;<samp>Aged</samp>&rsquo; protocol has a
single requirement for a gettable &lsquo;<samp>Int</samp>&rsquo; property called &lsquo;<samp>age</samp>&rsquo;. Both
protocols are adopted by a structure called &lsquo;<samp>Person</samp>&rsquo;.
</p>
<p>The example also defines a &lsquo;<samp>wishHappyBirthday(to:)</samp>&rsquo; function. The type
of the &lsquo;<samp>celebrator</samp>&rsquo; parameter is &lsquo;<samp>Named &amp; Aged</samp>&rsquo;, which means “any type
that conforms to both the &lsquo;<samp>Named</samp>&rsquo; and &lsquo;<samp>Aged</samp>&rsquo; protocols.” It doesn&rsquo;t
matter which specific type is passed to the function, as long as it
conforms to both of the required protocols.
</p>
<p>The example then creates a new &lsquo;<samp>Person</samp>&rsquo; instance called &lsquo;<samp>birthdayPerson</samp>&rsquo;
and passes this new instance to the &lsquo;<samp>wishHappyBirthday(to:)</samp>&rsquo; function.
Because &lsquo;<samp>Person</samp>&rsquo; conforms to both protocols, this call is valid, and the
&lsquo;<samp>wishHappyBirthday(to:)</samp>&rsquo; function can print its birthday greeting.
</p>
<p>Here&rsquo;s an example that combines the &lsquo;<samp>Named</samp>&rsquo; protocol from the previous
example with a &lsquo;<samp>Location</samp>&rsquo; class:
</p>
<div class="example">
<pre class="example">class Location {
    var latitude: Double
    var longitude: Double
    init(latitude: Double, longitude: Double) {
        self.latitude = latitude
        self.longitude = longitude
    }
}
class City: Location, Named {
    var name: String
    init(name: String, latitude: Double, longitude: Double) {
        self.name = name
        super.init(latitude: latitude, longitude: longitude)
    }
}
func beginConcert(in location: Location &amp; Named) {
    print(&quot;Hello, \(location.name)!&quot;)
}

let seattle = City(name: &quot;Seattle&quot;, latitude: 47.6, longitude: -122.3)
beginConcert(in: seattle)
// Prints &quot;Hello, Seattle!&quot;
</pre></div>

<p>The &lsquo;<samp>beginConcert(in:)</samp>&rsquo; function takes a parameter of type
&lsquo;<samp>Location &amp; Named</samp>&rsquo;, which means “any type that&rsquo;s a subclass of
&lsquo;<samp>Location</samp>&rsquo; and that conforms to the &lsquo;<samp>Named</samp>&rsquo; protocol.” In this case,
&lsquo;<samp>City</samp>&rsquo; satisfies both requirements.
</p>
<p>Passing &lsquo;<samp>birthdayPerson</samp>&rsquo; to the &lsquo;<samp>beginConcert(in:)</samp>&rsquo; function is invalid
because &lsquo;<samp>Person</samp>&rsquo; isn&rsquo;t a subclass of &lsquo;<samp>Location</samp>&rsquo;. Likewise, if you made a
subclass of &lsquo;<samp>Location</samp>&rsquo; that didn&rsquo;t conform to the &lsquo;<samp>Named</samp>&rsquo; protocol,
calling &lsquo;<samp>beginConcert(in:)</samp>&rsquo; with an instance of that type is also
invalid.
</p>
<hr>
<span id="Checking-for-Protocol-Conformance"></span><div class="header">
<p>
Next: <a href="#Optional-Protocol-Requirements" accesskey="n" rel="next">Optional Protocol Requirements</a>, Previous: <a href="#Protocol-Composition" accesskey="p" rel="prev">Protocol Composition</a>, Up: <a href="#Protocols" accesskey="u" rel="up">Protocols</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Checking-for-Protocol-Conformance-1"></span><h3 class="section">26.13 Checking for Protocol Conformance</h3>

<p>You can use the &lsquo;<samp>is</samp>&rsquo; and &lsquo;<samp>as</samp>&rsquo; operators described in
<a href="#Type-Casting">Type Casting</a> to check for protocol conformance,
and to cast to a specific protocol. Checking for and casting to a
protocol follows exactly the same syntax as checking for and casting to
a type:
</p>
<ul>
<li> The &lsquo;<samp>is</samp>&rsquo; operator returns &lsquo;<samp>true</samp>&rsquo; if an instance conforms to a protocol
and returns &lsquo;<samp>false</samp>&rsquo; if it doesn&rsquo;t.

</li><li> The &lsquo;<samp>as?</samp>&rsquo; version of the downcast operator returns an optional value
of the protocol&rsquo;s type, and this value is &lsquo;<samp>nil</samp>&rsquo; if the instance
doesn&rsquo;t conform to that protocol.

</li><li> The &lsquo;<samp>as!</samp>&rsquo; version of the downcast operator forces the downcast to the
protocol type and triggers a runtime error if the downcast doesn&rsquo;t
succeed.
</li></ul>

<p>This example defines a protocol called &lsquo;<samp>HasArea</samp>&rsquo;, with a single property
requirement of a gettable &lsquo;<samp>Double</samp>&rsquo; property called &lsquo;<samp>area</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">protocol HasArea {
    var area: Double { get }
}
</pre></div>

<p>Here are two classes, &lsquo;<samp>Circle</samp>&rsquo; and &lsquo;<samp>Country</samp>&rsquo;, both of which conform to
the &lsquo;<samp>HasArea</samp>&rsquo; protocol:
</p>
<div class="example">
<pre class="example">class Circle: HasArea {
    let pi = 3.1415927
    var radius: Double
    var area: Double { return pi * radius * radius }
    init(radius: Double) { self.radius = radius }
}
class Country: HasArea {
    var area: Double
    init(area: Double) { self.area = area }
}
</pre></div>

<p>The &lsquo;<samp>Circle</samp>&rsquo; class implements the &lsquo;<samp>area</samp>&rsquo; property requirement as a
computed property, based on a stored &lsquo;<samp>radius</samp>&rsquo; property. The &lsquo;<samp>Country</samp>&rsquo;
class implements the &lsquo;<samp>area</samp>&rsquo; requirement directly as a stored property.
Both classes correctly conform to the &lsquo;<samp>HasArea</samp>&rsquo; protocol.
</p>
<p>Here&rsquo;s a class called &lsquo;<samp>Animal</samp>&rsquo;, which doesn&rsquo;t conform to the &lsquo;<samp>HasArea</samp>&rsquo;
protocol:
</p>
<div class="example">
<pre class="example">class Animal {
    var legs: Int
    init(legs: Int) { self.legs = legs }
}
</pre></div>

<p>The &lsquo;<samp>Circle</samp>&rsquo;, &lsquo;<samp>Country</samp>&rsquo; and &lsquo;<samp>Animal</samp>&rsquo; classes don&rsquo;t have a shared base
class. Nonetheless, they&rsquo;re all classes, and so instances of all three
types can be used to initialize an array that stores values of type
&lsquo;<samp>AnyObject</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">let objects: [AnyObject] = [
  Circle(radius: 2.0),
  Country(area: 243_610),
  Animal(legs: 4)
]
</pre></div>

<p>The &lsquo;<samp>objects</samp>&rsquo; array is initialized with an array literal containing a
&lsquo;<samp>Circle</samp>&rsquo; instance with a radius of 2 units; a &lsquo;<samp>Country</samp>&rsquo; instance
initialized with the surface area of the United Kingdom in square
kilometers; and an &lsquo;<samp>Animal</samp>&rsquo; instance with four legs.
</p>
<p>The &lsquo;<samp>objects</samp>&rsquo; array can now be iterated, and each object in the array
can be checked to see if it conforms to the &lsquo;<samp>HasArea</samp>&rsquo; protocol:
</p>
<div class="example">
<pre class="example">for object in objects {
    if let objectWithArea = object as? HasArea {
        print(&quot;Area is \(objectWithArea.area)&quot;)
    } else {
        print(&quot;Something that doesn't have an area&quot;)
    }
}
// Area is 12.5663708
// Area is 243610.0
// Something that doesn't have an area
</pre></div>

<p>Whenever an object in the array conforms to the &lsquo;<samp>HasArea</samp>&rsquo; protocol, the
optional value returned by the &lsquo;<samp>as?</samp>&rsquo; operator is unwrapped with optional
binding into a constant called &lsquo;<samp>objectWithArea</samp>&rsquo;. The &lsquo;<samp>objectWithArea</samp>&rsquo;
constant is known to be of type &lsquo;<samp>HasArea</samp>&rsquo;, and so its &lsquo;<samp>area</samp>&rsquo; property
can be accessed and printed in a type-safe way.
</p>
<p>Note that the underlying objects aren&rsquo;t changed by the casting process.
They continue to be a &lsquo;<samp>Circle</samp>&rsquo;, a &lsquo;<samp>Country</samp>&rsquo; and an &lsquo;<samp>Animal</samp>&rsquo;. However, at
the point that they&rsquo;re stored in the &lsquo;<samp>objectWithArea</samp>&rsquo; constant, they&rsquo;re
only known to be of type &lsquo;<samp>HasArea</samp>&rsquo;, and so only their &lsquo;<samp>area</samp>&rsquo; property
can be accessed.
</p>
<hr>
<span id="Optional-Protocol-Requirements"></span><div class="header">
<p>
Next: <a href="#Protocol-Extensions" accesskey="n" rel="next">Protocol Extensions</a>, Previous: <a href="#Checking-for-Protocol-Conformance" accesskey="p" rel="prev">Checking for Protocol Conformance</a>, Up: <a href="#Protocols" accesskey="u" rel="up">Protocols</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Optional-Protocol-Requirements-1"></span><h3 class="section">26.14 Optional Protocol Requirements</h3>

<p>You can define <em>optional requirements</em> for protocols. These requirements
don&rsquo;t have to be implemented by types that conform to the protocol.
Optional requirements are prefixed by the &lsquo;<samp>optional</samp>&rsquo; modifier as part of
the protocol&rsquo;s definition. Optional requirements are available so that
you can write code that interoperates with Objective-C. Both the
protocol and the optional requirement must be marked with the &lsquo;<samp>@objc</samp>&rsquo;
attribute. Note that &lsquo;<samp>@objc</samp>&rsquo; protocols can be adopted only by classes
that inherit from Objective-C classes or other &lsquo;<samp>@objc</samp>&rsquo; classes. They
can&rsquo;t be adopted by structures or enumerations.
</p>
<p>When you use a method or property in an optional requirement, its type
automatically becomes an optional. For example, a method of type
&lsquo;<samp>(Int) -&gt; String</samp>&rsquo; becomes &lsquo;<samp>((Int) -&gt; String)?</samp>&rsquo;. Note that the entire
function type is wrapped in the optional, not the method&rsquo;s return value.
</p>
<p>An optional protocol requirement can be called with optional chaining,
to account for the possibility that the requirement was not implemented
by a type that conforms to the protocol. You check for an implementation
of an optional method by writing a question mark after the name of the
method when it&rsquo;s called, such as &lsquo;<samp>someOptionalMethod?(someArgument)</samp>&rsquo;.
For information on optional chaining, see
<a href="#Optional-Chaining">Optional Chaining</a>.
</p>
<p>The following example defines an integer-counting class called
&lsquo;<samp>Counter</samp>&rsquo;, which uses an external data source to provide its increment
amount. This data source is defined by the &lsquo;<samp>CounterDataSource</samp>&rsquo; protocol,
which has two optional requirements:
</p>
<div class="example">
<pre class="example">@objc protocol CounterDataSource {
    @objc optional func increment(forCount count: Int) -&gt; Int
    @objc optional var fixedIncrement: Int { get }
}
</pre></div>

<p>The &lsquo;<samp>CounterDataSource</samp>&rsquo; protocol defines an optional method requirement
called &lsquo;<samp>increment(forCount:)</samp>&rsquo; and an optional property requirement
called &lsquo;<samp>fixedIncrement</samp>&rsquo;. These requirements define two different ways
for data sources to provide an appropriate increment amount for a
&lsquo;<samp>Counter</samp>&rsquo; instance.
</p>
<p>Note
</p>
<p>Strictly speaking, you can write a custom class that conforms to
&lsquo;<samp>CounterDataSource</samp>&rsquo; without implementing <em>either</em> protocol requirement.
They&rsquo;re both optional, after all. Although technically allowed, this
wouldn&rsquo;t make for a very good data source.
</p>
<p>The &lsquo;<samp>Counter</samp>&rsquo; class, defined below, has an optional &lsquo;<samp>dataSource</samp>&rsquo;
property of type &lsquo;<samp>CounterDataSource?</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">class Counter {
    var count = 0
    var dataSource: CounterDataSource?
    func increment() {
        if let amount = dataSource?.increment?(forCount: count) {
            count += amount
        } else if let amount = dataSource?.fixedIncrement {
            count += amount
        }
    }
}
</pre></div>

<p>The &lsquo;<samp>Counter</samp>&rsquo; class stores its current value in a variable property
called &lsquo;<samp>count</samp>&rsquo;. The &lsquo;<samp>Counter</samp>&rsquo; class also defines a method called
&lsquo;<samp>increment</samp>&rsquo;, which increments the &lsquo;<samp>count</samp>&rsquo; property every time the method
is called.
</p>
<p>The &lsquo;<samp>increment()</samp>&rsquo; method first tries to retrieve an increment amount by
looking for an implementation of the &lsquo;<samp>increment(forCount:)</samp>&rsquo; method on
its data source. The &lsquo;<samp>increment()</samp>&rsquo; method uses optional chaining to try
to call &lsquo;<samp>increment(forCount:)</samp>&rsquo;, and passes the current &lsquo;<samp>count</samp>&rsquo; value as
the method&rsquo;s single argument.
</p>
<p>Note that <em>two</em> levels of optional chaining are at play here. First,
it&rsquo;s possible that &lsquo;<samp>dataSource</samp>&rsquo; may be &lsquo;<samp>nil</samp>&rsquo;, and so &lsquo;<samp>dataSource</samp>&rsquo; has a
question mark after its name to indicate that &lsquo;<samp>increment(forCount:)</samp>&rsquo;
should be called only if &lsquo;<samp>dataSource</samp>&rsquo; isn&rsquo;t &lsquo;<samp>nil</samp>&rsquo;. Second, even if
&lsquo;<samp>dataSource</samp>&rsquo; <em>does</em> exist, there&rsquo;s no guarantee that it implements
&lsquo;<samp>increment(forCount:)</samp>&rsquo;, because it&rsquo;s an optional requirement. Here, the
possibility that &lsquo;<samp>increment(forCount:)</samp>&rsquo; might not be implemented is also
handled by optional chaining. The call to &lsquo;<samp>increment(forCount:)</samp>&rsquo; happens
only if &lsquo;<samp>increment(forCount:)</samp>&rsquo; exists&mdash;that is, if it isn&rsquo;t &lsquo;<samp>nil</samp>&rsquo;. This
is why &lsquo;<samp>increment(forCount:)</samp>&rsquo; is also written with a question mark after
its name.
</p>
<p>Because the call to &lsquo;<samp>increment(forCount:)</samp>&rsquo; can fail for either of these
two reasons, the call returns an <em>optional</em> &lsquo;<samp>Int</samp>&rsquo; value. This is true
even though &lsquo;<samp>increment(forCount:)</samp>&rsquo; is defined as returning a
non-optional &lsquo;<samp>Int</samp>&rsquo; value in the definition of &lsquo;<samp>CounterDataSource</samp>&rsquo;. Even
though there are two optional chaining operations, one after another,
the result is still wrapped in a single optional. For more information
about using multiple optional chaining operations, see
<a href="#Linking-Multiple-Levels-of-Chaining">Linking Multiple Levels of Chaining</a>.
</p>
<p>After calling &lsquo;<samp>increment(forCount:)</samp>&rsquo;, the optional &lsquo;<samp>Int</samp>&rsquo; that it returns
is unwrapped into a constant called &lsquo;<samp>amount</samp>&rsquo;, using optional binding. If
the optional &lsquo;<samp>Int</samp>&rsquo; does contain a value&mdash;that is, if the delegate and
method both exist, and the method returned a value&mdash;the unwrapped
&lsquo;<samp>amount</samp>&rsquo; is added onto the stored &lsquo;<samp>count</samp>&rsquo; property, and incrementation
is complete.
</p>
<p>If it&rsquo;s <em>not</em> possible to retrieve a value from the
&lsquo;<samp>increment(forCount:)</samp>&rsquo; method&mdash;either because &lsquo;<samp>dataSource</samp>&rsquo; is nil, or
because the data source doesn&rsquo;t implement &lsquo;<samp>increment(forCount:)</samp>&rsquo;&mdash;then
the &lsquo;<samp>increment()</samp>&rsquo; method tries to retrieve a value from the data
source&rsquo;s &lsquo;<samp>fixedIncrement</samp>&rsquo; property instead. The &lsquo;<samp>fixedIncrement</samp>&rsquo;
property is also an optional requirement, so its value is an optional
&lsquo;<samp>Int</samp>&rsquo; value, even though &lsquo;<samp>fixedIncrement</samp>&rsquo; is defined as a non-optional
&lsquo;<samp>Int</samp>&rsquo; property as part of the &lsquo;<samp>CounterDataSource</samp>&rsquo; protocol definition.
</p>
<p>Here&rsquo;s a simple &lsquo;<samp>CounterDataSource</samp>&rsquo; implementation where the data source
returns a constant value of &lsquo;<samp>3</samp>&rsquo; every time it&rsquo;s queried. It does this by
implementing the optional &lsquo;<samp>fixedIncrement</samp>&rsquo; property requirement:
</p>
<div class="example">
<pre class="example">class ThreeSource: NSObject, CounterDataSource {
    let fixedIncrement = 3
}
</pre></div>

<p>You can use an instance of &lsquo;<samp>ThreeSource</samp>&rsquo; as the data source for a new
&lsquo;<samp>Counter</samp>&rsquo; instance:
</p>
<div class="example">
<pre class="example">var counter = Counter()
counter.dataSource = ThreeSource()
for _ in 1...4 {
    counter.increment()
    print(counter.count)
}
// 3
// 6
// 9
// 12
</pre></div>

<p>The code above creates a new &lsquo;<samp>Counter</samp>&rsquo; instance; sets its data source to
be a new &lsquo;<samp>ThreeSource</samp>&rsquo; instance; and calls the counter&rsquo;s &lsquo;<samp>increment()</samp>&rsquo;
method four times. As expected, the counter&rsquo;s &lsquo;<samp>count</samp>&rsquo; property increases
by three each time &lsquo;<samp>increment()</samp>&rsquo; is called.
</p>
<p>Here&rsquo;s a more complex data source called &lsquo;<samp>TowardsZeroSource</samp>&rsquo;, which
makes a &lsquo;<samp>Counter</samp>&rsquo; instance count up or down towards zero from its
current &lsquo;<samp>count</samp>&rsquo; value:
</p>
<div class="example">
<pre class="example">class TowardsZeroSource: NSObject, CounterDataSource {
    func increment(forCount count: Int) -&gt; Int {
        if count == 0 {
            return 0
        } else if count &lt; 0 {
            return 1
        } else {
            return -1
        }
    }
}
</pre></div>

<p>The &lsquo;<samp>TowardsZeroSource</samp>&rsquo; class implements the optional
&lsquo;<samp>increment(forCount:)</samp>&rsquo; method from the &lsquo;<samp>CounterDataSource</samp>&rsquo; protocol and
uses the &lsquo;<samp>count</samp>&rsquo; argument value to work out which direction to count in.
If &lsquo;<samp>count</samp>&rsquo; is already zero, the method returns &lsquo;<samp>0</samp>&rsquo; to indicate that no
further counting should take place.
</p>
<p>You can use an instance of &lsquo;<samp>TowardsZeroSource</samp>&rsquo; with the existing
&lsquo;<samp>Counter</samp>&rsquo; instance to count from &lsquo;<samp>-4</samp>&rsquo; to zero. Once the counter reaches
zero, no more counting takes place:
</p>
<div class="example">
<pre class="example">counter.count = -4
counter.dataSource = TowardsZeroSource()
for _ in 1...5 {
    counter.increment()
    print(counter.count)
}
// -3
// -2
// -1
// 0
// 0
</pre></div>

<hr>
<span id="Protocol-Extensions"></span><div class="header">
<p>
Previous: <a href="#Optional-Protocol-Requirements" accesskey="p" rel="prev">Optional Protocol Requirements</a>, Up: <a href="#Protocols" accesskey="u" rel="up">Protocols</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Protocol-Extensions-1"></span><h3 class="section">26.15 Protocol Extensions</h3>

<p>Protocols can be extended to provide method, initializer, subscript, and
computed property implementations to conforming types. This allows you
to define behavior on protocols themselves, rather than in each type&rsquo;s
individual conformance or in a global function.
</p>
<p>For example, the &lsquo;<samp>RandomNumberGenerator</samp>&rsquo; protocol can be extended to
provide a &lsquo;<samp>randomBool()</samp>&rsquo; method, which uses the result of the required
&lsquo;<samp>random()</samp>&rsquo; method to return a random &lsquo;<samp>Bool</samp>&rsquo; value:
</p>
<div class="example">
<pre class="example">extension RandomNumberGenerator {
    func randomBool() -&gt; Bool {
        return random() &gt; 0.5
    }
}
</pre></div>

<p>By creating an extension on the protocol, all conforming types
automatically gain this method implementation without any additional
modification.
</p>
<div class="example">
<pre class="example">let generator = LinearCongruentialGenerator()
print(&quot;Here's a random number: \(generator.random())&quot;)
// Prints &quot;Here's a random number: 0.3746499199817101&quot;
print(&quot;And here's a random Boolean: \(generator.randomBool())&quot;)
// Prints &quot;And here's a random Boolean: true&quot;
</pre></div>

<p>Protocol extensions can add implementations to conforming types but
can&rsquo;t make a protocol extend or inherit from another protocol. Protocol
inheritance is always specified in the protocol declaration itself.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Providing-Default-Implementations" accesskey="1">Providing Default Implementations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Adding-Constraints-to-Protocol-Extensions" accesskey="2">Adding Constraints to Protocol Extensions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Providing-Default-Implementations"></span><div class="header">
<p>
Next: <a href="#Adding-Constraints-to-Protocol-Extensions" accesskey="n" rel="next">Adding Constraints to Protocol Extensions</a>, Up: <a href="#Protocol-Extensions" accesskey="u" rel="up">Protocol Extensions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Providing-Default-Implementations-1"></span><h4 class="subsection">26.15.1 Providing Default Implementations</h4>

<p>You can use protocol extensions to provide a default implementation to
any method or computed property requirement of that protocol. If a
conforming type provides its own implementation of a required method or
property, that implementation will be used instead of the one provided
by the extension.
</p>
<p>Note
</p>
<p>Protocol requirements with default implementations provided by
extensions are distinct from optional protocol requirements. Although
conforming types don&rsquo;t have to provide their own implementation of
either, requirements with default implementations can be called without
optional chaining.
</p>
<p>For example, the &lsquo;<samp>PrettyTextRepresentable</samp>&rsquo; protocol, which inherits the
&lsquo;<samp>TextRepresentable</samp>&rsquo; protocol can provide a default implementation of its
required &lsquo;<samp>prettyTextualDescription</samp>&rsquo; property to simply return the result
of accessing the &lsquo;<samp>textualDescription</samp>&rsquo; property:
</p>
<div class="example">
<pre class="example">extension PrettyTextRepresentable {
    var prettyTextualDescription: String {
        return textualDescription
    }
}
</pre></div>

<hr>
<span id="Adding-Constraints-to-Protocol-Extensions"></span><div class="header">
<p>
Previous: <a href="#Providing-Default-Implementations" accesskey="p" rel="prev">Providing Default Implementations</a>, Up: <a href="#Protocol-Extensions" accesskey="u" rel="up">Protocol Extensions</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Adding-Constraints-to-Protocol-Extensions-1"></span><h4 class="subsection">26.15.2 Adding Constraints to Protocol Extensions</h4>

<p>When you define a protocol extension, you can specify constraints that
conforming types must satisfy before the methods and properties of the
extension are available. You write these constraints after the name of
the protocol you&rsquo;re extending by writing a generic &lsquo;<samp>where</samp>&rsquo; clause. For
more about generic &lsquo;<samp>where</samp>&rsquo; clauses, see <a href="#Generic-Where-Clauses">Generic
Where Clauses</a>.
</p>
<p>For example, you can define an extension to the &lsquo;<samp>Collection</samp>&rsquo; protocol
that applies to any collection whose elements conform to the &lsquo;<samp>Equatable</samp>&rsquo;
protocol. By constraining a collection&rsquo;s elements to the &lsquo;<samp>Equatable</samp>&rsquo;
protocol, a part of the standard library, you can use the &lsquo;<samp>==</samp>&rsquo; and &lsquo;<samp>!=</samp>&rsquo;
operators to check for equality and inequality between two elements.
</p>
<div class="example">
<pre class="example">extension Collection where Element: Equatable {
    func allEqual() -&gt; Bool {
        for element in self {
            if element != self.first {
                return false
            }
        }
        return true
    }
}
</pre></div>

<p>The &lsquo;<samp>allEqual()</samp>&rsquo; method returns &lsquo;<samp>true</samp>&rsquo; only if all the elements in the
collection are equal.
</p>
<p>Consider two arrays of integers, one where all the elements are the
same, and one where they aren&rsquo;t:
</p>
<div class="example">
<pre class="example">let equalNumbers = [100, 100, 100, 100, 100]
let differentNumbers = [100, 100, 200, 100, 200]
</pre></div>

<p>Because arrays conform to &lsquo;<samp>Collection</samp>&rsquo; and integers conform to
&lsquo;<samp>Equatable</samp>&rsquo;, &lsquo;<samp>equalNumbers</samp>&rsquo; and &lsquo;<samp>differentNumbers</samp>&rsquo; can use the
&lsquo;<samp>allEqual()</samp>&rsquo; method:
</p>
<div class="example">
<pre class="example">print(equalNumbers.allEqual())
// Prints &quot;true&quot;
print(differentNumbers.allEqual())
// Prints &quot;false&quot;
</pre></div>

<p>Note
</p>
<p>If a conforming type satisfies the requirements for multiple constrained
extensions that provide implementations for the same method or property,
Swift uses the implementation corresponding to the most specialized
constraints.
</p>
<hr>
<span id="Generics-1"></span><div class="header">
<p>
Next: <a href="#Opaque-Types" accesskey="n" rel="next">Opaque Types</a>, Previous: <a href="#Protocols" accesskey="p" rel="prev">Protocols</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Generics-4"></span><h2 class="chapter">27 Generics</h2>

<p><em>Generic code</em> enables you to write flexible, reusable functions and
types that can work with any type, subject to requirements that you
define. You can write code that avoids duplication and expresses its
intent in a clear, abstracted manner.
</p>
<p>Generics are one of the most powerful features of Swift, and much of the
Swift standard library is built with generic code. In fact, you&rsquo;ve been
using generics throughout the <em>Language Guide</em>, even if you didn&rsquo;t
realize it. For example, Swift&rsquo;s &lsquo;<samp>Array</samp>&rsquo; and &lsquo;<samp>Dictionary</samp>&rsquo; types are both
generic collections. You can create an array that holds &lsquo;<samp>Int</samp>&rsquo; values, or
an array that holds &lsquo;<samp>String</samp>&rsquo; values, or indeed an array for any other
type that can be created in Swift. Similarly, you can create a
dictionary to store values of any specified type, and there are no
limitations on what that type can be.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#The-Problem-That-Generics-Solve" accesskey="1">The Problem That Generics Solve</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Generic-Functions" accesskey="2">Generic Functions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Type-Parameters" accesskey="3">Type Parameters</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Naming-Type-Parameters" accesskey="4">Naming Type Parameters</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Generic-Types" accesskey="5">Generic Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Extending-a-Generic-Type" accesskey="6">Extending a Generic Type</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Type-Constraints" accesskey="7">Type Constraints</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Associated-Types" accesskey="8">Associated Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Generic-Where-Clauses" accesskey="9">Generic Where Clauses</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Extensions-with-a-Generic-Where-Clause">Extensions with a Generic Where Clause</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Associated-Types-with-a-Generic-Where-Clause">Associated Types with a Generic Where Clause</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Generic-Subscripts">Generic Subscripts</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="The-Problem-That-Generics-Solve"></span><div class="header">
<p>
Next: <a href="#Generic-Functions" accesskey="n" rel="next">Generic Functions</a>, Up: <a href="#Generics-1" accesskey="u" rel="up">Generics 1</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="The-Problem-That-Generics-Solve-1"></span><h3 class="section">27.1 The Problem That Generics Solve</h3>

<p>Here&rsquo;s a standard, nongeneric function called &lsquo;<samp>swapTwoInts(_:_:)</samp>&rsquo;, which
swaps two &lsquo;<samp>Int</samp>&rsquo; values:
</p>
<div class="example">
<pre class="example">func swapTwoInts(_ a: inout Int, _ b: inout Int) {
    let temporaryA = a
    a = b
    b = temporaryA
}
</pre></div>

<p>This function makes use of in-out parameters to swap the values of &lsquo;<samp>a</samp>&rsquo;
and &lsquo;<samp>b</samp>&rsquo;, as described in <a href="#In_002dOut-Parameters">In-Out Parameters</a>.
</p>
<p>The &lsquo;<samp>swapTwoInts(_:_:)</samp>&rsquo; function swaps the original value of &lsquo;<samp>b</samp>&rsquo; into
&lsquo;<samp>a</samp>&rsquo;, and the original value of &lsquo;<samp>a</samp>&rsquo; into &lsquo;<samp>b</samp>&rsquo;. You can call this function
to swap the values in two &lsquo;<samp>Int</samp>&rsquo; variables:
</p>
<div class="example">
<pre class="example">var someInt = 3
var anotherInt = 107
swapTwoInts(&amp;someInt, &amp;anotherInt)
print(&quot;someInt is now \(someInt), and anotherInt is now \(anotherInt)&quot;)
// Prints &quot;someInt is now 107, and anotherInt is now 3&quot;
</pre></div>

<p>The &lsquo;<samp>swapTwoInts(_:_:)</samp>&rsquo; function is useful, but it can only be used with
&lsquo;<samp>Int</samp>&rsquo; values. If you want to swap two &lsquo;<samp>String</samp>&rsquo; values, or two &lsquo;<samp>Double</samp>&rsquo;
values, you have to write more functions, such as the
&lsquo;<samp>swapTwoStrings(_:_:)</samp>&rsquo; and &lsquo;<samp>swapTwoDoubles(_:_:)</samp>&rsquo; functions shown below:
</p>
<div class="example">
<pre class="example">func swapTwoStrings(_ a: inout String, _ b: inout String) {
    let temporaryA = a
    a = b
    b = temporaryA
}

func swapTwoDoubles(_ a: inout Double, _ b: inout Double) {
    let temporaryA = a
    a = b
    b = temporaryA
}
</pre></div>

<p>You may have noticed that the bodies of the &lsquo;<samp>swapTwoInts(_:_:)</samp>&rsquo;,
&lsquo;<samp>swapTwoStrings(_:_:)</samp>&rsquo;, and &lsquo;<samp>swapTwoDoubles(_:_:)</samp>&rsquo; functions are
identical. The only difference is the type of the values that they
accept (&lsquo;<samp>Int</samp>&rsquo;, &lsquo;<samp>String</samp>&rsquo;, and &lsquo;<samp>Double</samp>&rsquo;).
</p>
<p>It&rsquo;s more useful, and considerably more flexible, to write a single
function that swaps two values of <em>any</em> type. Generic code enables you
to write such a function. (A generic version of these functions is
defined below.)
</p>
<p>Note
</p>
<p>In all three functions, the types of &lsquo;<samp>a</samp>&rsquo; and &lsquo;<samp>b</samp>&rsquo; must be the same. If
&lsquo;<samp>a</samp>&rsquo; and &lsquo;<samp>b</samp>&rsquo; aren&rsquo;t of the same type, it isn&rsquo;t possible to swap their
values. Swift is a type-safe language, and doesn&rsquo;t allow (for example) a
variable of type &lsquo;<samp>String</samp>&rsquo; and a variable of type &lsquo;<samp>Double</samp>&rsquo; to swap values
with each other. Attempting to do so results in a compile-time error.
</p>
<hr>
<span id="Generic-Functions"></span><div class="header">
<p>
Next: <a href="#Type-Parameters" accesskey="n" rel="next">Type Parameters</a>, Previous: <a href="#The-Problem-That-Generics-Solve" accesskey="p" rel="prev">The Problem That Generics Solve</a>, Up: <a href="#Generics-1" accesskey="u" rel="up">Generics 1</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Generic-Functions-1"></span><h3 class="section">27.2 Generic Functions</h3>

<p><em>Generic functions</em> can work with any type. Here&rsquo;s a generic version of
the &lsquo;<samp>swapTwoInts(_:_:)</samp>&rsquo; function from above, called
&lsquo;<samp>swapTwoValues(_:_:)</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">func swapTwoValues&lt;T&gt;(_ a: inout T, _ b: inout T) {
    let temporaryA = a
    a = b
    b = temporaryA
}
</pre></div>

<p>The body of the &lsquo;<samp>swapTwoValues(_:_:)</samp>&rsquo; function is identical to the body
of the &lsquo;<samp>swapTwoInts(_:_:)</samp>&rsquo; function. However, the first line of
&lsquo;<samp>swapTwoValues(_:_:)</samp>&rsquo; is slightly different from &lsquo;<samp>swapTwoInts(_:_:)</samp>&rsquo;.
Here&rsquo;s how the first lines compare:
</p>
<div class="example">
<pre class="example">func swapTwoInts(_ a: inout Int, _ b: inout Int)
func swapTwoValues&lt;T&gt;(_ a: inout T, _ b: inout T)
</pre></div>

<p>The generic version of the function uses a <em>placeholder</em> type name
(called &lsquo;<samp>T</samp>&rsquo;, in this case) instead of an <em>actual</em> type name (such as
&lsquo;<samp>Int</samp>&rsquo;, &lsquo;<samp>String</samp>&rsquo;, or &lsquo;<samp>Double</samp>&rsquo;). The placeholder type name doesn&rsquo;t say
anything about what &lsquo;<samp>T</samp>&rsquo; must be, but it <em>does</em> say that both &lsquo;<samp>a</samp>&rsquo; and &lsquo;<samp>b</samp>&rsquo;
must be of the same type &lsquo;<samp>T</samp>&rsquo;, whatever &lsquo;<samp>T</samp>&rsquo; represents. The actual type
to use in place of &lsquo;<samp>T</samp>&rsquo; is determined each time the &lsquo;<samp>swapTwoValues(_:_:)</samp>&rsquo;
function is called.
</p>
<p>The other difference between a generic function and a nongeneric
function is that the generic function&rsquo;s name (&lsquo;<samp>swapTwoValues(_:_:)</samp>&rsquo;) is
followed by the placeholder type name (&lsquo;<samp>T</samp>&rsquo;) inside angle brackets
(&lsquo;<samp>&lt;T&gt;</samp>&rsquo;). The brackets tell Swift that &lsquo;<samp>T</samp>&rsquo; is a placeholder type name
within the &lsquo;<samp>swapTwoValues(_:_:)</samp>&rsquo; function definition. Because &lsquo;<samp>T</samp>&rsquo; is a
placeholder, Swift doesn&rsquo;t look for an actual type called &lsquo;<samp>T</samp>&rsquo;.
</p>
<p>The &lsquo;<samp>swapTwoValues(_:_:)</samp>&rsquo; function can now be called in the same way as
&lsquo;<samp>swapTwoInts</samp>&rsquo;, except that it can be passed two values of <em>any</em> type, as
long as both of those values are of the same type as each other. Each
time &lsquo;<samp>swapTwoValues(_:_:)</samp>&rsquo; is called, the type to use for &lsquo;<samp>T</samp>&rsquo; is
inferred from the types of values passed to the function.
</p>
<p>In the two examples below, &lsquo;<samp>T</samp>&rsquo; is inferred to be &lsquo;<samp>Int</samp>&rsquo; and &lsquo;<samp>String</samp>&rsquo;
respectively:
</p>
<div class="example">
<pre class="example">'var someInt = 3
var anotherInt = 107
swapTwoValues(&amp;someInt, &amp;anotherInt)
// someInt is now 107, and anotherInt is now 3

var someString = &quot;hello&quot;
var anotherString = &quot;world&quot;
swapTwoValues(&amp;someString, &amp;anotherString)
// someString is now &quot;world&quot;, and anotherString is now &quot;hello&quot;
</pre></div>

<p>Note
</p>
<p>The &lsquo;<samp>swapTwoValues(_:_:)</samp>&rsquo; function defined above is inspired by a
generic function called &lsquo;<samp>swap</samp>&rsquo;, which is part of the Swift standard
library, and is automatically made available for you to use in your
apps. If you need the behavior of the &lsquo;<samp>swapTwoValues(_:_:)</samp>&rsquo; function in
your own code, you can use Swift&rsquo;s existing &lsquo;<samp>swap(_:_:)</samp>&rsquo; function rather
than providing your own implementation.
</p>
<hr>
<span id="Type-Parameters"></span><div class="header">
<p>
Next: <a href="#Naming-Type-Parameters" accesskey="n" rel="next">Naming Type Parameters</a>, Previous: <a href="#Generic-Functions" accesskey="p" rel="prev">Generic Functions</a>, Up: <a href="#Generics-1" accesskey="u" rel="up">Generics 1</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Type-Parameters-1"></span><h3 class="section">27.3 Type Parameters</h3>

<p>In the &lsquo;<samp>swapTwoValues(_:_:)</samp>&rsquo; example above, the placeholder type &lsquo;<samp>T</samp>&rsquo; is
an example of a <em>type parameter</em>. Type parameters specify and name a
placeholder type, and are written immediately after the function&rsquo;s name,
between a pair of matching angle brackets (such as &lsquo;<samp>&lt;T&gt;</samp>&rsquo;).
</p>
<p>Once you specify a type parameter, you can use it to define the type of
a function&rsquo;s parameters (such as the &lsquo;<samp>a</samp>&rsquo; and &lsquo;<samp>b</samp>&rsquo; parameters of the
&lsquo;<samp>swapTwoValues(_:_:)</samp>&rsquo; function), or as the function&rsquo;s return type, or as
a type annotation within the body of the function. In each case, the
type parameter is replaced with an <em>actual</em> type whenever the function
is called. (In the &lsquo;<samp>swapTwoValues(_:_:)</samp>&rsquo; example above, &lsquo;<samp>T</samp>&rsquo; was replaced
with &lsquo;<samp>Int</samp>&rsquo; the first time the function was called, and was replaced with
&lsquo;<samp>String</samp>&rsquo; the second time it was called.)
</p>
<p>You can provide more than one type parameter by writing multiple type
parameter names within the angle brackets, separated by commas.
</p>
<hr>
<span id="Naming-Type-Parameters"></span><div class="header">
<p>
Next: <a href="#Generic-Types" accesskey="n" rel="next">Generic Types</a>, Previous: <a href="#Type-Parameters" accesskey="p" rel="prev">Type Parameters</a>, Up: <a href="#Generics-1" accesskey="u" rel="up">Generics 1</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Naming-Type-Parameters-1"></span><h3 class="section">27.4 Naming Type Parameters</h3>

<p>In most cases, type parameters have descriptive names, such as &lsquo;<samp>Key</samp>&rsquo; and
&lsquo;<samp>Value</samp>&rsquo; in &lsquo;<samp>Dictionary&lt;Key, Value&gt;</samp>&rsquo; and &lsquo;<samp>Element</samp>&rsquo; in &lsquo;<samp>Array&lt;Element&gt;</samp>&rsquo;,
which tells the reader about the relationship between the type parameter
and the generic type or function it&rsquo;s used in. However, when there isn&rsquo;t
a meaningful relationship between them, it&rsquo;s traditional to name them
using single letters such as &lsquo;<samp>T</samp>&rsquo;, &lsquo;<samp>U</samp>&rsquo;, and &lsquo;<samp>V</samp>&rsquo;, such as &lsquo;<samp>T</samp>&rsquo; in the
&lsquo;<samp>swapTwoValues(_:_:)</samp>&rsquo; function above.
</p>
<p>Note
</p>
<p>Always give type parameters upper camel case names (such as &lsquo;<samp>T</samp>&rsquo; and
&lsquo;<samp>MyTypeParameter</samp>&rsquo;) to indicate that they&rsquo;re a placeholder for a <em>type</em>,
not a value.
</p>
<hr>
<span id="Generic-Types"></span><div class="header">
<p>
Next: <a href="#Extending-a-Generic-Type" accesskey="n" rel="next">Extending a Generic Type</a>, Previous: <a href="#Naming-Type-Parameters" accesskey="p" rel="prev">Naming Type Parameters</a>, Up: <a href="#Generics-1" accesskey="u" rel="up">Generics 1</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Generic-Types-1"></span><h3 class="section">27.5 Generic Types</h3>

<p>In addition to generic functions, Swift enables you to define your own
<em>generic types</em>. These are custom classes, structures, and enumerations
that can work with <em>any</em> type, in a similar way to &lsquo;<samp>Array</samp>&rsquo; and
&lsquo;<samp>Dictionary</samp>&rsquo;.
</p>
<p>This section shows you how to write a generic collection type called
&lsquo;<samp>Stack</samp>&rsquo;. A stack is an ordered set of values, similar to an array, but
with a more restricted set of operations than Swift&rsquo;s &lsquo;<samp>Array</samp>&rsquo; type. An
array allows new items to be inserted and removed at any location in the
array. A stack, however, allows new items to be appended only to the end
of the collection (known as <em>pushing</em> a new value on to the stack).
Similarly, a stack allows items to be removed only from the end of the
collection (known as <em>popping</em> a value off the stack).
</p>
<p>Note
</p>
<p>The concept of a stack is used by the &lsquo;<samp>UINavigationController</samp>&rsquo; class to
model the view controllers in its navigation hierarchy. You call the
&lsquo;<samp>UINavigationController</samp>&rsquo; class &lsquo;<samp>pushViewController(_:animated:)</samp>&rsquo; method
to add (or push) a view controller on to the navigation stack, and its
&lsquo;<samp>popViewControllerAnimated(_:)</samp>&rsquo; method to remove (or pop) a view
controller from the navigation stack. A stack is a useful collection
model whenever you need a strict “last in, first out” approach to
managing a collection.
</p>
<p>The illustration below shows the push and pop behavior for a stack:
</p>
<img src="images/stackPushPop_2x.png" alt="images/stackPushPop_2x">

<ol>
<li> There are currently three values on the stack.

</li><li> A fourth value is pushed onto the top of the stack.

</li><li> The stack now holds four values, with the most recent one at the top.

</li><li> The top item in the stack is popped.

</li><li> After popping a value, the stack once again holds three values.
</li></ol>

<p>Here&rsquo;s how to write a nongeneric version of a stack, in this case for a
stack of &lsquo;<samp>Int</samp>&rsquo; values:
</p>
<div class="example">
<pre class="example">struct IntStack {
    var items = [Int]()
    mutating func push(_ item: Int) {
        items.append(item)
    }
    mutating func pop() -&gt; Int {
        return items.removeLast()
    }
}
</pre></div>

<p>This structure uses an &lsquo;<samp>Array</samp>&rsquo; property called &lsquo;<samp>items</samp>&rsquo; to store the
values in the stack. &lsquo;<samp>Stack</samp>&rsquo; provides two methods, &lsquo;<samp>push</samp>&rsquo; and &lsquo;<samp>pop</samp>&rsquo;, to
push and pop values on and off the stack. These methods are marked as
&lsquo;<samp>mutating</samp>&rsquo;, because they need to modify (or <em>mutate</em>) the structure&rsquo;s
&lsquo;<samp>items</samp>&rsquo; array.
</p>
<p>The &lsquo;<samp>IntStack</samp>&rsquo; type shown above can only be used with &lsquo;<samp>Int</samp>&rsquo; values,
however. It would be much more useful to define a <em>generic</em> &lsquo;<samp>Stack</samp>&rsquo;
class, that can manage a stack of <em>any</em> type of value.
</p>
<p>Here&rsquo;s a generic version of the same code:
</p>
<div class="example">
<pre class="example">struct Stack&lt;Element&gt; {
    var items = [Element]()
    mutating func push(_ item: Element) {
        items.append(item)
    }
    mutating func pop() -&gt; Element {
        return items.removeLast()
    }
}
</pre></div>

<p>Note how the generic version of &lsquo;<samp>Stack</samp>&rsquo; is essentially the same as the
nongeneric version, but with a type parameter called &lsquo;<samp>Element</samp>&rsquo; instead
of an actual type of &lsquo;<samp>Int</samp>&rsquo;. This type parameter is written within a pair
of angle brackets (&lsquo;<samp>&lt;Element&gt;</samp>&rsquo;) immediately after the structure&rsquo;s name.
</p>
<p>&lsquo;<samp>Element</samp>&rsquo; defines a placeholder name for a type to be provided later.
This future type can be referred to as &lsquo;<samp>Element</samp>&rsquo; anywhere within the
structure&rsquo;s definition. In this case, &lsquo;<samp>Element</samp>&rsquo; is used as a placeholder
in three places:
</p>
<ul>
<li> To create a property called &lsquo;<samp>items</samp>&rsquo;, which is initialized with an
empty array of values of type &lsquo;<samp>Element</samp>&rsquo;

</li><li> To specify that the &lsquo;<samp>push(_:)</samp>&rsquo; method has a single parameter called
&lsquo;<samp>item</samp>&rsquo;, which must be of type &lsquo;<samp>Element</samp>&rsquo;

</li><li> To specify that the value returned by the &lsquo;<samp>pop()</samp>&rsquo; method will be a
value of type &lsquo;<samp>Element</samp>&rsquo;
</li></ul>

<p>Because it&rsquo;s a generic type, &lsquo;<samp>Stack</samp>&rsquo; can be used to create a stack of
<em>any</em> valid type in Swift, in a similar manner to &lsquo;<samp>Array</samp>&rsquo; and
&lsquo;<samp>Dictionary</samp>&rsquo;.
</p>
<p>You create a new &lsquo;<samp>Stack</samp>&rsquo; instance by writing the type to be stored in
the stack within angle brackets. For example, to create a new stack of
strings, you write &lsquo;<samp>Stack&lt;String&gt;()</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">var stackOfStrings = Stack&lt;String&gt;()
stackOfStrings.push(&quot;uno&quot;)
stackOfStrings.push(&quot;dos&quot;)
stackOfStrings.push(&quot;tres&quot;)
stackOfStrings.push(&quot;cuatro&quot;)
// the stack now contains 4 strings
</pre></div>

<p>Here&rsquo;s how &lsquo;<samp>stackOfStrings</samp>&rsquo; looks after pushing these four values on to
the stack:
</p>
<img src="images/stackPushedFourStrings_2x.png" alt="images/stackPushedFourStrings_2x">
<p>Popping a value from the stack removes and returns the top value,
&lsquo;<samp>&quot;cuatro&quot;</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">let fromTheTop = stackOfStrings.pop()
// fromTheTop is equal to &quot;cuatro&quot;, and the stack now contains 3 strings
</pre></div>

<p>Here&rsquo;s how the stack looks after popping its top value:
</p>
<img src="images/stackPoppedOneString_2x.png" alt="images/stackPoppedOneString_2x">

<hr>
<span id="Extending-a-Generic-Type"></span><div class="header">
<p>
Next: <a href="#Type-Constraints" accesskey="n" rel="next">Type Constraints</a>, Previous: <a href="#Generic-Types" accesskey="p" rel="prev">Generic Types</a>, Up: <a href="#Generics-1" accesskey="u" rel="up">Generics 1</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Extending-a-Generic-Type-1"></span><h3 class="section">27.6 Extending a Generic Type</h3>

<p>When you extend a generic type, you don&rsquo;t provide a type parameter list
as part of the extension&rsquo;s definition. Instead, the type parameter list
from the <em>original</em> type definition is available within the body of the
extension, and the original type parameter names are used to refer to
the type parameters from the original definition.
</p>
<p>The following example extends the generic &lsquo;<samp>Stack</samp>&rsquo; type to add a
read-only computed property called &lsquo;<samp>topItem</samp>&rsquo;, which returns the top item
on the stack without popping it from the stack:
</p>
<div class="example">
<pre class="example">extension Stack {
    var topItem: Element? {
        return items.isEmpty ? nil : items[items.count - 1]
    }
}
</pre></div>

<p>The &lsquo;<samp>topItem</samp>&rsquo; property returns an optional value of type &lsquo;<samp>Element</samp>&rsquo;. If
the stack is empty, &lsquo;<samp>topItem</samp>&rsquo; returns &lsquo;<samp>nil</samp>&rsquo;; if the stack isn&rsquo;t empty,
&lsquo;<samp>topItem</samp>&rsquo; returns the final item in the &lsquo;<samp>items</samp>&rsquo; array.
</p>
<p>Note that this extension doesn&rsquo;t define a type parameter list. Instead,
the &lsquo;<samp>Stack</samp>&rsquo; type&rsquo;s existing type parameter name, &lsquo;<samp>Element</samp>&rsquo;, is used
within the extension to indicate the optional type of the &lsquo;<samp>topItem</samp>&rsquo;
computed property.
</p>
<p>The &lsquo;<samp>topItem</samp>&rsquo; computed property can now be used with any &lsquo;<samp>Stack</samp>&rsquo;
instance to access and query its top item without removing it.
</p>
<div class="example">
<pre class="example">if let topItem = stackOfStrings.topItem {
    print(&quot;The top item on the stack is \(topItem).&quot;)
}
// Prints &quot;The top item on the stack is tres.&quot;
</pre></div>

<p>Extensions of a generic type can also include requirements that
instances of the extended type must satisfy in order to gain the new
functionality, as discussed in <a href="#Extensions-with-a-Generic-Where-Clause">Extensions with
a Generic Where Clause</a> below.
</p>
<hr>
<span id="Type-Constraints"></span><div class="header">
<p>
Next: <a href="#Associated-Types" accesskey="n" rel="next">Associated Types</a>, Previous: <a href="#Extending-a-Generic-Type" accesskey="p" rel="prev">Extending a Generic Type</a>, Up: <a href="#Generics-1" accesskey="u" rel="up">Generics 1</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Type-Constraints-1"></span><h3 class="section">27.7 Type Constraints</h3>

<p>The &lsquo;<samp>swapTwoValues(_:_:)</samp>&rsquo; function and the &lsquo;<samp>Stack</samp>&rsquo; type can work with
any type. However, it&rsquo;s sometimes useful to enforce certain <em>type
constraints</em> on the types that can be used with generic functions and
generic types. Type constraints specify that a type parameter must
inherit from a specific class, or conform to a particular protocol or
protocol composition.
</p>
<p>For example, Swift&rsquo;s &lsquo;<samp>Dictionary</samp>&rsquo; type places a limitation on the types
that can be used as keys for a dictionary. As described in
<a href="#Dictionaries">Dictionaries</a>, the type of a
dictionary&rsquo;s keys must be <em>hashable</em>. That is, it must provide a way to
make itself uniquely representable. &lsquo;<samp>Dictionary</samp>&rsquo; needs its keys to be
hashable so that it can check whether it already contains a value for a
particular key. Without this requirement, &lsquo;<samp>Dictionary</samp>&rsquo; could not tell
whether it should insert or replace a value for a particular key, nor
would it be able to find a value for a given key that is already in the
dictionary.
</p>
<p>This requirement is enforced by a type constraint on the key type for
&lsquo;<samp>Dictionary</samp>&rsquo;, which specifies that the key type must conform to the
&lsquo;<samp>Hashable</samp>&rsquo; protocol, a special protocol defined in the Swift standard
library. All of Swift&rsquo;s basic types (such as &lsquo;<samp>String</samp>&rsquo;, &lsquo;<samp>Int</samp>&rsquo;, &lsquo;<samp>Double</samp>&rsquo;,
and &lsquo;<samp>Bool</samp>&rsquo;) are hashable by default.
</p>
<p>You can define your own type constraints when creating custom generic
types, and these constraints provide much of the power of generic
programming. Abstract concepts like &lsquo;<samp>Hashable</samp>&rsquo; characterize types in
terms of their conceptual characteristics, rather than their concrete
type.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Type-Constraint-Syntax" accesskey="1">Type Constraint Syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Type-Constraints-in-Action" accesskey="2">Type Constraints in Action</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Type-Constraint-Syntax"></span><div class="header">
<p>
Next: <a href="#Type-Constraints-in-Action" accesskey="n" rel="next">Type Constraints in Action</a>, Up: <a href="#Type-Constraints" accesskey="u" rel="up">Type Constraints</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Type-Constraint-Syntax-1"></span><h4 class="subsection">27.7.1 Type Constraint Syntax</h4>

<p>You write type constraints by placing a single class or protocol
constraint after a type parameter&rsquo;s name, separated by a colon, as part
of the type parameter list. The basic syntax for type constraints on a
generic function is shown below (although the syntax is the same for
generic types):
</p>
<div class="example">
<pre class="example">func someFunction&lt;T: SomeClass, U: SomeProtocol&gt;(someT: T, someU: U) {
    // function body goes here
}
</pre></div>

<p>The hypothetical function above has two type parameters. The first type
parameter, &lsquo;<samp>T</samp>&rsquo;, has a type constraint that requires &lsquo;<samp>T</samp>&rsquo; to be a subclass
of &lsquo;<samp>SomeClass</samp>&rsquo;. The second type parameter, &lsquo;<samp>U</samp>&rsquo;, has a type constraint
that requires &lsquo;<samp>U</samp>&rsquo; to conform to the protocol &lsquo;<samp>SomeProtocol</samp>&rsquo;.
</p>
<hr>
<span id="Type-Constraints-in-Action"></span><div class="header">
<p>
Previous: <a href="#Type-Constraint-Syntax" accesskey="p" rel="prev">Type Constraint Syntax</a>, Up: <a href="#Type-Constraints" accesskey="u" rel="up">Type Constraints</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Type-Constraints-in-Action-1"></span><h4 class="subsection">27.7.2 Type Constraints in Action</h4>

<p>Here&rsquo;s a nongeneric function called &lsquo;<samp>findIndex(ofString:in:)</samp>&rsquo;, which is
given a &lsquo;<samp>String</samp>&rsquo; value to find and an array of &lsquo;<samp>String</samp>&rsquo; values within
which to find it. The &lsquo;<samp>findIndex(ofString:in:)</samp>&rsquo; function returns an
optional &lsquo;<samp>Int</samp>&rsquo; value, which will be the index of the first matching
string in the array if it&rsquo;s found, or &lsquo;<samp>nil</samp>&rsquo; if the string can&rsquo;t be
found:
</p>
<div class="example">
<pre class="example">func findIndex(ofString valueToFind: String, in array: [String]) -&gt; Int? {
    for (index, value) in array.enumerated() {
        if value == valueToFind {
            return index
        }
    }
    return nil
}
</pre></div>

<p>The &lsquo;<samp>findIndex(ofString:in:)</samp>&rsquo; function can be used to find a string
value in an array of strings:
</p>
<div class="example">
<pre class="example">let strings = [&quot;cat&quot;, &quot;dog&quot;, &quot;llama&quot;, &quot;parakeet&quot;, &quot;terrapin&quot;]
if let foundIndex = findIndex(ofString: &quot;llama&quot;, in: strings) {
    print(&quot;The index of llama is \(foundIndex)&quot;)
}
// Prints &quot;The index of llama is 2&quot;
</pre></div>

<p>The principle of finding the index of a value in an array isn&rsquo;t useful
only for strings, however. You can write the same functionality as a
generic function by replacing any mention of strings with values of some
type &lsquo;<samp>T</samp>&rsquo; instead.
</p>
<p>Here&rsquo;s how you might expect a generic version of
&lsquo;<samp>findIndex(ofString:in:)</samp>&rsquo;, called &lsquo;<samp>findIndex(of:in:)</samp>&rsquo;, to be written.
Note that the return type of this function is still &lsquo;<samp>Int?</samp>&rsquo;, because the
function returns an optional index number, not an optional value from
the array. Be warned, though&mdash;this function doesn&rsquo;t compile, for
reasons explained after the example:
</p>
<div class="example">
<pre class="example">func findIndex&lt;T&gt;(of valueToFind: T, in array:[T]) -&gt; Int? {
    for (index, value) in array.enumerated() {
        if value == valueToFind {
            return index
        }
    }
    return nil
}
</pre></div>

<p>This function doesn&rsquo;t compile as written above. The problem lies with
the equality check, “=if value &lsquo;<samp>= valueToFind=”. Not every type in Swift
can be compared with the equal to operator (===</samp>&rsquo;). If you create your
own class or structure to represent a complex data model, for example,
then the meaning of “equal to” for that class or structure isn&rsquo;t
something that Swift can guess for you. Because of this, it isn&rsquo;t
possible to guarantee that this code will work for <em>every</em> possible type
&lsquo;<samp>T</samp>&rsquo;, and an appropriate error is reported when you try to compile the
code.
</p>
<p>All is not lost, however. The Swift standard library defines a protocol
called &lsquo;<samp>Equatable</samp>&rsquo;, which requires any conforming type to implement the
equal to operator (&lsquo;<samp>==</samp>&rsquo;) and the not equal to operator (&lsquo;<samp>!=</samp>&rsquo;) to compare
any two values of that type. All of Swift&rsquo;s standard types automatically
support the &lsquo;<samp>Equatable</samp>&rsquo; protocol.
</p>
<p>Any type that is &lsquo;<samp>Equatable</samp>&rsquo; can be used safely with the
&lsquo;<samp>findIndex(of:in:)</samp>&rsquo; function, because it&rsquo;s guaranteed to support the
equal to operator. To express this fact, you write a type constraint of
&lsquo;<samp>Equatable</samp>&rsquo; as part of the type parameter&rsquo;s definition when you define
the function:
</p>
<div class="example">
<pre class="example">func findIndex&lt;T: Equatable&gt;(of valueToFind: T, in array:[T]) -&gt; Int? {
    for (index, value) in array.enumerated() {
        if value == valueToFind {
            return index
        }
    }
    return nil
}
</pre></div>

<p>The single type parameter for &lsquo;<samp>findIndex(of:in:)</samp>&rsquo; is written as
&lsquo;<samp>T: Equatable</samp>&rsquo;, which means “any type &lsquo;<samp>T</samp>&rsquo; that conforms to the
&lsquo;<samp>Equatable</samp>&rsquo; protocol.”
</p>
<p>The &lsquo;<samp>findIndex(of:in:)</samp>&rsquo; function now compiles successfully and can be
used with any type that is &lsquo;<samp>Equatable</samp>&rsquo;, such as &lsquo;<samp>Double</samp>&rsquo; or &lsquo;<samp>String</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">let doubleIndex = findIndex(of: 9.3, in: [3.14159, 0.1, 0.25])
// doubleIndex is an optional Int with no value, because 9.3 isn't in the array
let stringIndex = findIndex(of: &quot;Andrea&quot;, in: [&quot;Mike&quot;, &quot;Malcolm&quot;, &quot;Andrea&quot;])
// stringIndex is an optional Int containing a value of 2
</pre></div>

<hr>
<span id="Associated-Types"></span><div class="header">
<p>
Next: <a href="#Generic-Where-Clauses" accesskey="n" rel="next">Generic Where Clauses</a>, Previous: <a href="#Type-Constraints" accesskey="p" rel="prev">Type Constraints</a>, Up: <a href="#Generics-1" accesskey="u" rel="up">Generics 1</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Associated-Types-1"></span><h3 class="section">27.8 Associated Types</h3>

<span id="index-associatedtype"></span>

<p>When defining a protocol, it&rsquo;s sometimes useful to declare one or more
associated types as part of the protocol&rsquo;s definition. An &lsquo;<samp>associated
type</samp>&rsquo; gives a placeholder name to a type that is used as part of the
protocol. The actual type to use for that associated type isn&rsquo;t
specified until the protocol is adopted. Associated types are specified
with the &lsquo;<samp>associatedtype</samp>&rsquo; keyword.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Associated-Types-in-Action" accesskey="1">Associated Types in Action</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Extending-an-Existing-Type-to-Specify-an-Associated-Type" accesskey="2">Extending an Existing Type to Specify an Associated Type</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Adding-Constraints-to-an-Associated-Type" accesskey="3">Adding Constraints to an Associated Type</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Using-a-Protocol-in-Its-Associated-Type_0027s-Constraints" accesskey="4">Using a Protocol in Its Associated Type's Constraints</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Associated-Types-in-Action"></span><div class="header">
<p>
Next: <a href="#Extending-an-Existing-Type-to-Specify-an-Associated-Type" accesskey="n" rel="next">Extending an Existing Type to Specify an Associated Type</a>, Up: <a href="#Associated-Types" accesskey="u" rel="up">Associated Types</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Associated-Types-in-Action-1"></span><h4 class="subsection">27.8.1 Associated Types in Action</h4>

<p>Here&rsquo;s an example of a protocol called &lsquo;<samp>Container</samp>&rsquo;, which declares an
associated type called &lsquo;<samp>Item</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">protocol Container {
    associatedtype Item
    mutating func append(_ item: Item)
    var count: Int { get }
    subscript(i: Int) -&gt; Item { get }
}
</pre></div>

<p>The &lsquo;<samp>Container</samp>&rsquo; protocol defines three required capabilities that any
container must provide:
</p>
<ul>
<li> It must be possible to add a new item to the container with an
&lsquo;<samp>append(_:)</samp>&rsquo; method.

</li><li> It must be possible to access a count of the items in the container
through a &lsquo;<samp>count</samp>&rsquo; property that returns an &lsquo;<samp>Int</samp>&rsquo; value.

</li><li> It must be possible to retrieve each item in the container with a
subscript that takes an &lsquo;<samp>Int</samp>&rsquo; index value.
</li></ul>

<p>This protocol doesn&rsquo;t specify how the items in the container should be
stored or what type they&rsquo;re allowed to be. The protocol only specifies
the three bits of functionality that any type must provide in order to
be considered a &lsquo;<samp>Container</samp>&rsquo;. A conforming type can provide additional
functionality, as long as it satisfies these three requirements.
</p>
<p>Any type that conforms to the &lsquo;<samp>Container</samp>&rsquo; protocol must be able to
specify the type of values it stores. Specifically, it must ensure that
only items of the right type are added to the container, and it must be
clear about the type of the items returned by its subscript.
</p>
<p>To define these requirements, the &lsquo;<samp>Container</samp>&rsquo; protocol needs a way to
refer to the type of the elements that a container will hold, without
knowing what that type is for a specific container. The &lsquo;<samp>Container</samp>&rsquo;
protocol needs to specify that any value passed to the &lsquo;<samp>append(_:)</samp>&rsquo;
method must have the same type as the container&rsquo;s element type, and that
the value returned by the container&rsquo;s subscript will be of the same type
as the container&rsquo;s element type.
</p>
<p>To achieve this, the &lsquo;<samp>Container</samp>&rsquo; protocol declares an associated type
called &lsquo;<samp>Item</samp>&rsquo;, written as &lsquo;<samp>associatedtype Item</samp>&rsquo;. The protocol doesn&rsquo;t
define what &lsquo;<samp>Item</samp>&rsquo; is&mdash;that information is left for any conforming type
to provide. Nonetheless, the &lsquo;<samp>Item</samp>&rsquo; alias provides a way to refer to the
type of the items in a &lsquo;<samp>Container</samp>&rsquo;, and to define a type for use with
the &lsquo;<samp>append(_:)</samp>&rsquo; method and subscript, to ensure that the expected
behavior of any &lsquo;<samp>Container</samp>&rsquo; is enforced.
</p>
<p>Here&rsquo;s a version of the nongeneric &lsquo;<samp>IntStack</samp>&rsquo; type from
<a href="#Generic-Types">Generic Types</a> above, adapted to conform to
the &lsquo;<samp>Container</samp>&rsquo; protocol:
</p>
<div class="example">
<pre class="example">struct IntStack: Container {
    // original IntStack implementation
    var items = [Int]()
    mutating func push(_ item: Int) {
        items.append(item)
    }
    mutating func pop() -&gt; Int {
        return items.removeLast()
    }
    // conformance to the Container protocol
    typealias Item = Int
    mutating func append(_ item: Int) {
        self.push(item)
    }
    var count: Int {
        return items.count
    }
    subscript(i: Int) -&gt; Int {
        return items[i]
    }
}
</pre></div>

<p>The &lsquo;<samp>IntStack</samp>&rsquo; type implements all three of the &lsquo;<samp>Container</samp>&rsquo; protocol&rsquo;s
requirements, and in each case wraps part of the &lsquo;<samp>IntStack</samp>&rsquo; type&rsquo;s
existing functionality to satisfy these requirements.
</p>
<p>Moreover, &lsquo;<samp>IntStack</samp>&rsquo; specifies that for this implementation of
&lsquo;<samp>Container</samp>&rsquo;, the appropriate &lsquo;<samp>Item</samp>&rsquo; to use is a type of &lsquo;<samp>Int</samp>&rsquo;. The
definition of &lsquo;<samp>typealias Item = Int</samp>&rsquo; turns the abstract type of &lsquo;<samp>Item</samp>&rsquo;
into a concrete type of &lsquo;<samp>Int</samp>&rsquo; for this implementation of the &lsquo;<samp>Container</samp>&rsquo;
protocol.
</p>
<p>Thanks to Swift&rsquo;s type inference, you don&rsquo;t actually need to declare a
concrete &lsquo;<samp>Item</samp>&rsquo; of &lsquo;<samp>Int</samp>&rsquo; as part of the definition of &lsquo;<samp>IntStack</samp>&rsquo;.
Because &lsquo;<samp>IntStack</samp>&rsquo; conforms to all of the requirements of the
&lsquo;<samp>Container</samp>&rsquo; protocol, Swift can infer the appropriate &lsquo;<samp>Item</samp>&rsquo; to use,
simply by looking at the type of the &lsquo;<samp>append(_:)</samp>&rsquo; method&rsquo;s &lsquo;<samp>item</samp>&rsquo;
parameter and the return type of the subscript. Indeed, if you delete
the &lsquo;<samp>typealias Item = Int</samp>&rsquo; line from the code above, everything still
works, because it&rsquo;s clear what type should be used for &lsquo;<samp>Item</samp>&rsquo;.
</p>
<p>You can also make the generic &lsquo;<samp>Stack</samp>&rsquo; type conform to the &lsquo;<samp>Container</samp>&rsquo;
protocol:
</p>
<div class="example">
<pre class="example">struct Stack&lt;Element&gt;: Container {
    // original Stack&lt;Element&gt; implementation
    var items = [Element]()
    mutating func push(_ item: Element) {
        items.append(item)
    }
    mutating func pop() -&gt; Element {
        return items.removeLast()
    }
    // conformance to the Container protocol
    mutating func append(_ item: Element) {
        self.push(item)
    }
    var count: Int {
        return items.count
    }
    subscript(i: Int) -&gt; Element {
        return items[i]
    }
}
</pre></div>

<p>This time, the type parameter &lsquo;<samp>Element</samp>&rsquo; is used as the type of the
&lsquo;<samp>append(_:)</samp>&rsquo; method&rsquo;s &lsquo;<samp>item</samp>&rsquo; parameter and the return type of the
subscript. Swift can therefore infer that &lsquo;<samp>Element</samp>&rsquo; is the appropriate
type to use as the &lsquo;<samp>Item</samp>&rsquo; for this particular container.
</p>
<hr>
<span id="Extending-an-Existing-Type-to-Specify-an-Associated-Type"></span><div class="header">
<p>
Next: <a href="#Adding-Constraints-to-an-Associated-Type" accesskey="n" rel="next">Adding Constraints to an Associated Type</a>, Previous: <a href="#Associated-Types-in-Action" accesskey="p" rel="prev">Associated Types in Action</a>, Up: <a href="#Associated-Types" accesskey="u" rel="up">Associated Types</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Extending-an-Existing-Type-to-Specify-an-Associated-Type-1"></span><h4 class="subsection">27.8.2 Extending an Existing Type to Specify an Associated Type</h4>

<p>You can extend an existing type to add conformance to a protocol, as
described in <a href="#Adding-Protocol-Conformance-with-an-Extension">Adding Protocol Conformance with
an Extension</a>. This includes a protocol with an associated type.
</p>
<p>Swift&rsquo;s &lsquo;<samp>Array</samp>&rsquo; type already provides an &lsquo;<samp>append(_:)</samp>&rsquo; method, a &lsquo;<samp>count</samp>&rsquo;
property, and a subscript with an &lsquo;<samp>Int</samp>&rsquo; index to retrieve its elements.
These three capabilities match the requirements of the &lsquo;<samp>Container</samp>&rsquo;
protocol. This means that you can extend &lsquo;<samp>Array</samp>&rsquo; to conform to the
&lsquo;<samp>Container</samp>&rsquo; protocol simply by declaring that &lsquo;<samp>Array</samp>&rsquo; adopts the
protocol. You do this with an empty extension, as described in
<a href="#Declaring-Protocol-Adoption-with-an-Extension">Declaring Protocol Adoption with an
Extension</a>:
</p>
<div class="example">
<pre class="example">extension Array: Container {}
</pre></div>

<p>Array&rsquo;s existing &lsquo;<samp>append(_:)</samp>&rsquo; method and subscript enable Swift to infer
the appropriate type to use for &lsquo;<samp>Item</samp>&rsquo;, just as for the generic &lsquo;<samp>Stack</samp>&rsquo;
type above. After defining this extension, you can use any &lsquo;<samp>Array</samp>&rsquo; as a
&lsquo;<samp>Container</samp>&rsquo;.
</p>
<hr>
<span id="Adding-Constraints-to-an-Associated-Type"></span><div class="header">
<p>
Next: <a href="#Using-a-Protocol-in-Its-Associated-Type_0027s-Constraints" accesskey="n" rel="next">Using a Protocol in Its Associated Type's Constraints</a>, Previous: <a href="#Extending-an-Existing-Type-to-Specify-an-Associated-Type" accesskey="p" rel="prev">Extending an Existing Type to Specify an Associated Type</a>, Up: <a href="#Associated-Types" accesskey="u" rel="up">Associated Types</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Adding-Constraints-to-an-Associated-Type-1"></span><h4 class="subsection">27.8.3 Adding Constraints to an Associated Type</h4>

<p>You can add type constraints to an associated type in a protocol to
require that conforming types satisfy those constraints. For example,
the following code defines a version of &lsquo;<samp>Container</samp>&rsquo; that requires the
items in the container to be equatable.
</p>
<div class="example">
<pre class="example">protocol Container {
    associatedtype Item: Equatable
    mutating func append(_ item: Item)
    var count: Int { get }
    subscript(i: Int) -&gt; Item { get }
}
</pre></div>

<p>To conform to this version of &lsquo;<samp>Container</samp>&rsquo;, the container&rsquo;s &lsquo;<samp>Item</samp>&rsquo; type
has to conform to the &lsquo;<samp>Equatable</samp>&rsquo; protocol.
</p>
<hr>
<span id="Using-a-Protocol-in-Its-Associated-Type_0027s-Constraints"></span><div class="header">
<p>
Previous: <a href="#Adding-Constraints-to-an-Associated-Type" accesskey="p" rel="prev">Adding Constraints to an Associated Type</a>, Up: <a href="#Associated-Types" accesskey="u" rel="up">Associated Types</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Using-a-Protocol-in-Its-Associated-Type_0027s-Constraints-1"></span><h4 class="subsection">27.8.4 Using a Protocol in Its Associated Type&rsquo;s Constraints</h4>

<p>A protocol can appear as part of its own requirements. For example,
here&rsquo;s a protocol that refines the &lsquo;<samp>Container</samp>&rsquo; protocol, adding the
requirement of a &lsquo;<samp>suffix(_:)</samp>&rsquo; method. The &lsquo;<samp>suffix(_:)</samp>&rsquo; method returns a
given number of elements from the end of the container, storing them in
an instance of the &lsquo;<samp>Suffix</samp>&rsquo; type.
</p>
<div class="example">
<pre class="example">protocol SuffixableContainer: Container {
    associatedtype Suffix: SuffixableContainer where Suffix.Item == Item
    func suffix(_ size: Int) -&gt; Suffix
}
</pre></div>

<p>In this protocol, &lsquo;<samp>Suffix</samp>&rsquo; is an associated type, like the &lsquo;<samp>Item</samp>&rsquo; type
in the &lsquo;<samp>Container</samp>&rsquo; example above. &lsquo;<samp>Suffix</samp>&rsquo; has two constraints: It must
conform to the &lsquo;<samp>SuffixableContainer</samp>&rsquo; protocol (the protocol currently
being defined), and its &lsquo;<samp>Item</samp>&rsquo; type must be the same as the container&rsquo;s
&lsquo;<samp>Item</samp>&rsquo; type. The constraint on &lsquo;<samp>Item</samp>&rsquo; is a generic &lsquo;<samp>where</samp>&rsquo; clause, which
is discussed in <a href="#Associated-Types-with-a-Generic-Where-Clause">Associated Types with a Generic
Where Clause</a> below.
</p>
<p>Here&rsquo;s an extension of the &lsquo;<samp>Stack</samp>&rsquo; type from
<a href="#Strong-Reference-Cycles-for-Closures">Strong Reference Cycles for
Closures</a> above that adds conformance to the &lsquo;<samp>SuffixableContainer</samp>&rsquo;
protocol:
</p>
<div class="example">
<pre class="example">extension Stack: SuffixableContainer {
    func suffix(_ size: Int) -&gt; Stack {
        var result = Stack()
        for index in (count-size)..&lt;count {
            result.append(self[index])
        }
        return result
    }
    // Inferred that Suffix is Stack.
}
var stackOfInts = Stack&lt;Int&gt;()
stackOfInts.append(10)
stackOfInts.append(20)
stackOfInts.append(30)
let suffix = stackOfInts.suffix(2)
// suffix contains 20 and 30
</pre></div>

<p>In the example above, the &lsquo;<samp>Suffix</samp>&rsquo; associated type for &lsquo;<samp>Stack</samp>&rsquo; is also
&lsquo;<samp>Stack</samp>&rsquo;, so the suffix operation on &lsquo;<samp>Stack</samp>&rsquo; returns another &lsquo;<samp>Stack</samp>&rsquo;.
Alternatively, a type that conforms to &lsquo;<samp>SuffixableContainer</samp>&rsquo; can have a
&lsquo;<samp>Suffix</samp>&rsquo; type that&rsquo;s different from itself&mdash;meaning the suffix
operation can return a different type. For example, here&rsquo;s an extension
to the nongeneric &lsquo;<samp>IntStack</samp>&rsquo; type that adds &lsquo;<samp>SuffixableContainer</samp>&rsquo;
conformance, using &lsquo;<samp>Stack&lt;Int&gt;</samp>&rsquo; as its suffix type instead of
&lsquo;<samp>IntStack</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">extension IntStack: SuffixableContainer {
    func suffix(_ size: Int) -&gt; Stack&lt;Int&gt; {
        var result = Stack&lt;Int&gt;()
        for index in (count-size)..&lt;count {
            result.append(self[index])
        }
        return result
    }
    // Inferred that Suffix is Stack&lt;Int&gt;.
}
</pre></div>

<hr>
<span id="Generic-Where-Clauses"></span><div class="header">
<p>
Next: <a href="#Extensions-with-a-Generic-Where-Clause" accesskey="n" rel="next">Extensions with a Generic Where Clause</a>, Previous: <a href="#Associated-Types" accesskey="p" rel="prev">Associated Types</a>, Up: <a href="#Generics-1" accesskey="u" rel="up">Generics 1</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Generic-Where-Clauses-1"></span><h3 class="section">27.9 Generic Where Clauses</h3>

<p>Type constraints, as described in <a href="#Type-Constraints">Type
Constraints</a>, enable you to define requirements on the type parameters
associated with a generic function, subscript, or type.
</p>
<p>It can also be useful to define requirements for associated types. You
do this by defining a <em>generic where clause</em>. A generic &lsquo;<samp>where</samp>&rsquo; clause
enables you to require that an associated type must conform to a certain
protocol, or that certain type parameters and associated types must be
the same. A generic &lsquo;<samp>where</samp>&rsquo; clause starts with the &lsquo;<samp>where</samp>&rsquo; keyword,
followed by constraints for associated types or equality relationships
between types and associated types. You write a generic &lsquo;<samp>where</samp>&rsquo; clause
right before the opening curly brace of a type or function&rsquo;s body.
</p>
<p>The example below defines a generic function called &lsquo;<samp>allItemsMatch</samp>&rsquo;,
which checks to see if two &lsquo;<samp>Container</samp>&rsquo; instances contain the same items
in the same order. The function returns a Boolean value of &lsquo;<samp>true</samp>&rsquo; if all
items match and a value of &lsquo;<samp>false</samp>&rsquo; if they don&rsquo;t.
</p>
<p>The two containers to be checked don&rsquo;t have to be the same type of
container (although they can be), but they do have to hold the same type
of items. This requirement is expressed through a combination of type
constraints and a generic &lsquo;<samp>where</samp>&rsquo; clause:
</p>
<div class="example">
<pre class="example">func allItemsMatch&lt;C1: Container, C2: Container&gt;
  (_ someContainer: C1, _ anotherContainer: C2) -&gt; Bool
  where C1.Item == C2.Item, C1.Item: Equatable {

    // Check that both containers contain the same number of items.
    if someContainer.count != anotherContainer.count {
        return false
    }

    // Check each pair of items to see if they're equivalent.
    for i in 0..&lt;someContainer.count {
        if someContainer[i] != anotherContainer[i] {
            return false
        }
    }

    // All items match, so return true.
    return true
}
</pre></div>

<p>This function takes two arguments called &lsquo;<samp>someContainer</samp>&rsquo; and
&lsquo;<samp>anotherContainer</samp>&rsquo;. The &lsquo;<samp>someContainer</samp>&rsquo; argument is of type &lsquo;<samp>C1</samp>&rsquo;, and
the &lsquo;<samp>anotherContainer</samp>&rsquo; argument is of type &lsquo;<samp>C2</samp>&rsquo;. Both &lsquo;<samp>C1</samp>&rsquo; and &lsquo;<samp>C2</samp>&rsquo; are
type parameters for two container types to be determined when the
function is called.
</p>
<p>The following requirements are placed on the function&rsquo;s two type
parameters:
</p>
<ul>
<li> &lsquo;<samp>C1</samp>&rsquo; must conform to the &lsquo;<samp>Container</samp>&rsquo; protocol (written as
&lsquo;<samp>C1: Container</samp>&rsquo;).

</li><li> &lsquo;<samp>C2</samp>&rsquo; must also conform to the &lsquo;<samp>Container</samp>&rsquo; protocol (written as
&lsquo;<samp>C2: Container</samp>&rsquo;).

</li><li> The &lsquo;<samp>Item</samp>&rsquo; for &lsquo;<samp>C1</samp>&rsquo; must be the same as the &lsquo;<samp>Item</samp>&rsquo; for &lsquo;<samp>C2</samp>&rsquo; (written
as &lsquo;<samp>C1.Item =</samp>&rsquo; C2.Item=).

</li><li> The &lsquo;<samp>Item</samp>&rsquo; for &lsquo;<samp>C1</samp>&rsquo; must conform to the &lsquo;<samp>Equatable</samp>&rsquo; protocol (written
as &lsquo;<samp>C1.Item: Equatable</samp>&rsquo;).
</li></ul>

<p>The first and second requirements are defined in the function&rsquo;s type
parameter list, and the third and fourth requirements are defined in the
function&rsquo;s generic &lsquo;<samp>where</samp>&rsquo; clause.
</p>
<p>These requirements mean:
</p>
<ul>
<li> &lsquo;<samp>someContainer</samp>&rsquo; is a container of type &lsquo;<samp>C1</samp>&rsquo;.

</li><li> &lsquo;<samp>anotherContainer</samp>&rsquo; is a container of type &lsquo;<samp>C2</samp>&rsquo;.

</li><li> &lsquo;<samp>someContainer</samp>&rsquo; and &lsquo;<samp>anotherContainer</samp>&rsquo; contain the same type of items.

</li><li> The items in &lsquo;<samp>someContainer</samp>&rsquo; can be checked with the not equal
operator (&lsquo;<samp>!=</samp>&rsquo;) to see if they&rsquo;re different from each other.
</li></ul>

<p>The third and fourth requirements combine to mean that the items in
&lsquo;<samp>anotherContainer</samp>&rsquo; can <em>also</em> be checked with the &lsquo;<samp>!=</samp>&rsquo; operator, because
they&rsquo;re exactly the same type as the items in &lsquo;<samp>someContainer</samp>&rsquo;.
</p>
<p>These requirements enable the &lsquo;<samp>allItemsMatch(_:_:)</samp>&rsquo; function to compare
the two containers, even if they&rsquo;re of a different container type.
</p>
<p>The &lsquo;<samp>allItemsMatch(_:_:)</samp>&rsquo; function starts by checking that both
containers contain the same number of items. If they contain a different
number of items, there&rsquo;s no way that they can match, and the function
returns &lsquo;<samp>false</samp>&rsquo;.
</p>
<p>After making this check, the function iterates over all of the items in
&lsquo;<samp>someContainer</samp>&rsquo; with a &lsquo;<samp>for</samp>&rsquo;-&lsquo;<samp>in</samp>&rsquo; loop and the half-open range operator
(&lsquo;<samp>..&lt;</samp>&rsquo;). For each item, the function checks whether the item from
&lsquo;<samp>someContainer</samp>&rsquo; isn&rsquo;t equal to the corresponding item in
&lsquo;<samp>anotherContainer</samp>&rsquo;. If the two items aren&rsquo;t equal, then the two
containers don&rsquo;t match, and the function returns &lsquo;<samp>false</samp>&rsquo;.
</p>
<p>If the loop finishes without finding a mismatch, the two containers
match, and the function returns &lsquo;<samp>true</samp>&rsquo;.
</p>
<p>Here&rsquo;s how the &lsquo;<samp>allItemsMatch(_:_:)</samp>&rsquo; function looks in action:
</p>
<div class="example">
<pre class="example">var stackOfStrings = Stack&lt;String&gt;()
stackOfStrings.push(&quot;uno&quot;)
stackOfStrings.push(&quot;dos&quot;)
stackOfStrings.push(&quot;tres&quot;)

var arrayOfStrings = [&quot;uno&quot;, &quot;dos&quot;, &quot;tres&quot;]

if allItemsMatch(stackOfStrings, arrayOfStrings) {
    print(&quot;All items match.&quot;)
} else {
    print(&quot;Not all items match.&quot;)
}
// Prints &quot;All items match.&quot;
</pre></div>

<p>The example above creates a &lsquo;<samp>Stack</samp>&rsquo; instance to store &lsquo;<samp>String</samp>&rsquo; values,
and pushes three strings onto the stack. The example also creates an
&lsquo;<samp>Array</samp>&rsquo; instance initialized with an array literal containing the same
three strings as the stack. Even though the stack and the array are of a
different type, they both conform to the &lsquo;<samp>Container</samp>&rsquo; protocol, and both
contain the same type of values. You can therefore call the
&lsquo;<samp>allItemsMatch(_:_:)</samp>&rsquo; function with these two containers as its
arguments. In the example above, the &lsquo;<samp>allItemsMatch(_:_:)</samp>&rsquo; function
correctly reports that all of the items in the two containers match.
</p>
<hr>
<span id="Extensions-with-a-Generic-Where-Clause"></span><div class="header">
<p>
Next: <a href="#Associated-Types-with-a-Generic-Where-Clause" accesskey="n" rel="next">Associated Types with a Generic Where Clause</a>, Previous: <a href="#Generic-Where-Clauses" accesskey="p" rel="prev">Generic Where Clauses</a>, Up: <a href="#Generics-1" accesskey="u" rel="up">Generics 1</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Extensions-with-a-Generic-Where-Clause-1"></span><h3 class="section">27.10 Extensions with a Generic Where Clause</h3>

<span id="index-where"></span>

<p>You can also use a generic &lsquo;<samp>where</samp>&rsquo; clause as part of an extension. The
example below extends the generic &lsquo;<samp>Stack</samp>&rsquo; structure from the previous
examples to add an &lsquo;<samp>isTop(_:)</samp>&rsquo; method.
</p>
<div class="example">
<pre class="example">extension Stack where Element: Equatable {
    func isTop(_ item: Element) -&gt; Bool {
        guard let topItem = items.last else {
            return false
        }
        return topItem == item
    }
}
</pre></div>

<p>This new &lsquo;<samp>isTop(_:)</samp>&rsquo; method first checks that the stack isn&rsquo;t empty, and
then compares the given item against the stack&rsquo;s topmost item. If you
tried to do this without a generic &lsquo;<samp>where</samp>&rsquo; clause, you would have a
problem: The implementation of &lsquo;<samp>isTop(_:)</samp>&rsquo; uses the &lsquo;<samp>==</samp>&rsquo; operator, but
the definition of &lsquo;<samp>Stack</samp>&rsquo; doesn&rsquo;t require its items to be equatable, so
using the &lsquo;<samp>==</samp>&rsquo; operator results in a compile-time error. Using a generic
&lsquo;<samp>where</samp>&rsquo; clause lets you add a new requirement to the extension, so that
the extension adds the &lsquo;<samp>isTop(_:)</samp>&rsquo; method only when the items in the
stack are equatable.
</p>
<p>Here&rsquo;s how the &lsquo;<samp>isTop(_:)</samp>&rsquo; method looks in action:
</p>
<div class="example">
<pre class="example">if stackOfStrings.isTop(&quot;tres&quot;) {
    print(&quot;Top element is tres.&quot;)
} else {
    print(&quot;Top element is something else.&quot;)
}
// Prints &quot;Top element is tres.&quot;
</pre></div>

<p>If you try to call the &lsquo;<samp>isTop(_:)</samp>&rsquo; method on a stack whose elements
aren&rsquo;t equatable, you&rsquo;ll get a compile-time error.
</p>
<div class="example">
<pre class="example">struct NotEquatable { }
var notEquatableStack = Stack&lt;NotEquatable&gt;()
let notEquatableValue = NotEquatable()
notEquatableStack.push(notEquatableValue)
notEquatableStack.isTop(notEquatableValue) // Error
</pre></div>

<p>You can use a generic &lsquo;<samp>where</samp>&rsquo; clause with extensions to a protocol. The
example below extends the &lsquo;<samp>Container</samp>&rsquo; protocol from the previous
examples to add a &lsquo;<samp>startsWith(_:)</samp>&rsquo; method.
</p>
<div class="example">
<pre class="example">extension Container where Item: Equatable {
    func startsWith(_ item: Item) -&gt; Bool {
        return count &gt;= 1 &amp;&amp; self[0] == item
    }
}
</pre></div>

<p>The &lsquo;<samp>startsWith(_:)</samp>&rsquo; method first makes sure that the container has at
least one item, and then it checks whether the first item in the
container matches the given item. This new &lsquo;<samp>startsWith(_:)</samp>&rsquo; method can
be used with any type that conforms to the &lsquo;<samp>Container</samp>&rsquo; protocol,
including the stacks and arrays used above, as long as the container&rsquo;s
items are equatable.
</p>
<div class="example">
<pre class="example">if [9, 9, 9].startsWith(42) {
    print(&quot;Starts with 42.&quot;)
} else {
    print(&quot;Starts with something else.&quot;)
}
// Prints &quot;Starts with something else.&quot;
</pre></div>

<p>The generic &lsquo;<samp>where</samp>&rsquo; clause in the example above requires &lsquo;<samp>Item</samp>&rsquo; to
conform to a protocol, but you can also write a generic &lsquo;<samp>where</samp>&rsquo; clauses
that require &lsquo;<samp>Item</samp>&rsquo; to be a specific type. For example:
</p>
<div class="example">
<pre class="example">extension Container where Item == Double {
    func average() -&gt; Double {
        var sum = 0.0
        for index in 0..&lt;count {
            sum += self[index]
        }
        return sum / Double(count)
    }
}
print([1260.0, 1200.0, 98.6, 37.0].average())
// Prints &quot;648.9&quot;
</pre></div>

<p>This example adds an &lsquo;<samp>average()</samp>&rsquo; method to containers whose &lsquo;<samp>Item</samp>&rsquo; type
is &lsquo;<samp>Double</samp>&rsquo;. It iterates over the items in the container to add them up,
and divides by the container&rsquo;s count to compute the average. It
explicitly converts the count from &lsquo;<samp>Int</samp>&rsquo; to &lsquo;<samp>Double</samp>&rsquo; to be able to do
floating-point division.
</p>
<p>You can include multiple requirements in a generic &lsquo;<samp>where</samp>&rsquo; clause that
is part of an extension, just like you can for a generic &lsquo;<samp>where</samp>&rsquo; clause
that you write elsewhere. Separate each requirement in the list with a
comma.
</p>
<hr>
<span id="Associated-Types-with-a-Generic-Where-Clause"></span><div class="header">
<p>
Next: <a href="#Generic-Subscripts" accesskey="n" rel="next">Generic Subscripts</a>, Previous: <a href="#Extensions-with-a-Generic-Where-Clause" accesskey="p" rel="prev">Extensions with a Generic Where Clause</a>, Up: <a href="#Generics-1" accesskey="u" rel="up">Generics 1</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Associated-Types-with-a-Generic-Where-Clause-1"></span><h3 class="section">27.11 Associated Types with a Generic Where Clause</h3>

<p>You can include a generic &lsquo;<samp>where</samp>&rsquo; clause on an associated type. For
example, suppose you want to make a version of &lsquo;<samp>Container</samp>&rsquo; that includes
an iterator, like what the &lsquo;<samp>Sequence</samp>&rsquo; protocol uses in the standard
library. Here&rsquo;s how you write that:
</p>
<div class="example">
<pre class="example">protocol Container {
    associatedtype Item
    mutating func append(_ item: Item)
    var count: Int { get }
    subscript(i: Int) -&gt; Item { get }

    associatedtype Iterator: IteratorProtocol where Iterator.Element == Item
    func makeIterator() -&gt; Iterator
}
</pre></div>

<p>The generic &lsquo;<samp>where</samp>&rsquo; clause on &lsquo;<samp>Iterator</samp>&rsquo; requires that the iterator must
traverse over elements of the same item type as the container&rsquo;s items,
regardless of the iterator&rsquo;s type. The &lsquo;<samp>makeIterator()</samp>&rsquo; function
provides access to a container&rsquo;s iterator.
</p>
<p>For a protocol that inherits from another protocol, you add a constraint
to an inherited associated type by including the generic &lsquo;<samp>where</samp>&rsquo; clause
in the protocol declaration. For example, the following code declares a
&lsquo;<samp>ComparableContainer</samp>&rsquo; protocol that requires &lsquo;<samp>Item</samp>&rsquo; to conform to
&lsquo;<samp>Comparable</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">protocol ComparableContainer: Container where Item: Comparable { }
</pre></div>

<hr>
<span id="Generic-Subscripts"></span><div class="header">
<p>
Previous: <a href="#Associated-Types-with-a-Generic-Where-Clause" accesskey="p" rel="prev">Associated Types with a Generic Where Clause</a>, Up: <a href="#Generics-1" accesskey="u" rel="up">Generics 1</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Generic-Subscripts-1"></span><h3 class="section">27.12 Generic Subscripts</h3>

<p>Subscripts can be generic, and they can include generic &lsquo;<samp>where</samp>&rsquo; clauses.
You write the placeholder type name inside angle brackets after
&lsquo;<samp>subscript</samp>&rsquo;, and you write a generic &lsquo;<samp>where</samp>&rsquo; clause right before the
opening curly brace of the subscript&rsquo;s body. For example:
</p>
<div class="example">
<pre class="example">extension Container {
    subscript&lt;Indices: Sequence&gt;(indices: Indices) -&gt; [Item]
      where Indices.Iterator.Element == Int {
        var result = [Item]()
        for index in indices {
            result.append(self[index])
        }
        return result
    }
}
</pre></div>

<p>This extension to the &lsquo;<samp>Container</samp>&rsquo; protocol adds a subscript that takes a
sequence of indices and returns an array containing the items at each
given index. This generic subscript is constrained as follows:
</p>
<ul>
<li> The generic parameter &lsquo;<samp>Indices</samp>&rsquo; in angle brackets has to be a type
that conforms to the &lsquo;<samp>Sequence</samp>&rsquo; protocol from the standard library.

</li><li> The subscript takes a single parameter, &lsquo;<samp>indices</samp>&rsquo;, which is an
instance of that &lsquo;<samp>Indices</samp>&rsquo; type.

</li><li> The generic &lsquo;<samp>where</samp>&rsquo; clause requires that the iterator for the sequence
must traverse over elements of type &lsquo;<samp>Int</samp>&rsquo;. This ensures that the
indices in the sequence are the same type as the indices used for a
container.
</li></ul>

<p>Taken together, these constraints mean that the value passed for the
&lsquo;<samp>indices</samp>&rsquo; parameter is a sequence of integers.
</p>
<hr>
<span id="Opaque-Types"></span><div class="header">
<p>
Next: <a href="#Automatic-Reference-Counting" accesskey="n" rel="next">Automatic Reference Counting</a>, Previous: <a href="#Generics-1" accesskey="p" rel="prev">Generics 1</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Opaque-Types-1"></span><h2 class="chapter">28 Opaque Types</h2>

<p><a href="https://github.com/apple/swift-evolution/blob/master/proposals/0244-opaque-result-types.md">Proposal</a>
</p>
<p>A function or method with an opaque return type hides its return value&rsquo;s
type information. Instead of providing a concrete type as the function&rsquo;s
return type, the return value is described in terms of the protocols it
supports. Hiding type information is useful at boundaries between a
module and code that calls into the module, because the underlying type
of the return value can remain private. Unlike returning a value whose
type is a protocol type, opaque types preserve type identity&mdash;the
compiler has access to the type information, but clients of the module
don&rsquo;t.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#The-Problem-That-Opaque-Types-Solve" accesskey="1">The Problem That Opaque Types Solve</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Returning-an-Opaque-Type" accesskey="2">Returning an Opaque Type</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Differences-Between-Opaque-Types-and-Protocol-Types" accesskey="3">Differences Between Opaque Types and Protocol Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="The-Problem-That-Opaque-Types-Solve"></span><div class="header">
<p>
Next: <a href="#Returning-an-Opaque-Type" accesskey="n" rel="next">Returning an Opaque Type</a>, Up: <a href="#Opaque-Types" accesskey="u" rel="up">Opaque Types</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="The-Problem-That-Opaque-Types-Solve-1"></span><h3 class="section">28.1 The Problem That Opaque Types Solve</h3>

<p>For example, suppose you&rsquo;re writing a module that draws ASCII art
shapes. The basic characteristic of an ASCII art shape is a &lsquo;<samp>draw()</samp>&rsquo;
function that returns the string representation of that shape, which you
can use as the requirement for the &lsquo;<samp>Shape</samp>&rsquo; protocol:
</p>
<div class="example">
<pre class="example">protocol Shape {
    func draw() -&gt; String
}

struct Triangle: Shape {
    var size: Int
    func draw() -&gt; String {
        var result = [String]()
        for length in 1...size {
            result.append(String(repeating: &quot;*&quot;, count: length))
        }
        return result.joined(separator: &quot;\n&quot;)
    }
}
let smallTriangle = Triangle(size: 3)
print(smallTriangle.draw())
// *
// **
// ***
</pre></div>

<p>You could use generics to implement operations like flipping a shape
vertically, as shown in the code below. However, there&rsquo;s an important
limitation to this approach: The flipped result exposes the exact
generic types that were used to create it.
</p>
<div class="example">
<pre class="example">struct FlippedShape&lt;T: Shape&gt;: Shape {
    var shape: T
    func draw() -&gt; String {
        let lines = shape.draw().split(separator: &quot;\n&quot;)
        return lines.reversed().joined(separator: &quot;\n&quot;)
    }
}
let flippedTriangle = FlippedShape(shape: smallTriangle)
print(flippedTriangle.draw())
// ***
// **
// *
</pre></div>

<p>This approach to defining a &lsquo;<samp>JoinedShape&lt;T: Shape, U: Shape&gt;</samp>&rsquo; structure
that joins two shapes together vertically, like the code below shows,
results in types like &lsquo;<samp>JoinedShape&lt;FlippedShape&lt;Triangle&gt;, Triangle&gt;</samp>&rsquo;
from joining a flipped triangle with another triangle.
</p>
<div class="example">
<pre class="example">struct JoinedShape&lt;T: Shape, U: Shape&gt;: Shape {
    var top: T
    var bottom: U
    func draw() -&gt; String {
        return top.draw() + &quot;\n&quot; + bottom.draw()
    }
}
let joinedTriangles = JoinedShape(top: smallTriangle, bottom: flippedTriangle)
print(joinedTriangles.draw())
// *
// **
// ***
// ***
// **
// *
</pre></div>

<p>Exposing detailed information about the creation of a shape allows types
that aren&rsquo;t meant to be part of the ASCII art module&rsquo;s public interface
to leak out because of the need to state the full return type. The code
inside the module could build up the same shape in a variety of ways,
and other code outside the module that uses the shape shouldn&rsquo;t have to
account for the implementation details about the list of
transformations. Wrapper types like &lsquo;<samp>JoinedShape</samp>&rsquo; and &lsquo;<samp>FlippedShape</samp>&rsquo;
don&rsquo;t matter to the module&rsquo;s users, and they shouldn&rsquo;t be visible. The
module&rsquo;s public interface consists of operations like joining and
flipping a shape, and those operations return another &lsquo;<samp>Shape</samp>&rsquo; value.
</p>
<hr>
<span id="Returning-an-Opaque-Type"></span><div class="header">
<p>
Next: <a href="#Differences-Between-Opaque-Types-and-Protocol-Types" accesskey="n" rel="next">Differences Between Opaque Types and Protocol Types</a>, Previous: <a href="#The-Problem-That-Opaque-Types-Solve" accesskey="p" rel="prev">The Problem That Opaque Types Solve</a>, Up: <a href="#Opaque-Types" accesskey="u" rel="up">Opaque Types</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Returning-an-Opaque-Type-1"></span><h3 class="section">28.2 Returning an Opaque Type</h3>

<p>You can think of an opaque type like being the reverse of a generic
type. Generic types let the code that calls a function pick the type for
that function&rsquo;s parameters and return value in a way that&rsquo;s abstracted
away from the function implementation. For example, the function in the
following code returns a type that depends on its caller:
</p>
<div class="example">
<pre class="example">func max&lt;T&gt;(_ x: T, _ y: T) -&gt; T where T: Comparable { ... }
</pre></div>

<p>The code that calls &lsquo;<samp>max(_:_:)</samp>&rsquo; chooses the values for &lsquo;<samp>x</samp>&rsquo; and &lsquo;<samp>y</samp>&rsquo;, and
the type of those values determines the concrete type of &lsquo;<samp>T</samp>&rsquo;. The
calling code can use any type that conforms to the &lsquo;<samp>Comparable</samp>&rsquo;
protocol. The code inside the function is written in a general way so it
can handle whatever type the caller provides. The implementation of
&lsquo;<samp>max(_:_:)</samp>&rsquo; uses only functionality that all &lsquo;<samp>Comparable</samp>&rsquo; types share.
</p>
<p>Those roles are reversed for a function with an opaque return type. An
opaque type lets the function implementation pick the type for the value
it returns in a way that&rsquo;s abstracted away from the code that calls the
function. For example, the function in the following example returns a
trapezoid without exposing the underlying type of that shape.
</p>
<div class="example">
<pre class="example">struct Square: Shape {
    var size: Int
    func draw() -&gt; String {
        let line = String(repeating: &quot;*&quot;, count: size)
        let result = Array&lt;String&gt;(repeating: line, count: size)
        return result.joined(separator: &quot;\n&quot;)
    }
}

func makeTrapezoid() -&gt; some Shape {
    let top = Triangle(size: 2)
    let middle = Square(size: 2)
    let bottom = FlippedShape(shape: top)
    let trapezoid = JoinedShape(top: top, bottom: JoinedShape(top: middle, bottom: bottom))
    return trapezoid
}
let trapezoid = makeTrapezoid()
print(trapezoid.draw())
// *
// **
// **
// **
// **
// *
</pre></div>

<span id="index-some"></span>

<p>The &lsquo;<samp>makeTrapezoid()</samp>&rsquo; function in this example declares its return type
as &lsquo;<samp>some Shape</samp>&rsquo;; as a result, the function returns a value of some given
type that conforms to the &lsquo;<samp>Shape</samp>&rsquo; protocol, without specifying any
particular concrete type. Writing &lsquo;<samp>makeTrapezoid()</samp>&rsquo; this way lets it
express the fundamental aspect of its public interface&mdash;the value it
returns is a shape&mdash;without making the specific types that the shape is
made from a part of its public interface. This implementation uses two
triangles and a square, but the function could be rewritten to draw a
trapezoid in a variety of other ways without changing its return type.
</p>
<p>This example highlights the way that an opaque return type is like the
reverse of a generic type. The code inside &lsquo;<samp>makeTrapezoid()</samp>&rsquo; can return
any type it needs to, as long as that type conforms to the &lsquo;<samp>Shape</samp>&rsquo;
protocol, like the calling code does for a generic function. The code
that calls the function needs to be written in a general way, like the
implementation of a generic function, so that it can work with any
&lsquo;<samp>Shape</samp>&rsquo; value that&rsquo;s returned by &lsquo;<samp>makeTrapezoid()</samp>&rsquo;.
</p>
<p>You can also combine opaque return types with generics. The functions in
the following code both return a value of some type that conforms to the
&lsquo;<samp>Shape</samp>&rsquo; protocol.
</p>
<div class="example">
<pre class="example">func flip&lt;T: Shape&gt;(_ shape: T) -&gt; some Shape {
    return FlippedShape(shape: shape)
}
func join&lt;T: Shape, U: Shape&gt;(_ top: T, _ bottom: U) -&gt; some Shape {
    JoinedShape(top: top, bottom: bottom)
}
let opaqueJoinedTriangles = join(smallTriangle, flip(smallTriangle))
print(opaqueJoinedTriangles.draw())
// *
// **
// ***
// ***
// **
// *
</pre></div>

<p>The value of &lsquo;<samp>opaqueJoinedTriangles</samp>&rsquo; in this example is the same as
&lsquo;<samp>joinedTriangles</samp>&rsquo; in the generics example in the
<a href="#The-Problem-That-Opaque-Types-Solve">The Problem That Opaque Types Solve</a>
section earlier in this chapter. However, unlike the value in that
example, &lsquo;<samp>flip(_:)</samp>&rsquo; and &lsquo;<samp>join(_:_:)</samp>&rsquo; wrap the underlying types that the
generic shape operations return in an opaque return type, which prevents
those types from being visible. Both functions are generic because the
types they rely on are generic, and the type parameters to the function
pass along the type information needed by &lsquo;<samp>FlippedShape</samp>&rsquo; and
&lsquo;<samp>JoinedShape</samp>&rsquo;.
</p>
<p>If a function with an opaque return type returns from multiple places,
all of the possible return values must have the same type. For a generic
function, that return type can use the function&rsquo;s generic type
parameters, but it must still be a single type. For example, here&rsquo;s an
<em>invalid</em> version of the shape-flipping function that includes a special
case for squares:
</p>
<div class="example">
<pre class="example">func invalidFlip&lt;T: Shape&gt;(_ shape: T) -&gt; some Shape {
    if shape is Square {
        return shape // Error: return types don't match
    }
    return FlippedShape(shape: shape) // Error: return types don't match
}
</pre></div>

<p>If you call this function with a &lsquo;<samp>Square</samp>&rsquo;, it returns a &lsquo;<samp>Square</samp>&rsquo;;
otherwise, it returns a &lsquo;<samp>FlippedShape</samp>&rsquo;. This violates the requirement to
return values of only one type and makes &lsquo;<samp>invalidFlip(_:)</samp>&rsquo; invalid code.
One way to fix &lsquo;<samp>invalidFlip(_:)</samp>&rsquo; is to move the special case for squares
into the implementation of &lsquo;<samp>FlippedShape</samp>&rsquo;, which lets this function
always return a &lsquo;<samp>FlippedShape</samp>&rsquo; value:
</p>
<div class="example">
<pre class="example">struct FlippedShape&lt;T: Shape&gt;: Shape {
    var shape: T
    func draw() -&gt; String {
        if shape is Square {
            return shape.draw()
        }
        let lines = shape.draw().split(separator: &quot;\n&quot;)
        return lines.reversed().joined(separator: &quot;\n&quot;)
    }
}
</pre></div>

<p>The requirement to always return a single type doesn&rsquo;t prevent you from
using generics in an opaque return type. Here&rsquo;s an example of a function
that incorporates its type parameter into the underlying type of the
value it returns:
</p>
<div class="example">
<pre class="example">func `repeat`&lt;T: Shape&gt;(shape: T, count: Int) -&gt; some Collection {
    return Array&lt;T&gt;(repeating: shape, count: count)
}
</pre></div>

<p>In this case, the underlying type of the return value varies depending
on &lsquo;<samp>T</samp>&rsquo;: Whatever shape is passed it, &lsquo;<samp>repeat(shape:count:)</samp>&rsquo; creates and
returns an array of that shape. Nevertheless, the return value always
has the same underlying type of &lsquo;<samp>[T]</samp>&rsquo;, so it follows the requirement
that functions with opaque return types must return values of only a
single type.
</p>
<hr>
<span id="Differences-Between-Opaque-Types-and-Protocol-Types"></span><div class="header">
<p>
Previous: <a href="#Returning-an-Opaque-Type" accesskey="p" rel="prev">Returning an Opaque Type</a>, Up: <a href="#Opaque-Types" accesskey="u" rel="up">Opaque Types</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Differences-Between-Opaque-Types-and-Protocol-Types-1"></span><h3 class="section">28.3 Differences Between Opaque Types and Protocol Types</h3>

<p>Returning an opaque type looks very similar to using a protocol type as
the return type of a function, but these two kinds of return type differ
in whether they preserve type identity. An opaque type refers to one
specific type, although the caller of the function isn&rsquo;t able to see
which type; a protocol type can refer to any type that conforms to the
protocol. Generally speaking, protocol types give you more flexibility
about the underlying types of the values they store, and opaque types
let you make stronger guarantees about those underlying types.
</p>
<p>For example, here&rsquo;s a version of &lsquo;<samp>flip(_:)</samp>&rsquo; that returns a value of
protocol type instead of using an opaque return type:
</p>
<div class="example">
<pre class="example">func protoFlip&lt;T: Shape&gt;(_ shape: T) -&gt; Shape {
    return FlippedShape(shape: shape)
}
</pre></div>

<p>This version of &lsquo;<samp>protoFlip(_:)</samp>&rsquo; has the same body as &lsquo;<samp>flip(_:)</samp>&rsquo;, and it
always returns a value of the same type. Unlike &lsquo;<samp>flip(_:)</samp>&rsquo;, the value
that &lsquo;<samp>protoFlip(_:)</samp>&rsquo; returns isn&rsquo;t required to always have the same
type&mdash;it just has to conform to the &lsquo;<samp>Shape</samp>&rsquo; protocol. Put another way,
&lsquo;<samp>protoFlip(_:)</samp>&rsquo; makes a much looser API contract with its caller than
&lsquo;<samp>flip(_:)</samp>&rsquo; makes. It reserves the flexibility to return values of
multiple types:
</p>
<div class="example">
<pre class="example">func protoFlip&lt;T: Shape&gt;(_ shape: T) -&gt; Shape {
    if shape is Square {
        return shape
    }

    return FlippedShape(shape: shape)
}
</pre></div>

<p>The revised version of the code returns an instance of &lsquo;<samp>Square</samp>&rsquo; or an
instance of &lsquo;<samp>FlippedShape</samp>&rsquo;, depending on what shape is passed in. Two
flipped shapes returned by this function might have completely different
types. Other valid versions of this function could return values of
different types when flipping multiple instances of the same shape. The
less specific return type information from &lsquo;<samp>protoFlip(_:)</samp>&rsquo; means that
many operations that depend on type information aren&rsquo;t available on the
returned value. For example, it&rsquo;s not possible to write an &lsquo;<samp>==</samp>&rsquo; operator
comparing results returned by this function.
</p>
<div class="example">
<pre class="example">let protoFlippedTriangle = protoFlip(smallTriangle)
let sameThing = protoFlip(smallTriangle)
protoFlippedTriangle == sameThing // Error
</pre></div>

<p>The error on the last line of the example occurs for several reasons.
The immediate issue is that the &lsquo;<samp>Shape</samp>&rsquo; doesn&rsquo;t include an &lsquo;<samp>==</samp>&rsquo; operator
as part of its protocol requirements. If you try adding one, the next
issue you&rsquo;ll encounter is that the &lsquo;<samp>==</samp>&rsquo; operator needs to know the types
of its left-hand and right-hand arguments. This sort of operator usually
takes arguments of type &lsquo;<samp>Self</samp>&rsquo;, matching whatever concrete type adopts
the protocol, but adding a &lsquo;<samp>Self</samp>&rsquo; requirement to the protocol doesn&rsquo;t
allow for the type erasure that happens when you use the protocol as a
type.
</p>
<p>Using a protocol type as the return type for a function gives you the
flexibility to return any type that conforms to the protocol. However,
the cost of that flexibility is that some operations aren&rsquo;t possible on
the returned values. The example shows how the &lsquo;<samp>==</samp>&rsquo; operator isn&rsquo;t
available&mdash;it depends on specific type information that isn&rsquo;t preserved
by using a protocol type.
</p>
<p>Another problem with this approach is that the shape transformations
don&rsquo;t nest. The result of flipping a triangle is a value of type
&lsquo;<samp>Shape</samp>&rsquo;, and the &lsquo;<samp>protoFlip(_:)</samp>&rsquo; function takes an argument of some type
that conforms to the &lsquo;<samp>Shape</samp>&rsquo; protocol. However, a value of a protocol
type doesn&rsquo;t conform to that protocol; the value returned by
&lsquo;<samp>protoFlip(_:)</samp>&rsquo; doesn&rsquo;t conform to &lsquo;<samp>Shape</samp>&rsquo;. This means code like
&lsquo;<samp>protoFlip(protoFlip(smallTriange))</samp>&rsquo; that applies multiple
transformations is invalid because the flipped shape isn&rsquo;t a valid
argument to &lsquo;<samp>protoFlip(_:)</samp>&rsquo;.
</p>
<p>In contrast, opaque types preserve the identity of the underlying type.
Swift can infer associated types, which lets you use an opaque return
value in places where a protocol type can&rsquo;t be used as a return value.
For example, here&rsquo;s a version of the &lsquo;<samp>Container</samp>&rsquo; protocol from
<a href="#Generics">Generics</a>:
</p>
<div class="example">
<pre class="example">protocol Container {
    associatedtype Item
    var count: Int { get }
    subscript(i: Int) -&gt; Item { get }
}
extension Array: Container { }
</pre></div>

<p>You can&rsquo;t use &lsquo;<samp>Container</samp>&rsquo; as the return type of a function because that
protocol has an associated type. You also can&rsquo;t use it as constraint a
generic return type because there isn&rsquo;t enough information outside the
function body to infer what the generic type needs to be.
</p>
<div class="example">
<pre class="example">// Error: Protocol with associated types can't be used as a return type.
func makeProtocolContainer&lt;T&gt;(item: T) -&gt; Container {
    return [item]
}

// Error: Not enough information to infer C.
func makeProtocolContainer&lt;T, C: Container&gt;(item: T) -&gt; C {
    return [item]
}
</pre></div>

<p>Using the opaque type &lsquo;<samp>some Container</samp>&rsquo; as a return type expresses the
desired API contract&mdash;the function returns a container, but declines to
specify the container&rsquo;s type:
</p>
<div class="example">
<pre class="example">func makeOpaqueContainer&lt;T&gt;(item: T) -&gt; some Container {
    return [item]
}
let opaqueContainer = makeOpaqueContainer(item: 12)
let twelve = opaqueContainer[0]
print(type(of: twelve))
// Prints &quot;Int&quot;
</pre></div>

<p>The type of &lsquo;<samp>twelve</samp>&rsquo; is inferred to be &lsquo;<samp>Int</samp>&rsquo;, which illustrates the fact
that type inference works with opaque types. In the implementation of
&lsquo;<samp>makeOpaqueContainer(item:)</samp>&rsquo;, the underlying type of the opaque
container is &lsquo;<samp>[T]</samp>&rsquo;. In this case, &lsquo;<samp>T</samp>&rsquo; is &lsquo;<samp>Int</samp>&rsquo;, so the return value is
an array of integers and the &lsquo;<samp>Item</samp>&rsquo; associated type is inferred to be
&lsquo;<samp>Int</samp>&rsquo;. The subscript on &lsquo;<samp>Container</samp>&rsquo; returns &lsquo;<samp>Item</samp>&rsquo;, which means that the
type of &lsquo;<samp>twelve</samp>&rsquo; is also inferred to be &lsquo;<samp>Int</samp>&rsquo;.
</p>
<hr>
<span id="Automatic-Reference-Counting"></span><div class="header">
<p>
Next: <a href="#Memory-Safety" accesskey="n" rel="next">Memory Safety</a>, Previous: <a href="#Opaque-Types" accesskey="p" rel="prev">Opaque Types</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Automatic-Reference-Counting-1"></span><h2 class="chapter">29 Automatic Reference Counting</h2>

<p>Swift uses <em>Automatic Reference Counting</em> (ARC) to track and manage your
app&rsquo;s memory usage. In most cases, this means that memory management
“just works” in Swift, and you do not need to think about memory
management yourself. ARC automatically frees up the memory used by class
instances when those instances are no longer needed.
</p>
<p>However, in a few cases ARC requires more information about the
relationships between parts of your code in order to manage memory for
you. This chapter describes those situations and shows how you enable
ARC to manage all of your app&rsquo;s memory. Using ARC in Swift is very
similar to the approach described in
<a href="https://developer.apple.com/library/content/releasenotes/ObjectiveC/RN-TransitioningToARC/Introduction/Introduction.html">Transitioning
to ARC Release Notes</a>
[<a href="https://developer.apple.com/library/content/releasenotes/ObjectiveC/RN-TransitioningToARC/Introduction/Introduction.html">https://developer.apple.com/library/content/releasenotes/ObjectiveC/RN-TransitioningToARC/Introduction/Introduction.html</a>]
for using ARC with Objective-C.
</p>
<p>Reference counting applies only to instances of classes. Structures and
enumerations are value types, not reference types, and are not stored
and passed by reference.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#How-ARC-Works" accesskey="1">How ARC Works</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#ARC-in-Action" accesskey="2">ARC in Action</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Strong-Reference-Cycles-Between-Class-Instances" accesskey="3">Strong Reference Cycles Between Class Instances</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Resolving-Strong-Reference-Cycles-Between-Class-Instances" accesskey="4">Resolving Strong Reference Cycles Between Class Instances</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Strong-Reference-Cycles-for-Closures" accesskey="5">Strong Reference Cycles for Closures</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Resolving-Strong-Reference-Cycles-for-Closures" accesskey="6">Resolving Strong Reference Cycles for Closures</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="How-ARC-Works"></span><div class="header">
<p>
Next: <a href="#ARC-in-Action" accesskey="n" rel="next">ARC in Action</a>, Up: <a href="#Automatic-Reference-Counting" accesskey="u" rel="up">Automatic Reference Counting</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="How-ARC-Works-1"></span><h3 class="section">29.1 How ARC Works</h3>

<p>Every time you create a new instance of a class, ARC allocates a chunk
of memory to store information about that instance. This memory holds
information about the type of the instance, together with the values of
any stored properties associated with that instance.
</p>
<p>Additionally, when an instance is no longer needed, ARC frees up the
memory used by that instance so that the memory can be used for other
purposes instead. This ensures that class instances do not take up space
in memory when they are no longer needed.
</p>
<p>However, if ARC were to deallocate an instance that was still in use, it
would no longer be possible to access that instance&rsquo;s properties, or
call that instance&rsquo;s methods. Indeed, if you tried to access the
instance, your app would most likely crash.
</p>
<p>To make sure that instances don&rsquo;t disappear while they are still needed,
ARC tracks how many properties, constants, and variables are currently
referring to each class instance. ARC will not deallocate an instance as
long as at least one active reference to that instance still exists.
</p>
<p>To make this possible, whenever you assign a class instance to a
property, constant, or variable, that property, constant, or variable
makes a <em>strong reference</em> to the instance. The reference is called a
“strong” reference because it keeps a firm hold on that instance, and
does not allow it to be deallocated for as long as that strong reference
remains.
</p>
<hr>
<span id="ARC-in-Action"></span><div class="header">
<p>
Next: <a href="#Strong-Reference-Cycles-Between-Class-Instances" accesskey="n" rel="next">Strong Reference Cycles Between Class Instances</a>, Previous: <a href="#How-ARC-Works" accesskey="p" rel="prev">How ARC Works</a>, Up: <a href="#Automatic-Reference-Counting" accesskey="u" rel="up">Automatic Reference Counting</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="ARC-in-Action-1"></span><h3 class="section">29.2 ARC in Action</h3>

<p>Here&rsquo;s an example of how Automatic Reference Counting works. This
example starts with a simple class called &lsquo;<samp>Person</samp>&rsquo;, which defines a
stored constant property called &lsquo;<samp>name</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">class Person {
    let name: String
    init(name: String) {
        self.name = name
        print(&quot;\(name) is being initialized&quot;)
    }
    deinit {
        print(&quot;\(name) is being deinitialized&quot;)
    }
}
</pre></div>

<p>The &lsquo;<samp>Person</samp>&rsquo; class has an initializer that sets the instance&rsquo;s &lsquo;<samp>name</samp>&rsquo;
property and prints a message to indicate that initialization is
underway. The &lsquo;<samp>Person</samp>&rsquo; class also has a deinitializer that prints a
message when an instance of the class is deallocated.
</p>
<p>The next code snippet defines three variables of type &lsquo;<samp>Person?</samp>&rsquo;, which
are used to set up multiple references to a new &lsquo;<samp>Person</samp>&rsquo; instance in
subsequent code snippets. Because these variables are of an optional
type (&lsquo;<samp>Person?</samp>&rsquo;, not &lsquo;<samp>Person</samp>&rsquo;), they are automatically initialized with
a value of &lsquo;<samp>nil</samp>&rsquo;, and do not currently reference a &lsquo;<samp>Person</samp>&rsquo; instance.
</p>
<div class="example">
<pre class="example">var reference1: Person?
var reference2: Person?
var reference3: Person?
</pre></div>

<p>You can now create a new &lsquo;<samp>Person</samp>&rsquo; instance and assign it to one of these
three variables:
</p>
<div class="example">
<pre class="example">reference1 = Person(name: &quot;John Appleseed&quot;)
// Prints &quot;John Appleseed is being initialized&quot;
</pre></div>

<p>Note that the message &lsquo;<samp>&quot;John Appleseed is being initialized&quot;</samp>&rsquo; is printed
at the point that you call the &lsquo;<samp>Person</samp>&rsquo; class&rsquo;s initializer. This
confirms that initialization has taken place.
</p>
<p>Because the new &lsquo;<samp>Person</samp>&rsquo; instance has been assigned to the &lsquo;<samp>reference1</samp>&rsquo;
variable, there is now a strong reference from &lsquo;<samp>reference1</samp>&rsquo; to the new
&lsquo;<samp>Person</samp>&rsquo; instance. Because there is at least one strong reference, ARC
makes sure that this &lsquo;<samp>Person</samp>&rsquo; is kept in memory and is not deallocated.
</p>
<p>If you assign the same &lsquo;<samp>Person</samp>&rsquo; instance to two more variables, two more
strong references to that instance are established:
</p>
<div class="example">
<pre class="example">reference2 = reference1
reference3 = reference1
</pre></div>

<p>There are now <em>three</em> strong references to this single &lsquo;<samp>Person</samp>&rsquo;
instance.
</p>
<p>If you break two of these strong references (including the original
reference) by assigning &lsquo;<samp>nil</samp>&rsquo; to two of the variables, a single strong
reference remains, and the &lsquo;<samp>Person</samp>&rsquo; instance is not deallocated:
</p>
<div class="example">
<pre class="example">reference1 = nil
reference2 = nil
</pre></div>

<p>ARC does not deallocate the &lsquo;<samp>Person</samp>&rsquo; instance until the third and final
strong reference is broken, at which point it&rsquo;s clear that you are no
longer using the &lsquo;<samp>Person</samp>&rsquo; instance:
</p>
<div class="example">
<pre class="example">reference3 = nil
// Prints &quot;John Appleseed is being deinitialized&quot;
</pre></div>

<hr>
<span id="Strong-Reference-Cycles-Between-Class-Instances"></span><div class="header">
<p>
Next: <a href="#Resolving-Strong-Reference-Cycles-Between-Class-Instances" accesskey="n" rel="next">Resolving Strong Reference Cycles Between Class Instances</a>, Previous: <a href="#ARC-in-Action" accesskey="p" rel="prev">ARC in Action</a>, Up: <a href="#Automatic-Reference-Counting" accesskey="u" rel="up">Automatic Reference Counting</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Strong-Reference-Cycles-Between-Class-Instances-1"></span><h3 class="section">29.3 Strong Reference Cycles Between Class Instances</h3>

<p>In the examples above, ARC is able to track the number of references to
the new &lsquo;<samp>Person</samp>&rsquo; instance you create and to deallocate that &lsquo;<samp>Person</samp>&rsquo;
instance when it&rsquo;s no longer needed.
</p>
<p>However, it&rsquo;s possible to write code in which an instance of a class
<em>never</em> gets to a point where it has zero strong references. This can
happen if two class instances hold a strong reference to each other,
such that each instance keeps the other alive. This is known as a
<em>strong reference cycle</em>.
</p>
<p>You resolve strong reference cycles by defining some of the
relationships between classes as weak or unowned references instead of
as strong references. This process is described in
<a href="#Resolving-Strong-Reference-Cycles-Between-Class-Instances">Resolving Strong Reference
Cycles Between Class Instances</a>. However, before you learn how to
resolve a strong reference cycle, it&rsquo;s useful to understand how such a
cycle is caused.
</p>
<p>Here&rsquo;s an example of how a strong reference cycle can be created by
accident. This example defines two classes called &lsquo;<samp>Person</samp>&rsquo; and
&lsquo;<samp>Apartment</samp>&rsquo;, which model a block of apartments and its residents:
</p>
<div class="example">
<pre class="example">class Person {
    let name: String
    init(name: String) { self.name = name }
    var apartment: Apartment?
    deinit { print(&quot;\(name) is being deinitialized&quot;) }
}

class Apartment {
    let unit: String
    init(unit: String) { self.unit = unit }
    var tenant: Person?
    deinit { print(&quot;Apartment \(unit) is being deinitialized&quot;) }
}
</pre></div>

<p>Every &lsquo;<samp>Person</samp>&rsquo; instance has a &lsquo;<samp>name</samp>&rsquo; property of type &lsquo;<samp>String</samp>&rsquo; and an
optional &lsquo;<samp>apartment</samp>&rsquo; property that is initially &lsquo;<samp>nil</samp>&rsquo;. The &lsquo;<samp>apartment</samp>&rsquo;
property is optional, because a person may not always have an apartment.
</p>
<p>Similarly, every &lsquo;<samp>Apartment</samp>&rsquo; instance has a &lsquo;<samp>unit</samp>&rsquo; property of type
&lsquo;<samp>String</samp>&rsquo; and has an optional &lsquo;<samp>tenant</samp>&rsquo; property that is initially &lsquo;<samp>nil</samp>&rsquo;.
The tenant property is optional because an apartment may not always have
a tenant.
</p>
<p>Both of these classes also define a deinitializer, which prints the fact
that an instance of that class is being deinitialized. This enables you
to see whether instances of &lsquo;<samp>Person</samp>&rsquo; and &lsquo;<samp>Apartment</samp>&rsquo; are being
deallocated as expected.
</p>
<p>This next code snippet defines two variables of optional type called
&lsquo;<samp>john</samp>&rsquo; and &lsquo;<samp>unit4A</samp>&rsquo;, which will be set to a specific &lsquo;<samp>Apartment</samp>&rsquo; and
&lsquo;<samp>Person</samp>&rsquo; instance below. Both of these variables have an initial value
of &lsquo;<samp>nil</samp>&rsquo;, by virtue of being optional:
</p>
<div class="example">
<pre class="example">var john: Person?
var unit4A: Apartment?
</pre></div>

<p>You can now create a specific &lsquo;<samp>Person</samp>&rsquo; instance and &lsquo;<samp>Apartment</samp>&rsquo; instance
and assign these new instances to the &lsquo;<samp>john</samp>&rsquo; and &lsquo;<samp>unit4A</samp>&rsquo; variables:
</p>
<div class="example">
<pre class="example">john = Person(name: &quot;John Appleseed&quot;)
unit4A = Apartment(unit: &quot;4A&quot;)
</pre></div>

<p>Here&rsquo;s how the strong references look after creating and assigning these
two instances. The &lsquo;<samp>john</samp>&rsquo; variable now has a strong reference to the new
&lsquo;<samp>Person</samp>&rsquo; instance, and the &lsquo;<samp>unit4A</samp>&rsquo; variable has a strong reference to
the new &lsquo;<samp>Apartment</samp>&rsquo; instance:
</p>
<img src="images/referenceCycle01_2x.png" alt="images/referenceCycle01_2x">
<p>You can now link the two instances together so that the person has an
apartment, and the apartment has a tenant. Note that an exclamation mark
(&lsquo;<samp>!</samp>&rsquo;) is used to unwrap and access the instances stored inside the
&lsquo;<samp>john</samp>&rsquo; and &lsquo;<samp>unit4A</samp>&rsquo; optional variables, so that the properties of those
instances can be set:
</p>
<div class="example">
<pre class="example">john!.apartment = unit4A
unit4A!.tenant = john
</pre></div>

<p>Here&rsquo;s how the strong references look after you link the two instances
together:
</p>
<img src="images/referenceCycle02_2x.png" alt="images/referenceCycle02_2x">
<p>Unfortunately, linking these two instances creates a strong reference
cycle between them. The &lsquo;<samp>Person</samp>&rsquo; instance now has a strong reference to
the &lsquo;<samp>Apartment</samp>&rsquo; instance, and the &lsquo;<samp>Apartment</samp>&rsquo; instance has a strong
reference to the &lsquo;<samp>Person</samp>&rsquo; instance. Therefore, when you break the strong
references held by the &lsquo;<samp>john</samp>&rsquo; and &lsquo;<samp>unit4A</samp>&rsquo; variables, the reference
counts do not drop to zero, and the instances are not deallocated by
ARC:
</p>
<div class="example">
<pre class="example">john = nil
unit4A = nil
</pre></div>

<p>Note that neither deinitializer was called when you set these two
variables to &lsquo;<samp>nil</samp>&rsquo;. The strong reference cycle prevents the &lsquo;<samp>Person</samp>&rsquo; and
&lsquo;<samp>Apartment</samp>&rsquo; instances from ever being deallocated, causing a memory leak
in your app.
</p>
<p>Here&rsquo;s how the strong references look after you set the &lsquo;<samp>john</samp>&rsquo; and
&lsquo;<samp>unit4A</samp>&rsquo; variables to &lsquo;<samp>nil</samp>&rsquo;:
</p>
<img src="images/referenceCycle03_2x.png" alt="images/referenceCycle03_2x">
<p>The strong references between the &lsquo;<samp>Person</samp>&rsquo; instance and the &lsquo;<samp>Apartment</samp>&rsquo;
instance remain and cannot be broken.
</p>
<hr>
<span id="Resolving-Strong-Reference-Cycles-Between-Class-Instances"></span><div class="header">
<p>
Next: <a href="#Strong-Reference-Cycles-for-Closures" accesskey="n" rel="next">Strong Reference Cycles for Closures</a>, Previous: <a href="#Strong-Reference-Cycles-Between-Class-Instances" accesskey="p" rel="prev">Strong Reference Cycles Between Class Instances</a>, Up: <a href="#Automatic-Reference-Counting" accesskey="u" rel="up">Automatic Reference Counting</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Resolving-Strong-Reference-Cycles-Between-Class-Instances-1"></span><h3 class="section">29.4 Resolving Strong Reference Cycles Between Class Instances</h3>

<span id="index-break-retain-cycle"></span>

<p>Swift provides two ways to resolve strong reference cycles when you work
with properties of class type: weak references and unowned references.
</p>
<p>Weak and unowned references enable one instance in a reference cycle to
refer to the other instance <em>without</em> keeping a strong hold on it. The
instances can then refer to each other without creating a strong
reference cycle.
</p>
<p>Use a weak reference when the other instance has a shorter
lifetime&mdash;that is, when the other instance can be deallocated first. In
the &lsquo;<samp>Apartment</samp>&rsquo; example above, it&rsquo;s appropriate for an apartment to be
able to have no tenant at some point in its lifetime, and so a weak
reference is an appropriate way to break the reference cycle in this
case. In contrast, use an unowned reference when the other instance has
the same lifetime or a longer lifetime.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Weak-References" accesskey="1">Weak References</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Unowned-References" accesskey="2">Unowned References</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Unowned-References-and-Implicitly-Unwrapped-Optional-Properties" accesskey="3">Unowned References and Implicitly Unwrapped Optional Properties</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Weak-References"></span><div class="header">
<p>
Next: <a href="#Unowned-References" accesskey="n" rel="next">Unowned References</a>, Up: <a href="#Resolving-Strong-Reference-Cycles-Between-Class-Instances" accesskey="u" rel="up">Resolving Strong Reference Cycles Between Class Instances</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Weak-References-1"></span><h4 class="subsection">29.4.1 Weak References</h4>

<span id="index-weak"></span>

<p>A <em>weak reference</em> is a reference that does not keep a strong hold on
the instance it refers to, and so does not stop ARC from disposing of
the referenced instance. This behavior prevents the reference from
becoming part of a strong reference cycle. You indicate a weak reference
by placing the &lsquo;<samp>weak</samp>&rsquo; keyword before a property or variable declaration.
</p>
<p>Because a weak reference does not keep a strong hold on the instance it
refers to, it&rsquo;s possible for that instance to be deallocated while the
weak reference is still referring to it. Therefore, ARC automatically
sets a weak reference to &lsquo;<samp>nil</samp>&rsquo; when the instance that it refers to is
deallocated. And, because weak references need to allow their value to
be changed to &lsquo;<samp>nil</samp>&rsquo; at runtime, they are always declared as variables,
rather than constants, of an optional type.
</p>
<p>You can check for the existence of a value in the weak reference, just
like any other optional value, and you will never end up with a
reference to an invalid instance that no longer exists.
</p>
<p>Note
</p>
<p>Property observers aren&rsquo;t called when ARC sets a weak reference to
&lsquo;<samp>nil</samp>&rsquo;.
</p>
<p>The example below is identical to the &lsquo;<samp>Person</samp>&rsquo; and &lsquo;<samp>Apartment</samp>&rsquo; example
from above, with one important difference. This time around, the
&lsquo;<samp>Apartment</samp>&rsquo; type&rsquo;s &lsquo;<samp>tenant</samp>&rsquo; property is declared as a weak reference:
</p>
<div class="example">
<pre class="example">class Person {
    let name: String
    init(name: String) { self.name = name }
    var apartment: Apartment?
    deinit { print(&quot;\(name) is being deinitialized&quot;) }
}

class Apartment {
    let unit: String
    init(unit: String) { self.unit = unit }
    weak var tenant: Person?
    deinit { print(&quot;Apartment \(unit) is being deinitialized&quot;) }
}
</pre></div>

<p>The strong references from the two variables (&lsquo;<samp>john</samp>&rsquo; and &lsquo;<samp>unit4A</samp>&rsquo;) and
the links between the two instances are created as before:
</p>
<div class="example">
<pre class="example">var john: Person?
var unit4A: Apartment?

john = Person(name: &quot;John Appleseed&quot;)
unit4A = Apartment(unit: &quot;4A&quot;)

john!.apartment = unit4A
unit4A!.tenant = john
</pre></div>

<p>Here&rsquo;s how the references look now that you&rsquo;ve linked the two instances
together:
</p>
<img src="images/weakReference01_2x.png" alt="images/weakReference01_2x">
<p>The &lsquo;<samp>Person</samp>&rsquo; instance still has a strong reference to the &lsquo;<samp>Apartment</samp>&rsquo;
instance, but the &lsquo;<samp>Apartment</samp>&rsquo; instance now has a <em>weak</em> reference to the
&lsquo;<samp>Person</samp>&rsquo; instance. This means that when you break the strong reference
held by the &lsquo;<samp>john</samp>&rsquo; variable by setting it to &lsquo;<samp>nil</samp>&rsquo;, there are no more
strong references to the &lsquo;<samp>Person</samp>&rsquo; instance:
</p>
<div class="example">
<pre class="example">john = nil
// Prints &quot;John Appleseed is being deinitialized&quot;
</pre></div>

<p>Because there are no more strong references to the &lsquo;<samp>Person</samp>&rsquo; instance,
it&rsquo;s deallocated and the &lsquo;<samp>tenant</samp>&rsquo; property is set to &lsquo;<samp>nil</samp>&rsquo;:
</p>
<img src="images/weakReference02_2x.png" alt="images/weakReference02_2x">
<p>The only remaining strong reference to the &lsquo;<samp>Apartment</samp>&rsquo; instance is from
the &lsquo;<samp>unit4A</samp>&rsquo; variable. If you break <em>that</em> strong reference, there are
no more strong references to the &lsquo;<samp>Apartment</samp>&rsquo; instance:
</p>
<div class="example">
<pre class="example">unit4A = nil
// Prints &quot;Apartment 4A is being deinitialized&quot;
</pre></div>

<p>Because there are no more strong references to the &lsquo;<samp>Apartment</samp>&rsquo; instance,
it too is deallocated:
</p>
<img src="images/weakReference03_2x.png" alt="images/weakReference03_2x">

<p>Note
</p>
<p>In systems that use garbage collection, weak pointers are sometimes used
to implement a simple caching mechanism because objects with no strong
references are deallocated only when memory pressure triggers garbage
collection. However, with ARC, values are deallocated as soon as their
last strong reference is removed, making weak references unsuitable for
such a purpose.
</p>
<hr>
<span id="Unowned-References"></span><div class="header">
<p>
Next: <a href="#Unowned-References-and-Implicitly-Unwrapped-Optional-Properties" accesskey="n" rel="next">Unowned References and Implicitly Unwrapped Optional Properties</a>, Previous: <a href="#Weak-References" accesskey="p" rel="prev">Weak References</a>, Up: <a href="#Resolving-Strong-Reference-Cycles-Between-Class-Instances" accesskey="u" rel="up">Resolving Strong Reference Cycles Between Class Instances</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Unowned-References-1"></span><h4 class="subsection">29.4.2 Unowned References</h4>

<span id="index-unowned"></span>

<p>Like a weak reference, an <em>unowned reference</em> does not keep a strong
hold on the instance it refers to. Unlike a weak reference, however, an
unowned reference is used when the other instance has the same lifetime
or a longer lifetime. You indicate an unowned reference by placing the
&lsquo;<samp>unowned</samp>&rsquo; keyword before a property or variable declaration.
</p>
<p>An unowned reference is expected to always have a value. As a result,
ARC never sets an unowned reference&rsquo;s value to &lsquo;<samp>nil</samp>&rsquo;, which means that
unowned references are defined using non-optional types.
</p>
<p>Important
</p>
<p>Use an unowned reference only when you are sure that the reference
<em>always</em> refers to an instance that has not been deallocated.
</p>
<p>If you try to access the value of an unowned reference after that
instance has been deallocated, you&rsquo;ll get a runtime error.
</p>
<p>The following example defines two classes, &lsquo;<samp>Customer</samp>&rsquo; and &lsquo;<samp>CreditCard</samp>&rsquo;,
which model a bank customer and a possible credit card for that
customer. These two classes each store an instance of the other class as
a property. This relationship has the potential to create a strong
reference cycle.
</p>
<p>The relationship between &lsquo;<samp>Customer</samp>&rsquo; and &lsquo;<samp>CreditCard</samp>&rsquo; is slightly
different from the relationship between &lsquo;<samp>Apartment</samp>&rsquo; and &lsquo;<samp>Person</samp>&rsquo; seen in
the weak reference example above. In this data model, a customer may or
may not have a credit card, but a credit card will <em>always</em> be
associated with a customer. A &lsquo;<samp>CreditCard</samp>&rsquo; instance never outlives the
&lsquo;<samp>Customer</samp>&rsquo; that it refers to. To represent this, the &lsquo;<samp>Customer</samp>&rsquo; class
has an optional &lsquo;<samp>card</samp>&rsquo; property, but the &lsquo;<samp>CreditCard</samp>&rsquo; class has an
unowned (and non-optional) &lsquo;<samp>customer</samp>&rsquo; property.
</p>
<p>Furthermore, a new &lsquo;<samp>CreditCard</samp>&rsquo; instance can <em>only</em> be created by
passing a &lsquo;<samp>number</samp>&rsquo; value and a &lsquo;<samp>customer</samp>&rsquo; instance to a custom
&lsquo;<samp>CreditCard</samp>&rsquo; initializer. This ensures that a &lsquo;<samp>CreditCard</samp>&rsquo; instance
always has a &lsquo;<samp>customer</samp>&rsquo; instance associated with it when the
&lsquo;<samp>CreditCard</samp>&rsquo; instance is created.
</p>
<p>Because a credit card will always have a customer, you define its
&lsquo;<samp>customer</samp>&rsquo; property as an unowned reference, to avoid a strong reference
cycle:
</p>
<div class="example">
<pre class="example">class Customer {
    let name: String
    var card: CreditCard?
    init(name: String) {
        self.name = name
    }
    deinit { print(&quot;\(name) is being deinitialized&quot;) }
}

class CreditCard {
    let number: UInt64
    unowned let customer: Customer
    init(number: UInt64, customer: Customer) {
        self.number = number
        self.customer = customer
    }
    deinit { print(&quot;Card #\(number) is being deinitialized&quot;) }
}
</pre></div>

<p>Note
</p>
<p>The &lsquo;<samp>number</samp>&rsquo; property of the &lsquo;<samp>CreditCard</samp>&rsquo; class is defined with a type
of &lsquo;<samp>UInt64</samp>&rsquo; rather than &lsquo;<samp>Int</samp>&rsquo;, to ensure that the &lsquo;<samp>number</samp>&rsquo; property&rsquo;s
capacity is large enough to store a 16-digit card number on both 32-bit
and 64-bit systems.
</p>
<p>This next code snippet defines an optional &lsquo;<samp>Customer</samp>&rsquo; variable called
&lsquo;<samp>john</samp>&rsquo;, which will be used to store a reference to a specific customer.
This variable has an initial value of nil, by virtue of being optional:
</p>
<ol>
<li> var john: Customer?
</li></ol>

<p>You can now create a &lsquo;<samp>Customer</samp>&rsquo; instance, and use it to initialize and
assign a new &lsquo;<samp>CreditCard</samp>&rsquo; instance as that customer&rsquo;s &lsquo;<samp>card</samp>&rsquo; property:
</p>
<ol>
<li> john = Customer(name: &quot;John Appleseed&quot;)
</li><li> john!.card = CreditCard(number: 1234<em>_5678</em><em>_9012</em><em>_3456</em>, customer: john!)
</li></ol>

<p>Here&rsquo;s how the references look, now that you&rsquo;ve linked the two
instances:
</p>
<img src="images/unownedReference01_2x.png" alt="images/unownedReference01_2x">
<p>The &lsquo;<samp>Customer</samp>&rsquo; instance now has a strong reference to the &lsquo;<samp>CreditCard</samp>&rsquo;
instance, and the &lsquo;<samp>CreditCard</samp>&rsquo; instance has an unowned reference to the
&lsquo;<samp>Customer</samp>&rsquo; instance.
</p>
<p>Because of the unowned &lsquo;<samp>customer</samp>&rsquo; reference, when you break the strong
reference held by the &lsquo;<samp>john</samp>&rsquo; variable, there are no more strong
references to the &lsquo;<samp>Customer</samp>&rsquo; instance:
</p>
<img src="images/unownedReference02_2x.png" alt="images/unownedReference02_2x">
<p>Because there are no more strong references to the &lsquo;<samp>Customer</samp>&rsquo; instance,
it&rsquo;s deallocated. After this happens, there are no more strong
references to the &lsquo;<samp>CreditCard</samp>&rsquo; instance, and it too is deallocated:
</p>
<div class="example">
<pre class="example">john = nil
// Prints &quot;John Appleseed is being deinitialized&quot;
// Prints &quot;Card #1234567890123456 is being deinitialized&quot;
</pre></div>

<p>The final code snippet above shows that the deinitializers for the
&lsquo;<samp>Customer</samp>&rsquo; instance and &lsquo;<samp>CreditCard</samp>&rsquo; instance both print their
“deinitialized” messages after the &lsquo;<samp>john</samp>&rsquo; variable is set to &lsquo;<samp>nil</samp>&rsquo;.
</p>
<p>Note
</p>
<p>The examples above show how to use <em>safe</em> unowned references. Swift also
provides <em>unsafe</em> unowned references for cases where you need to disable
runtime safety checks&mdash;for example, for performance reasons. As with
all unsafe operations, you take on the responsibility for checking that
code for safety.
</p>
<p>You indicate an unsafe unowned reference by writing &lsquo;<samp>unowned(unsafe)</samp>&rsquo;.
If you try to access an unsafe unowned reference after the instance that
it refers to is deallocated, your program will try to access the memory
location where the instance used to be, which is an unsafe operation.
</p>
<hr>
<span id="Unowned-References-and-Implicitly-Unwrapped-Optional-Properties"></span><div class="header">
<p>
Previous: <a href="#Unowned-References" accesskey="p" rel="prev">Unowned References</a>, Up: <a href="#Resolving-Strong-Reference-Cycles-Between-Class-Instances" accesskey="u" rel="up">Resolving Strong Reference Cycles Between Class Instances</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Unowned-References-and-Implicitly-Unwrapped-Optional-Properties-1"></span><h4 class="subsection">29.4.3 Unowned References and Implicitly Unwrapped Optional Properties</h4>

<p>The examples for weak and unowned references above cover two of the more
common scenarios in which it&rsquo;s necessary to break a strong reference
cycle.
</p>
<p>The &lsquo;<samp>Person</samp>&rsquo; and &lsquo;<samp>Apartment</samp>&rsquo; example shows a situation where two
properties, both of which are allowed to be &lsquo;<samp>nil</samp>&rsquo;, have the potential to
cause a strong reference cycle. This scenario is best resolved with a
weak reference.
</p>
<p>The &lsquo;<samp>Customer</samp>&rsquo; and &lsquo;<samp>CreditCard</samp>&rsquo; example shows a situation where one
property that is allowed to be &lsquo;<samp>nil</samp>&rsquo; and another property that cannot be
&lsquo;<samp>nil</samp>&rsquo; have the potential to cause a strong reference cycle. This
scenario is best resolved with an unowned reference.
</p>
<p>However, there is a third scenario, in which <em>both</em> properties should
always have a value, and neither property should ever be &lsquo;<samp>nil</samp>&rsquo; once
initialization is complete. In this scenario, it&rsquo;s useful to combine an
unowned property on one class with an implicitly unwrapped optional
property on the other class.
</p>
<p>This enables both properties to be accessed directly (without optional
unwrapping) once initialization is complete, while still avoiding a
reference cycle. This section shows you how to set up such a
relationship.
</p>
<p>The example below defines two classes, &lsquo;<samp>Country</samp>&rsquo; and &lsquo;<samp>City</samp>&rsquo;, each of
which stores an instance of the other class as a property. In this data
model, every country must always have a capital city, and every city
must always belong to a country. To represent this, the &lsquo;<samp>Country</samp>&rsquo; class
has a &lsquo;<samp>capitalCity</samp>&rsquo; property, and the &lsquo;<samp>City</samp>&rsquo; class has a &lsquo;<samp>country</samp>&rsquo;
property:
</p>
<div class="example">
<pre class="example">class Country {
    let name: String
    var capitalCity: City!
    init(name: String, capitalName: String) {
        self.name = name
        self.capitalCity = City(name: capitalName, country: self)
    }
}

class City {
    let name: String
    unowned let country: Country
    init(name: String, country: Country) {
        self.name = name
        self.country = country
    }
}
</pre></div>

<p>To set up the interdependency between the two classes, the initializer
for &lsquo;<samp>City</samp>&rsquo; takes a &lsquo;<samp>Country</samp>&rsquo; instance, and stores this instance in its
&lsquo;<samp>country</samp>&rsquo; property.
</p>
<p>The initializer for &lsquo;<samp>City</samp>&rsquo; is called from within the initializer for
&lsquo;<samp>Country</samp>&rsquo;. However, the initializer for &lsquo;<samp>Country</samp>&rsquo; cannot pass &lsquo;<samp>self</samp>&rsquo; to
the &lsquo;<samp>City</samp>&rsquo; initializer until a new &lsquo;<samp>Country</samp>&rsquo; instance is fully
initialized, as described in <a href="#Two_002dPhase-Initialization">Two-Phase
Initialization</a>.
</p>
<p>To cope with this requirement, you declare the &lsquo;<samp>capitalCity</samp>&rsquo; property of
&lsquo;<samp>Country</samp>&rsquo; as an implicitly unwrapped optional property, indicated by the
exclamation mark at the end of its type annotation (&lsquo;<samp>City!</samp>&rsquo;). This means
that the &lsquo;<samp>capitalCity</samp>&rsquo; property has a default value of &lsquo;<samp>nil</samp>&rsquo;, like any
other optional, but can be accessed without the need to unwrap its value
as described in <a href="#Implicitly-Unwrapped-Optionals">Implicitly Unwrapped
Optionals</a>.
</p>
<p>Because &lsquo;<samp>capitalCity</samp>&rsquo; has a default &lsquo;<samp>nil</samp>&rsquo; value, a new &lsquo;<samp>Country</samp>&rsquo;
instance is considered fully initialized as soon as the &lsquo;<samp>Country</samp>&rsquo;
instance sets its &lsquo;<samp>name</samp>&rsquo; property within its initializer. This means
that the &lsquo;<samp>Country</samp>&rsquo; initializer can start to reference and pass around
the implicit &lsquo;<samp>self</samp>&rsquo; property as soon as the &lsquo;<samp>name</samp>&rsquo; property is set. The
&lsquo;<samp>Country</samp>&rsquo; initializer can therefore pass &lsquo;<samp>self</samp>&rsquo; as one of the parameters
for the &lsquo;<samp>City</samp>&rsquo; initializer when the &lsquo;<samp>Country</samp>&rsquo; initializer is setting its
own &lsquo;<samp>capitalCity</samp>&rsquo; property.
</p>
<p>All of this means that you can create the &lsquo;<samp>Country</samp>&rsquo; and &lsquo;<samp>City</samp>&rsquo; instances
in a single statement, without creating a strong reference cycle, and
the &lsquo;<samp>capitalCity</samp>&rsquo; property can be accessed directly, without needing to
use an exclamation mark to unwrap its optional value:
</p>
<div class="example">
<pre class="example">var country = Country(name: &quot;Canada&quot;, capitalName: &quot;Ottawa&quot;)
print(&quot;\(country.name)'s capital city is called \(country.capitalCity.name)&quot;)
// Prints &quot;Canada's capital city is called Ottawa&quot;
</pre></div>

<p>In the example above, the use of an implicitly unwrapped optional means
that all of the two-phase class initializer requirements are satisfied.
The &lsquo;<samp>capitalCity</samp>&rsquo; property can be used and accessed like a non-optional
value once initialization is complete, while still avoiding a strong
reference cycle.
</p>
<hr>
<span id="Strong-Reference-Cycles-for-Closures"></span><div class="header">
<p>
Next: <a href="#Resolving-Strong-Reference-Cycles-for-Closures" accesskey="n" rel="next">Resolving Strong Reference Cycles for Closures</a>, Previous: <a href="#Resolving-Strong-Reference-Cycles-Between-Class-Instances" accesskey="p" rel="prev">Resolving Strong Reference Cycles Between Class Instances</a>, Up: <a href="#Automatic-Reference-Counting" accesskey="u" rel="up">Automatic Reference Counting</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Strong-Reference-Cycles-for-Closures-1"></span><h3 class="section">29.5 Strong Reference Cycles for Closures</h3>

<p>You saw above how a strong reference cycle can be created when two class
instance properties hold a strong reference to each other. You also saw
how to use weak and unowned references to break these strong reference
cycles.
</p>
<p>A strong reference cycle can also occur if you assign a closure to a
property of a class instance, and the body of that closure captures the
instance. This capture might occur because the closure&rsquo;s body accesses a
property of the instance, such as &lsquo;<samp>self.someProperty</samp>&rsquo;, or because the
closure calls a method on the instance, such as &lsquo;<samp>self.someMethod()</samp>&rsquo;. In
either case, these accesses cause the closure to “capture” &lsquo;<samp>self</samp>&rsquo;,
creating a strong reference cycle.
</p>
<p>This strong reference cycle occurs because closures, like classes, are
<em>reference types</em>. When you assign a closure to a property, you are
assigning a <em>reference</em> to that closure. In essence, it&rsquo;s the same
problem as above&mdash;two strong references are keeping each other alive.
However, rather than two class instances, this time it&rsquo;s a class
instance and a closure that are keeping each other alive.
</p>
<p>Swift provides an elegant solution to this problem, known as a <em>closure
capture list</em>. However, before you learn how to break a strong reference
cycle with a closure capture list, it&rsquo;s useful to understand how such a
cycle can be caused.
</p>
<p>The example below shows how you can create a strong reference cycle when
using a closure that references &lsquo;<samp>self</samp>&rsquo;. This example defines a class
called &lsquo;<samp>HTMLElement</samp>&rsquo;, which provides a simple model for an individual
element within an HTML document:
</p>
<div class="example">
<pre class="example">class HTMLElement {

    let name: String
    let text: String?

    lazy var asHTML: () -&gt; String = {
        if let text = self.text {
            return &quot;&lt;\(self.name)&gt;\(text)&lt;/\(self.name)&gt;&quot;
        } else {
            return &quot;&lt;\(self.name) /&gt;&quot;
        }
    }

    init(name: String, text: String? = nil) {
        self.name = name
        self.text = text
    }

    deinit {
        print(&quot;\(name) is being deinitialized&quot;)
    }

}
</pre></div>

<p>The &lsquo;<samp>HTMLElement</samp>&rsquo; class defines a &lsquo;<samp>name</samp>&rsquo; property, which indicates the
name of the element, such as &lsquo;<samp>&quot;h1&quot;</samp>&rsquo; for a heading element, &lsquo;<samp>&quot;p&quot;</samp>&rsquo; for a
paragraph element, or &lsquo;<samp>&quot;br&quot;</samp>&rsquo; for a line break element. &lsquo;<samp>HTMLElement</samp>&rsquo;
also defines an optional &lsquo;<samp>text</samp>&rsquo; property, which you can set to a string
that represents the text to be rendered within that HTML element.
</p>
<p>In addition to these two simple properties, the &lsquo;<samp>HTMLElement</samp>&rsquo; class
defines a lazy property called &lsquo;<samp>asHTML</samp>&rsquo;. This property references a
closure that combines &lsquo;<samp>name</samp>&rsquo; and &lsquo;<samp>text</samp>&rsquo; into an HTML string fragment.
The &lsquo;<samp>asHTML</samp>&rsquo; property is of type &lsquo;<samp>() -&gt; String</samp>&rsquo;, or “a function that
takes no parameters, and returns a &lsquo;<samp>String</samp>&rsquo; value”.
</p>
<p>By default, the &lsquo;<samp>asHTML</samp>&rsquo; property is assigned a closure that returns a
string representation of an HTML tag. This tag contains the optional
&lsquo;<samp>text</samp>&rsquo; value if it exists, or no text content if &lsquo;<samp>text</samp>&rsquo; does not exist.
For a paragraph element, the closure would return &lsquo;<samp>&quot;&lt;p&gt;some text&lt;/p&gt;&quot;</samp>&rsquo;
or &lsquo;<samp>&quot;&lt;p /&gt;&quot;</samp>&rsquo;, depending on whether the &lsquo;<samp>text</samp>&rsquo; property equals
&lsquo;<samp>&quot;some text&quot;</samp>&rsquo; or &lsquo;<samp>nil</samp>&rsquo;.
</p>
<p>The &lsquo;<samp>asHTML</samp>&rsquo; property is named and used somewhat like an instance
method. However, because &lsquo;<samp>asHTML</samp>&rsquo; is a closure property rather than an
instance method, you can replace the default value of the &lsquo;<samp>asHTML</samp>&rsquo;
property with a custom closure, if you want to change the HTML rendering
for a particular HTML element.
</p>
<p>For example, the &lsquo;<samp>asHTML</samp>&rsquo; property could be set to a closure that
defaults to some text if the &lsquo;<samp>text</samp>&rsquo; property is &lsquo;<samp>nil</samp>&rsquo;, in order to
prevent the representation from returning an empty HTML tag:
</p>
<div class="example">
<pre class="example">let heading = HTMLElement(name: &quot;h1&quot;)
let defaultText = &quot;some default text&quot;
heading.asHTML = {
    return &quot;&lt;\(heading.name)&gt;\(heading.text ?? defaultText)&lt;/\(heading.name)&gt;&quot;
}
print(heading.asHTML())
// Prints &quot;&lt;h1&gt;some default text&lt;/h1&gt;&quot;
</pre></div>

<p>Note
</p>
<p>The &lsquo;<samp>asHTML</samp>&rsquo; property is declared as a lazy property, because it&rsquo;s only
needed if and when the element actually needs to be rendered as a string
value for some HTML output target. The fact that &lsquo;<samp>asHTML</samp>&rsquo; is a lazy
property means that you can refer to &lsquo;<samp>self</samp>&rsquo; within the default closure,
because the lazy property will not be accessed until after
initialization has been completed and &lsquo;<samp>self</samp>&rsquo; is known to exist.
</p>
<p>The &lsquo;<samp>HTMLElement</samp>&rsquo; class provides a single initializer, which takes a
&lsquo;<samp>name</samp>&rsquo; argument and (if desired) a &lsquo;<samp>text</samp>&rsquo; argument to initialize a new
element. The class also defines a deinitializer, which prints a message
to show when an &lsquo;<samp>HTMLElement</samp>&rsquo; instance is deallocated.
</p>
<p>Here&rsquo;s how you use the &lsquo;<samp>HTMLElement</samp>&rsquo; class to create and print a new
instance:
</p>
<div class="example">
<pre class="example">var paragraph: HTMLElement? = HTMLElement(name: &quot;p&quot;, text: &quot;hello, world&quot;)
print(paragraph!.asHTML())
// Prints &quot;&lt;p&gt;hello, world&lt;/p&gt;&quot;
</pre></div>

<p>Note
</p>
<p>The &lsquo;<samp>paragraph</samp>&rsquo; variable above is defined as an <em>optional</em>
&lsquo;<samp>HTMLElement</samp>&rsquo;, so that it can be set to &lsquo;<samp>nil</samp>&rsquo; below to demonstrate the
presence of a strong reference cycle.
</p>
<p>Unfortunately, the &lsquo;<samp>HTMLElement</samp>&rsquo; class, as written above, creates a
strong reference cycle between an &lsquo;<samp>HTMLElement</samp>&rsquo; instance and the closure
used for its default &lsquo;<samp>asHTML</samp>&rsquo; value. Here&rsquo;s how the cycle looks:
</p>
<img src="images/closureReferenceCycle01_2x.png" alt="images/closureReferenceCycle01_2x">
<p>The instance&rsquo;s &lsquo;<samp>asHTML</samp>&rsquo; property holds a strong reference to its
closure. However, because the closure refers to &lsquo;<samp>self</samp>&rsquo; within its body
(as a way to reference &lsquo;<samp>self.name</samp>&rsquo; and &lsquo;<samp>self.text</samp>&rsquo;), the closure
<em>captures</em> self, which means that it holds a strong reference back to
the &lsquo;<samp>HTMLElement</samp>&rsquo; instance. A strong reference cycle is created between
the two. (For more information about capturing values in a closure, see
<a href="#Capturing-Values">Capturing Values</a>.)
</p>
<p>Note
</p>
<p>Even though the closure refers to &lsquo;<samp>self</samp>&rsquo; multiple times, it only
captures one strong reference to the &lsquo;<samp>HTMLElement</samp>&rsquo; instance.
</p>
<p>If you set the &lsquo;<samp>paragraph</samp>&rsquo; variable to &lsquo;<samp>nil</samp>&rsquo; and break its strong
reference to the &lsquo;<samp>HTMLElement</samp>&rsquo; instance, neither the &lsquo;<samp>HTMLElement</samp>&rsquo;
instance nor its closure are deallocated, because of the strong
reference cycle:
</p>
<div class="example">
<pre class="example">paragraph = nil
</pre></div>

<p>Note that the message in the &lsquo;<samp>HTMLElement</samp>&rsquo; deinitializer is not printed,
which shows that the &lsquo;<samp>HTMLElement</samp>&rsquo; instance is not deallocated.
</p>
<hr>
<span id="Resolving-Strong-Reference-Cycles-for-Closures"></span><div class="header">
<p>
Previous: <a href="#Strong-Reference-Cycles-for-Closures" accesskey="p" rel="prev">Strong Reference Cycles for Closures</a>, Up: <a href="#Automatic-Reference-Counting" accesskey="u" rel="up">Automatic Reference Counting</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Resolving-Strong-Reference-Cycles-for-Closures-1"></span><h3 class="section">29.6 Resolving Strong Reference Cycles for Closures</h3>

<span id="index-break-retain-cycle-in-closures"></span>

<p>You resolve a strong reference cycle between a closure and a class
instance by defining a <em>capture list</em> as part of the closure&rsquo;s
definition. A capture list defines the rules to use when capturing one
or more reference types within the closure&rsquo;s body. As with strong
reference cycles between two class instances, you declare each captured
reference to be a weak or unowned reference rather than a strong
reference. The appropriate choice of weak or unowned depends on the
relationships between the different parts of your code.
</p>
<p>Note
</p>
<p>Swift requires you to write &lsquo;<samp>self.someProperty</samp>&rsquo; or &lsquo;<samp>self.someMethod()</samp>&rsquo;
(rather than just &lsquo;<samp>someProperty</samp>&rsquo; or &lsquo;<samp>someMethod()</samp>&rsquo;) whenever you refer
to a member of &lsquo;<samp>self</samp>&rsquo; within a closure. This helps you remember that
it&rsquo;s possible to capture &lsquo;<samp>self</samp>&rsquo; by accident.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Defining-a-Capture-List" accesskey="1">Defining a Capture List</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Weak-and-Unowned-References" accesskey="2">Weak and Unowned References</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Defining-a-Capture-List"></span><div class="header">
<p>
Next: <a href="#Weak-and-Unowned-References" accesskey="n" rel="next">Weak and Unowned References</a>, Up: <a href="#Resolving-Strong-Reference-Cycles-for-Closures" accesskey="u" rel="up">Resolving Strong Reference Cycles for Closures</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Defining-a-Capture-List-1"></span><h4 class="subsection">29.6.1 Defining a Capture List</h4>

<p>Each item in a capture list is a pairing of the &lsquo;<samp>weak</samp>&rsquo; or &lsquo;<samp>unowned</samp>&rsquo;
keyword with a reference to a class instance (such as &lsquo;<samp>self</samp>&rsquo;) or a
variable initialized with some value (such as
&lsquo;<samp>delegate = self.delegate!</samp>&rsquo;). These pairings are written within a pair
of square braces, separated by commas.
</p>
<p>Place the capture list before a closure&rsquo;s parameter list and return type
if they are provided:
</p>
<div class="example">
<pre class="example">lazy var someClosure: (Int, String) -&gt; String = {
    [unowned self, weak delegate = self.delegate!] (index: Int,
                                                    stringToProcess: String) -&gt; String in
    // closure body goes here
}
</pre></div>

<p>If a closure does not specify a parameter list or return type because
they can be inferred from context, place the capture list at the very
start of the closure, followed by the &lsquo;<samp>in</samp>&rsquo; keyword:
</p>
<div class="example">
<pre class="example">lazy var someClosure: () -&gt; String = {
    [unowned self, weak delegate = self.delegate!] in
    // closure body goes here
}
</pre></div>

<hr>
<span id="Weak-and-Unowned-References"></span><div class="header">
<p>
Previous: <a href="#Defining-a-Capture-List" accesskey="p" rel="prev">Defining a Capture List</a>, Up: <a href="#Resolving-Strong-Reference-Cycles-for-Closures" accesskey="u" rel="up">Resolving Strong Reference Cycles for Closures</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Weak-and-Unowned-References-1"></span><h4 class="subsection">29.6.2 Weak and Unowned References</h4>

<p>Define a capture in a closure as an unowned reference when the closure
and the instance it captures will always refer to each other, and will
always be deallocated at the same time.
</p>
<p>Conversely, define a capture as a weak reference when the captured
reference may become &lsquo;<samp>nil</samp>&rsquo; at some point in the future. Weak references
are always of an optional type, and automatically become &lsquo;<samp>nil</samp>&rsquo; when the
instance they reference is deallocated. This enables you to check for
their existence within the closure&rsquo;s body.
</p>
<p>Note
</p>
<p>If the captured reference will never become &lsquo;<samp>nil</samp>&rsquo;, it should always be
captured as an unowned reference, rather than a weak reference.
</p>
<p>An unowned reference is the appropriate capture method to use to resolve
the strong reference cycle in the &lsquo;<samp>HTMLElement</samp>&rsquo; example from
<a href="#Strong-Reference-Cycles-for-Closures">Strong Reference Cycles for
Closures</a> above. Here&rsquo;s how you write the &lsquo;<samp>HTMLElement</samp>&rsquo; class to avoid
the cycle:
</p>
<div class="example">
<pre class="example">class HTMLElement {

    let name: String
    let text: String?

    lazy var asHTML: () -&gt; String = {
        [unowned self] in
        if let text = self.text {
            return &quot;&lt;\(self.name)&gt;\(text)&lt;/\(self.name)&gt;&quot;
        } else {
            return &quot;&lt;\(self.name) /&gt;&quot;
        }
    }

    init(name: String, text: String? = nil) {
        self.name = name
        self.text = text
    }

    deinit {
        print(&quot;\(name) is being deinitialized&quot;)
    }

}
</pre></div>

<p>This implementation of &lsquo;<samp>HTMLElement</samp>&rsquo; is identical to the previous
implementation, apart from the addition of a capture list within the
&lsquo;<samp>asHTML</samp>&rsquo; closure. In this case, the capture list is &lsquo;<samp>[unowned self]</samp>&rsquo;,
which means “capture self as an unowned reference rather than a strong
reference”.
</p>
<p>You can create and print an &lsquo;<samp>HTMLElement</samp>&rsquo; instance as before:
</p>
<div class="example">
<pre class="example">var paragraph: HTMLElement? = HTMLElement(name: &quot;p&quot;, text: &quot;hello, world&quot;)
print(paragraph!.asHTML())
// Prints &quot;&lt;p&gt;hello, world&lt;/p&gt;&quot;
</pre></div>

<p>Here&rsquo;s how the references look with the capture list in place:
</p>
<img src="images/closureReferenceCycle02_2x.png" alt="images/closureReferenceCycle02_2x">
<p>This time, the capture of &lsquo;<samp>self</samp>&rsquo; by the closure is an unowned reference,
and does not keep a strong hold on the &lsquo;<samp>HTMLElement</samp>&rsquo; instance it has
captured. If you set the strong reference from the &lsquo;<samp>paragraph</samp>&rsquo; variable
to &lsquo;<samp>nil</samp>&rsquo;, the &lsquo;<samp>HTMLElement</samp>&rsquo; instance is deallocated, as can be seen from
the printing of its deinitializer message in the example below:
</p>
<div class="example">
<pre class="example">paragraph = nil
// Prints &quot;p is being deinitialized&quot;
</pre></div>

<p>For more information about capture lists, see Capture Lists.
</p>
<hr>
<span id="Memory-Safety"></span><div class="header">
<p>
Next: <a href="#Access-Control" accesskey="n" rel="next">Access Control</a>, Previous: <a href="#Automatic-Reference-Counting" accesskey="p" rel="prev">Automatic Reference Counting</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Memory-Safety-1"></span><h2 class="chapter">30 Memory Safety</h2>

<p>By default, Swift prevents unsafe behavior from happening in your code.
For example, Swift ensures that variables are initialized before they&rsquo;re
used, memory isn&rsquo;t accessed after it&rsquo;s been deallocated, and array
indices are checked for out-of-bounds errors.
</p>
<p>Swift also makes sure that multiple accesses to the same area of memory
don&rsquo;t conflict, by requiring code that modifies a location in memory to
have exclusive access to that memory. Because Swift manages memory
automatically, most of the time you don&rsquo;t have to think about accessing
memory at all. However, it&rsquo;s important to understand where potential
conflicts can occur, so you can avoid writing code that has conflicting
access to memory. If your code does contain conflicts, you&rsquo;ll get a
compile-time or runtime error.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Understanding-Conflicting-Access-to-Memory" accesskey="1">Understanding Conflicting Access to Memory</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Conflicting-Access-to-In_002dOut-Parameters" accesskey="2">Conflicting Access to In-Out Parameters</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Conflicting-Access-to-self-in-Methods" accesskey="3">Conflicting Access to self in Methods</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Conflicting-Access-to-Properties" accesskey="4">Conflicting Access to Properties</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Understanding-Conflicting-Access-to-Memory"></span><div class="header">
<p>
Next: <a href="#Conflicting-Access-to-In_002dOut-Parameters" accesskey="n" rel="next">Conflicting Access to In-Out Parameters</a>, Up: <a href="#Memory-Safety" accesskey="u" rel="up">Memory Safety</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Understanding-Conflicting-Access-to-Memory-1"></span><h3 class="section">30.1 Understanding Conflicting Access to Memory</h3>

<p>Access to memory happens in your code when you do things like set the
value of a variable or pass an argument to a function. For example, the
following code contains both a read access and a write access:
</p>
<div class="example">
<pre class="example">// A write access to the memory where one is stored.
var one = 1

// A read access from the memory where one is stored.
print(&quot;We're number \(one)!&quot;)
</pre></div>

<p>A conflicting access to memory can occur when different parts of your
code are trying to access the same location in memory at the same time.
Multiple accesses to a location in memory at the same time can produce
unpredictable or inconsistent behavior. In Swift, there are ways to
modify a value that span several lines of code, making it possible to
attempt to access a value in the middle of its own modification.
</p>
<p>You can see a similar problem by thinking about how you update a budget
that&rsquo;s written on a piece of paper. Updating the budget is a two-step
process: First you add the items&rsquo; names and prices, and then you change
the total amount to reflect the items currently on the list. Before and
after the update, you can read any information from the budget and get a
correct answer, as shown in the figure below.
</p>
<img src="images/memory_shopping_2x.png" alt="images/memory_shopping_2x">
<p>While you&rsquo;re adding items to the budget, it&rsquo;s in a temporary, invalid
state because the total amount hasn&rsquo;t been updated to reflect the newly
added items. Reading the total amount during the process of adding an
item gives you incorrect information.
</p>
<p>This example also demonstrates a challenge you may encounter when fixing
conflicting access to memory: There are sometimes multiple ways to fix
the conflict that produce different answers, and it&rsquo;s not always obvious
which answer is correct. In this example, depending on whether you
wanted the original total amount or the updated total amount, either $5
or $320 could be the correct answer. Before you can fix the conflicting
access, you have to determine what it was intended to do.
</p>
<p>Note
</p>
<p>If you&rsquo;ve written concurrent or multithreaded code, conflicting access
to memory might be a familiar problem. However, the conflicting access
discussed here can happen on a single thread and <em>doesn&rsquo;t</em> involve
concurrent or multithreaded code.
</p>
<p>If you have conflicting access to memory from within a single thread,
Swift guarantees that you&rsquo;ll get an error at either compile time or
runtime. For multithreaded code, use
<a href="https://developer.apple.com/documentation/code_diagnostics/thread_sanitizer">Thread
Sanitizer</a>
[<a href="https://developer.apple.com/documentation/code_diagnostics/thread_sanitizer">https://developer.apple.com/documentation/code_diagnostics/thread_sanitizer</a>]
to help detect conflicting access across threads.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Characteristics-of-Memory-Access" accesskey="1">Characteristics of Memory Access</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Characteristics-of-Memory-Access"></span><div class="header">
<p>
Up: <a href="#Understanding-Conflicting-Access-to-Memory" accesskey="u" rel="up">Understanding Conflicting Access to Memory</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Characteristics-of-Memory-Access-1"></span><h4 class="subsection">30.1.1 Characteristics of Memory Access</h4>

<p>There are three characteristics of memory access to consider in the
context of conflicting access: whether the access is a read or a write,
the duration of the access, and the location in memory being accessed.
Specifically, a conflict occurs if you have two accesses that meet all
of the following conditions:
</p>
<ul>
<li> At least one is a write access.

</li><li> They access the same location in memory.

</li><li> Their durations overlap.
</li></ul>

<p>The difference between a read and write access is usually obvious: a
write access changes the location in memory, but a read access doesn&rsquo;t.
The location in memory refers to what is being accessed&mdash;for example, a
variable, constant, or property. The duration of a memory access is
either instantaneous or long-term.
</p>
<p>An access is <em>instantaneous</em> if it&rsquo;s not possible for other code to run
after that access starts but before it ends. By their nature, two
instantaneous accesses can&rsquo;t happen at the same time. Most memory access
is instantaneous. For example, all the read and write accesses in the
code listing below are instantaneous:
</p>
<div class="example">
<pre class="example">func oneMore(than number: Int) -&gt; Int {
    return number + 1
}

var myNumber = 1
myNumber = oneMore(than: myNumber)
print(myNumber)
// Prints &quot;2&quot;
</pre></div>

<p>However, there are several ways to access memory, called <em>long-term</em>
accesses, that span the execution of other code. The difference between
instantaneous access and long-term access is that it&rsquo;s possible for
other code to run after a long-term access starts but before it ends,
which is called <em>overlap</em>. A long-term access can overlap with other
long-term accesses and instantaneous accesses.
</p>
<p>Overlapping accesses appear primarily in code that uses in-out
parameters in functions and methods or mutating methods of a structure.
The specific kinds of Swift code that use long-term accesses are
discussed in the sections below.
</p>
<hr>
<span id="Conflicting-Access-to-In_002dOut-Parameters"></span><div class="header">
<p>
Next: <a href="#Conflicting-Access-to-self-in-Methods" accesskey="n" rel="next">Conflicting Access to self in Methods</a>, Previous: <a href="#Understanding-Conflicting-Access-to-Memory" accesskey="p" rel="prev">Understanding Conflicting Access to Memory</a>, Up: <a href="#Memory-Safety" accesskey="u" rel="up">Memory Safety</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Conflicting-Access-to-In_002dOut-Parameters-1"></span><h3 class="section">30.2 Conflicting Access to In-Out Parameters</h3>

<p>A function has long-term write access to all of its in-out parameters.
The write access for an in-out parameter starts after all of the
non-in-out parameters have been evaluated and lasts for the entire
duration of that function call. If there are multiple in-out parameters,
the write accesses start in the same order as the parameters appear.
</p>
<p>One consequence of this long-term write access is that you can&rsquo;t access
the original variable that was passed as in-out, even if scoping rules
and access control would otherwise permit it&mdash;any access to the
original creates a conflict. For example:
</p>
<div class="example">
<pre class="example">var stepSize = 1

func increment(_ number: inout Int) {
    number += stepSize
}

increment(&amp;stepSize)
// Error: conflicting accesses to stepSize
</pre></div>

<p>In the code above, &lsquo;<samp>stepSize</samp>&rsquo; is a global variable, and it is normally
accessible from within &lsquo;<samp>increment(_:)</samp>&rsquo;. However, the read access to
&lsquo;<samp>stepSize</samp>&rsquo; overlaps with the write access to &lsquo;<samp>number</samp>&rsquo;. As shown in the
figure below, both &lsquo;<samp>number</samp>&rsquo; and &lsquo;<samp>stepSize</samp>&rsquo; refer to the same location in
memory. The read and write accesses refer to the same memory and they
overlap, producing a conflict.
</p>
<img src="images/memory_increment_2x.png" alt="images/memory_increment_2x">
<p>One way to solve this conflict is to make an explicit copy of
&lsquo;<samp>stepSize</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">// Make an explicit copy.
var copyOfStepSize = stepSize
increment(&amp;copyOfStepSize)

// Update the original.
stepSize = copyOfStepSize
// stepSize is now 2
</pre></div>

<p>When you make a copy of &lsquo;<samp>stepSize</samp>&rsquo; before calling &lsquo;<samp>increment(_:)</samp>&rsquo;, it&rsquo;s
clear that the value of &lsquo;<samp>copyOfStepSize</samp>&rsquo; is incremented by the current
step size. The read access ends before the write access starts, so there
isn&rsquo;t a conflict.
</p>
<p>Another consequence of long-term write access to in-out parameters is
that passing a single variable as the argument for multiple in-out
parameters of the same function produces a conflict. For example:
</p>
<div class="example">
<pre class="example">func balance(_ x: inout Int, _ y: inout Int) {
    let sum = x + y
    x = sum / 2
    y = sum - x
}
var playerOneScore = 42
var playerTwoScore = 30
balance(&amp;playerOneScore, &amp;playerTwoScore) // OK
balance(&amp;playerOneScore, &amp;playerOneScore)
// Error: conflicting accesses to playerOneScore
</pre></div>

<p>The &lsquo;<samp>balance(_:_:)</samp>&rsquo; function above modifies its two parameters to divide
the total value evenly between them. Calling it with &lsquo;<samp>playerOneScore</samp>&rsquo;
and &lsquo;<samp>playerTwoScore</samp>&rsquo; as arguments doesn&rsquo;t produce a conflict&mdash;there are
two write accesses that overlap in time, but they access different
locations in memory. In contrast, passing &lsquo;<samp>playerOneScore</samp>&rsquo; as the value
for both parameters produces a conflict because it tries to perform two
write accesses to the same location in memory at the same time.
</p>
<p>Note
</p>
<p>Because operators are functions, they can also have long-term accesses
to their in-out parameters. For example, if &lsquo;<samp>balance(_:_:)</samp>&rsquo; was an
operator function named &lsquo;<samp>&lt;^&gt;</samp>&rsquo;, writing
&lsquo;<samp>playerOneScore &lt;^&gt; playerOneScore</samp>&rsquo; would result in the same conflict as
&lsquo;<samp>balance(&amp;playerOneScore, &amp;playerOneScore)</samp>&rsquo;.
</p>
<hr>
<span id="Conflicting-Access-to-self-in-Methods"></span><div class="header">
<p>
Next: <a href="#Conflicting-Access-to-Properties" accesskey="n" rel="next">Conflicting Access to Properties</a>, Previous: <a href="#Conflicting-Access-to-In_002dOut-Parameters" accesskey="p" rel="prev">Conflicting Access to In-Out Parameters</a>, Up: <a href="#Memory-Safety" accesskey="u" rel="up">Memory Safety</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Conflicting-Access-to-self-in-Methods-1"></span><h3 class="section">30.3 Conflicting Access to self in Methods</h3>

<p>A mutating method on a structure has write access to &lsquo;<samp>self</samp>&rsquo; for the
duration of the method call. For example, consider a game where each
player has a health amount, which decreases when taking damage, and an
energy amount, which decreases when using special abilities.
</p>
<div class="example">
<pre class="example">struct Player {
    var name: String
    var health: Int
    var energy: Int

    static let maxHealth = 10
    mutating func restoreHealth() {
        health = Player.maxHealth
    }
}
</pre></div>

<p>In the &lsquo;<samp>restoreHealth()</samp>&rsquo; method above, a write access to &lsquo;<samp>self</samp>&rsquo; starts
at the beginning of the method and lasts until the method returns. In
this case, there&rsquo;s no other code inside &lsquo;<samp>restoreHealth()</samp>&rsquo; that could
have an overlapping access to the properties of a &lsquo;<samp>Player</samp>&rsquo; instance. The
&lsquo;<samp>shareHealth(with:)</samp>&rsquo; method below takes another &lsquo;<samp>Player</samp>&rsquo; instance as an
in-out parameter, creating the possibility of overlapping accesses.
</p>
<div class="example">
<pre class="example">extension Player {
    mutating func shareHealth(with teammate: inout Player) {
        balance(&amp;teammate.health, &amp;health)
    }
}

var oscar = Player(name: &quot;Oscar&quot;, health: 10, energy: 10)
var maria = Player(name: &quot;Maria&quot;, health: 5, energy: 10)
oscar.shareHealth(with: &amp;maria) // OK
</pre></div>

<p>In the example above, calling the &lsquo;<samp>shareHealth(with:)</samp>&rsquo; method for
Oscar&rsquo;s player to share health with Maria&rsquo;s player doesn&rsquo;t cause a
conflict. There&rsquo;s a write access to &lsquo;<samp>oscar</samp>&rsquo; during the method call
because &lsquo;<samp>oscar</samp>&rsquo; is the value of &lsquo;<samp>self</samp>&rsquo; in a mutating method, and there&rsquo;s
a write access to &lsquo;<samp>maria</samp>&rsquo; for the same duration because &lsquo;<samp>maria</samp>&rsquo; was
passed as an in-out parameter. As shown in the figure below, they access
different locations in memory. Even though the two write accesses
overlap in time, they don&rsquo;t conflict.
</p>
<img src="images/memory_share_health_maria_2x.png" alt="images/memory_share_health_maria_2x">
<p>However, if you pass &lsquo;<samp>oscar</samp>&rsquo; as the argument to &lsquo;<samp>shareHealth(with:)</samp>&rsquo;,
there&rsquo;s a conflict:
</p>
<div class="example">
<pre class="example">oscar.shareHealth(with: &amp;oscar)
// Error: conflicting accesses to oscar
</pre></div>

<p>The mutating method needs write access to &lsquo;<samp>self</samp>&rsquo; for the duration of the
method, and the in-out parameter needs write access to &lsquo;<samp>teammate</samp>&rsquo; for
the same duration. Within the method, both &lsquo;<samp>self</samp>&rsquo; and &lsquo;<samp>teammate</samp>&rsquo; refer
to the same location in memory&mdash;as shown in the figure below. The two
write accesses refer to the same memory and they overlap, producing a
conflict.
</p>
<img src="images/memory_share_health_oscar_2x.png" alt="images/memory_share_health_oscar_2x">

<hr>
<span id="Conflicting-Access-to-Properties"></span><div class="header">
<p>
Previous: <a href="#Conflicting-Access-to-self-in-Methods" accesskey="p" rel="prev">Conflicting Access to self in Methods</a>, Up: <a href="#Memory-Safety" accesskey="u" rel="up">Memory Safety</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Conflicting-Access-to-Properties-1"></span><h3 class="section">30.4 Conflicting Access to Properties</h3>

<p>Types like structures, tuples, and enumerations are made up of
individual constituent values, such as the properties of a structure or
the elements of a tuple. Because these are value types, mutating any
piece of the value mutates the whole value, meaning read or write access
to one of the properties requires read or write access to the whole
value. For example, overlapping write accesses to the elements of a
tuple produces a conflict:
</p>
<div class="example">
<pre class="example">var playerInformation = (health: 10, energy: 20)
balance(&amp;playerInformation.health, &amp;playerInformation.energy)
// Error: conflicting access to properties of playerInformation
</pre></div>

<p>In the example above, calling &lsquo;<samp>balance(_:_:)</samp>&rsquo; on the elements of a tuple
produces a conflict because there are overlapping write accesses to
&lsquo;<samp>playerInformation</samp>&rsquo;. Both &lsquo;<samp>playerInformation.health</samp>&rsquo; and
&lsquo;<samp>playerInformation.energy</samp>&rsquo; are passed as in-out parameters, which means
&lsquo;<samp>balance(_:_:)</samp>&rsquo; needs write access to them for the duration of the
function call. In both cases, a write access to the tuple element
requires a write access to the entire tuple. This means there are two
write accesses to &lsquo;<samp>playerInformation</samp>&rsquo; with durations that overlap,
causing a conflict.
</p>
<p>The code below shows that the same error appears for overlapping write
accesses to the properties of a structure that&rsquo;s stored in a global
variable.
</p>
<div class="example">
<pre class="example">var holly = Player(name: &quot;Holly&quot;, health: 10, energy: 10)
balance(&amp;holly.health, &amp;holly.energy) // Error
</pre></div>

<p>In practice, most access to the properties of a structure can overlap
safely. For example, if the variable &lsquo;<samp>holly</samp>&rsquo; in the example above is
changed to a local variable instead of a global variable, the compiler
can prove that overlapping access to stored properties of the structure
is safe:
</p>
<div class="example">
<pre class="example">func someFunction() {
    var oscar = Player(name: &quot;Oscar&quot;, health: 10, energy: 10)
    balance(&amp;oscar.health, &amp;oscar.energy) // OK
}
</pre></div>

<p>In the example above, Oscar&rsquo;s health and energy are passed as the two
in-out parameters to &lsquo;<samp>balance(_:_:)</samp>&rsquo;. The compiler can prove that memory
safety is preserved because the two stored properties don&rsquo;t interact in
any way.
</p>
<p>The restriction against overlapping access to properties of a structure
isn&rsquo;t always necessary to preserve memory safety. Memory safety is the
desired guarantee, but exclusive access is a stricter requirement than
memory safety&mdash;which means some code preserves memory safety, even
though it violates exclusive access to memory. Swift allows this
memory-safe code if the compiler can prove that the nonexclusive access
to memory is still safe. Specifically, it can prove that overlapping
access to properties of a structure is safe if the following conditions
apply:
</p>
<ul>
<li> You&rsquo;re accessing only stored properties of an instance, not computed
properties or class properties.

</li><li> The structure is the value of a local variable, not a global variable.

</li><li> The structure is either not captured by any closures, or it&rsquo;s captured
only by nonescaping closures.
</li></ul>

<p>If the compiler can&rsquo;t prove the access is safe, it doesn&rsquo;t allow the
access.
</p>
<hr>
<span id="Access-Control"></span><div class="header">
<p>
Next: <a href="#Advanced-Operators" accesskey="n" rel="next">Advanced Operators</a>, Previous: <a href="#Memory-Safety" accesskey="p" rel="prev">Memory Safety</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Access-Control-1"></span><h2 class="chapter">31 Access Control</h2>

<p><em>Access control</em> restricts access to parts of your code from code in
other source files and modules. This feature enables you to hide the
implementation details of your code, and to specify a preferred
interface through which that code can be accessed and used.
</p>
<p>You can assign specific access levels to individual types (classes,
structures, and enumerations), as well as to properties, methods,
initializers, and subscripts belonging to those types. Protocols can be
restricted to a certain context, as can global constants, variables, and
functions.
</p>
<p>In addition to offering various levels of access control, Swift reduces
the need to specify explicit access control levels by providing default
access levels for typical scenarios. Indeed, if you are writing a
single-target app, you may not need to specify explicit access control
levels at all.
</p>
<p>Note
</p>
<p>The various aspects of your code that can have access control applied to
them (properties, types, functions, and so on) are referred to as
“entities” in the sections below, for brevity.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Modules-and-Source-Files" accesskey="1">Modules and Source Files</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Access-Levels" accesskey="2">Access Levels</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Access-Control-Syntax" accesskey="3">Access Control Syntax</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Custom-Types" accesskey="4">Custom Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Subclassing-1" accesskey="5">Subclassing</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Constants-Variables-Properties-and-Subscripts" accesskey="6">Constants, Variables, Properties, and Subscripts</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Initializers-2" accesskey="7">Initializers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Protocols-1" accesskey="8">Protocols</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Extensions-1" accesskey="9">Extensions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Generics-2">Generics</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Type-Aliases-1">Type Aliases</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Modules-and-Source-Files"></span><div class="header">
<p>
Next: <a href="#Access-Levels" accesskey="n" rel="next">Access Levels</a>, Up: <a href="#Access-Control" accesskey="u" rel="up">Access Control</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Modules-and-Source-Files-1"></span><h3 class="section">31.1 Modules and Source Files</h3>

<p>Swift&rsquo;s access control model is based on the concept of modules and
source files.
</p>
<span id="index-import"></span>
<p>A <em>module</em> is a single unit of code distribution&mdash;a framework or
application that is built and shipped as a single unit and that can be
imported by another module with Swift&rsquo;s &lsquo;<samp>import</samp>&rsquo; keyword.
</p>
<p>Each build target (such as an app bundle or framework) in Xcode is
treated as a separate module in Swift. If you group together aspects of
your app&rsquo;s code as a stand-alone framework&mdash;perhaps to encapsulate and
reuse that code across multiple applications&mdash;then everything you
define within that framework will be part of a separate module when it&rsquo;s
imported and used within an app, or when it&rsquo;s used within another
framework.
</p>
<p>A <em>source file</em> is a single Swift source code file within a module (in
effect, a single file within an app or framework). Although it&rsquo;s common
to define individual types in separate source files, a single source
file can contain definitions for multiple types, functions, and so on.
</p>
<hr>
<span id="Access-Levels"></span><div class="header">
<p>
Next: <a href="#Access-Control-Syntax" accesskey="n" rel="next">Access Control Syntax</a>, Previous: <a href="#Modules-and-Source-Files" accesskey="p" rel="prev">Modules and Source Files</a>, Up: <a href="#Access-Control" accesskey="u" rel="up">Access Control</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Access-Levels-1"></span><h3 class="section">31.2 Access Levels</h3>

<p>Swift provides five different <em>access levels</em> for entities within your
code. These access levels are relative to the source file in which an
entity is defined, and also relative to the module that source file
belongs to.
</p>
<span id="index-open"></span>
<span id="index-public"></span>

<ul>
<li> <em>Open access</em> and <em>public access</em> enable entities to be used within
any source file from their defining module, and also in a source file
from another module that imports the defining module. You typically
use open or public access when specifying the public interface to a
framework. The difference between open and public access is described
below.
</li></ul>

<span id="index-internal"></span>

<ul>
<li> <em>Internal access</em> enables entities to be used within any source file
from their defining module, but not in any source file outside of that
module. You typically use internal access when defining an app&rsquo;s or a
framework&rsquo;s internal structure.
</li></ul>

<span id="index-fileprivate"></span>

<ul>
<li> <em>File-private access</em> restricts the use of an entity to its own
defining source file. Use file-private access to hide the
implementation details of a specific piece of functionality when those
details are used within an entire file.

</li><li> <em>Private access</em> restricts the use of an entity to the enclosing
declaration, and to extensions of that declaration that are in the
same file. Use private access to hide the implementation details of a
specific piece of functionality when those details are used only
within a single declaration.
</li></ul>

<p>Open access is the highest (least restrictive) access level and private
access is the lowest (most restrictive) access level.
</p>
<p>Open access applies only to classes and class members, and it differs
from public access as follows:
</p>
<ul>
<li> Classes with public access, or any more restrictive access level, can
be subclassed only within the module where they&rsquo;re defined.

</li><li> Class members with public access, or any more restrictive access
level, can be overridden by subclasses only within the module where
they&rsquo;re defined.

</li><li> Open classes can be subclassed within the module where they&rsquo;re
defined, and within any module that imports the module where they&rsquo;re
defined.

</li><li> Open class members can be overridden by subclasses within the module
where they&rsquo;re defined, and within any module that imports the module
where they&rsquo;re defined.
</li></ul>

<p>Marking a class as open explicitly indicates that you&rsquo;ve considered the
impact of code from other modules using that class as a superclass, and
that you&rsquo;ve designed your class&rsquo;s code accordingly.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Guiding-Principle-of-Access-Levels" accesskey="1">Guiding Principle of Access Levels</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Default-Access-Levels" accesskey="2">Default Access Levels</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Access-Levels-for-Single_002dTarget-Apps" accesskey="3">Access Levels for Single-Target Apps</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Access-Levels-for-Frameworks" accesskey="4">Access Levels for Frameworks</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Access-Levels-for-Unit-Test-Targets" accesskey="5">Access Levels for Unit Test Targets</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Guiding-Principle-of-Access-Levels"></span><div class="header">
<p>
Next: <a href="#Default-Access-Levels" accesskey="n" rel="next">Default Access Levels</a>, Up: <a href="#Access-Levels" accesskey="u" rel="up">Access Levels</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Guiding-Principle-of-Access-Levels-1"></span><h4 class="subsection">31.2.1 Guiding Principle of Access Levels</h4>

<p>Access levels in Swift follow an overall guiding principle: /No entity
can be defined in terms of another entity that has a lower (more
restrictive) access level./
</p>
<p>For example:
</p>
<ul>
<li> A public variable can&rsquo;t be defined as having an internal,
file-private, or private type, because the type might not be available
everywhere that the public variable is used.

</li><li> A function can&rsquo;t have a higher access level than its parameter types
and return type, because the function could be used in situations
where its constituent types are unavailable to the surrounding code.
</li></ul>

<p>The specific implications of this guiding principle for different
aspects of the language are covered in detail below.
</p>
<hr>
<span id="Default-Access-Levels"></span><div class="header">
<p>
Next: <a href="#Access-Levels-for-Single_002dTarget-Apps" accesskey="n" rel="next">Access Levels for Single-Target Apps</a>, Previous: <a href="#Guiding-Principle-of-Access-Levels" accesskey="p" rel="prev">Guiding Principle of Access Levels</a>, Up: <a href="#Access-Levels" accesskey="u" rel="up">Access Levels</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Default-Access-Levels-1"></span><h4 class="subsection">31.2.2 Default Access Levels</h4>

<p>All entities in your code (with a few specific exceptions, as described
later in this chapter) have a default access level of internal if you
don&rsquo;t specify an explicit access level yourself. As a result, in many
cases you don&rsquo;t need to specify an explicit access level in your code.
</p>
<hr>
<span id="Access-Levels-for-Single_002dTarget-Apps"></span><div class="header">
<p>
Next: <a href="#Access-Levels-for-Frameworks" accesskey="n" rel="next">Access Levels for Frameworks</a>, Previous: <a href="#Default-Access-Levels" accesskey="p" rel="prev">Default Access Levels</a>, Up: <a href="#Access-Levels" accesskey="u" rel="up">Access Levels</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Access-Levels-for-Single_002dTarget-Apps-1"></span><h4 class="subsection">31.2.3 Access Levels for Single-Target Apps</h4>

<p>When you write a simple single-target app, the code in your app is
typically self-contained within the app and doesn&rsquo;t need to be made
available outside of the app&rsquo;s module. The default access level of
internal already matches this requirement. Therefore, you don&rsquo;t need to
specify a custom access level. You may, however, want to mark some parts
of your code as file private or private in order to hide their
implementation details from other code within the app&rsquo;s module.
</p>
<hr>
<span id="Access-Levels-for-Frameworks"></span><div class="header">
<p>
Next: <a href="#Access-Levels-for-Unit-Test-Targets" accesskey="n" rel="next">Access Levels for Unit Test Targets</a>, Previous: <a href="#Access-Levels-for-Single_002dTarget-Apps" accesskey="p" rel="prev">Access Levels for Single-Target Apps</a>, Up: <a href="#Access-Levels" accesskey="u" rel="up">Access Levels</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Access-Levels-for-Frameworks-1"></span><h4 class="subsection">31.2.4 Access Levels for Frameworks</h4>

<p>When you develop a framework, mark the public-facing interface to that
framework as open or public so that it can be viewed and accessed by
other modules, such as an app that imports the framework. This
public-facing interface is the application programming interface (or
API) for the framework.
</p>
<p>Note
</p>
<p>Any internal implementation details of your framework can still use the
default access level of internal, or can be marked as private or file
private if you want to hide them from other parts of the framework&rsquo;s
internal code. You need to mark an entity as open or public only if you
want it to become part of your framework&rsquo;s API.
</p>
<hr>
<span id="Access-Levels-for-Unit-Test-Targets"></span><div class="header">
<p>
Previous: <a href="#Access-Levels-for-Frameworks" accesskey="p" rel="prev">Access Levels for Frameworks</a>, Up: <a href="#Access-Levels" accesskey="u" rel="up">Access Levels</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Access-Levels-for-Unit-Test-Targets-1"></span><h4 class="subsection">31.2.5 Access Levels for Unit Test Targets</h4>

<p>When you write an app with a unit test target, the code in your app
needs to be made available to that module in order to be tested. By
default, only entities marked as open or public are accessible to other
modules. However, a unit test target can access any internal entity, if
you mark the import declaration for a product module with the
&lsquo;<samp>@testable</samp>&rsquo; attribute and compile that product module with testing
enabled.
</p>
<hr>
<span id="Access-Control-Syntax"></span><div class="header">
<p>
Next: <a href="#Custom-Types" accesskey="n" rel="next">Custom Types</a>, Previous: <a href="#Access-Levels" accesskey="p" rel="prev">Access Levels</a>, Up: <a href="#Access-Control" accesskey="u" rel="up">Access Control</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Access-Control-Syntax-1"></span><h3 class="section">31.3 Access Control Syntax</h3>

<span id="index-public-1"></span>
<span id="index-internal-1"></span>
<span id="index-fileprivate-1"></span>
<span id="index-private"></span>

<p>Define the access level for an entity by placing one of the &lsquo;<samp>open</samp>&rsquo;,
&lsquo;<samp>public</samp>&rsquo;, &lsquo;<samp>internal</samp>&rsquo;, &lsquo;<samp>fileprivate</samp>&rsquo;, or &lsquo;<samp>private</samp>&rsquo; modifiers before the
entity&rsquo;s introducer:
</p>
<div class="example">
<pre class="example">public class SomePublicClass {}
internal class SomeInternalClass {}
fileprivate class SomeFilePrivateClass {}
private class SomePrivateClass {}

public var somePublicVariable = 0
internal let someInternalConstant = 0
fileprivate func someFilePrivateFunction() {}
private func somePrivateFunction() {}
</pre></div>

<p>Unless otherwise specified, the default access level is internal, as
described in <a href="#Default-Access-Levels">Default Access Levels</a>. This
means that &lsquo;<samp>SomeInternalClass</samp>&rsquo; and &lsquo;<samp>someInternalConstant</samp>&rsquo; can be written
without an explicit access-level modifier, and will still have an access
level of internal:
</p>
<div class="example">
<pre class="example">class SomeInternalClass {} // implicitly internal
let someInternalConstant = 0 // implicitly internal
</pre></div>

<hr>
<span id="Custom-Types"></span><div class="header">
<p>
Next: <a href="#Subclassing-1" accesskey="n" rel="next">Subclassing 1</a>, Previous: <a href="#Access-Control-Syntax" accesskey="p" rel="prev">Access Control Syntax</a>, Up: <a href="#Access-Control" accesskey="u" rel="up">Access Control</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Custom-Types-1"></span><h3 class="section">31.4 Custom Types</h3>

<p>If you want to specify an explicit access level for a custom type, do so
at the point that you define the type. The new type can then be used
wherever its access level permits. For example, if you define a
file-private class, that class can only be used as the type of a
property, or as a function parameter or return type, in the source file
in which the file-private class is defined.
</p>
<p>The access control level of a type also affects the default access level
of that type&rsquo;s <em>members</em> (its properties, methods, initializers, and
subscripts). If you define a type&rsquo;s access level as private or file
private, the default access level of its members will also be private or
file private. If you define a type&rsquo;s access level as internal or public
(or use the default access level of internal without specifying an
access level explicitly), the default access level of the type&rsquo;s members
will be internal.
</p>
<p>Important
</p>
<p>A public type defaults to having internal members, not public members.
If you want a type member to be public, you must explicitly mark it as
such. This requirement ensures that the public-facing API for a type is
something you opt in to publishing, and avoids presenting the internal
workings of a type as public API by mistake.
</p>
<div class="example">
<pre class="example">public class SomePublicClass { // explicitly public class
    public var somePublicProperty = 0 // explicitly public class member
    var someInternalProperty = 0 // implicitly internal class member
    fileprivate func someFilePrivateMethod() {} // explicitly
    file-private class member
    private func somePrivateMethod() {} // explicitly private class
    member
}

class SomeInternalClass { // implicitly internal class
    var someInternalProperty = 0 // implicitly internal class member
    fileprivate func someFilePrivateMethod() {} // explicitly
    file-private class member
    private func somePrivateMethod() {} // explicitly private class
    member
}

fileprivate class SomeFilePrivateClass { // explicitly file-private
    class
      func someFilePrivateMethod() {} // implicitly file-private class
    member
    private func somePrivateMethod() {} // explicitly private class
    member
}

private class SomePrivateClass { // explicitly private class
    func somePrivateMethod() {} // implicitly private class member
}
</pre></div>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Tuple-Types" accesskey="1">Tuple Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Function-Types-1" accesskey="2">Function Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Enumeration-Types" accesskey="3">Enumeration Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Nested-Types-2" accesskey="4">Nested Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Tuple-Types"></span><div class="header">
<p>
Next: <a href="#Function-Types-1" accesskey="n" rel="next">Function Types 1</a>, Up: <a href="#Custom-Types" accesskey="u" rel="up">Custom Types</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Tuple-Types-1"></span><h4 class="subsection">31.4.1 Tuple Types</h4>

<p>The access level for a tuple type is the most restrictive access level
of all types used in that tuple. For example, if you compose a tuple
from two different types, one with internal access and one with private
access, the access level for that compound tuple type will be private.
</p>
<p>Note
</p>
<p>Tuple types don&rsquo;t have a standalone definition in the way that classes,
structures, enumerations, and functions do. A tuple type&rsquo;s access level
is deduced automatically when the tuple type is used, and can&rsquo;t be
specified explicitly.
</p>
<hr>
<span id="Function-Types-1"></span><div class="header">
<p>
Next: <a href="#Enumeration-Types" accesskey="n" rel="next">Enumeration Types</a>, Previous: <a href="#Tuple-Types" accesskey="p" rel="prev">Tuple Types</a>, Up: <a href="#Custom-Types" accesskey="u" rel="up">Custom Types</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Function-Types-3"></span><h4 class="subsection">31.4.2 Function Types</h4>

<p>The access level for a function type is calculated as the most
restrictive access level of the function&rsquo;s parameter types and return
type. You must specify the access level explicitly as part of the
function&rsquo;s definition if the function&rsquo;s calculated access level doesn&rsquo;t
match the contextual default.
</p>
<p>The example below defines a global function called &lsquo;<samp>someFunction()</samp>&rsquo;,
without providing a specific access-level modifier for the function
itself. You might expect this function to have the default access level
of “internal”, but this isn&rsquo;t the case. In fact, &lsquo;<samp>someFunction()</samp>&rsquo; won&rsquo;t
compile as written below:
</p>
<div class="example">
<pre class="example">func someFunction() -&gt; (SomeInternalClass, SomePrivateClass) {
    // function implementation goes here
}
</pre></div>

<p>The function&rsquo;s return type is a tuple type composed from two of the
custom classes defined above in <a href="#Custom-Types">Custom
Types</a>. One of these classes is defined as internal, and the other is
defined as private. Therefore, the overall access level of the compound
tuple type is private (the minimum access level of the tuple&rsquo;s
constituent types).
</p>
<p>Because the function&rsquo;s return type is private, you must mark the
function&rsquo;s overall access level with the &lsquo;<samp>private</samp>&rsquo; modifier for the
function declaration to be valid:
</p>
<div class="example">
<pre class="example">private func someFunction() -&gt; (SomeInternalClass, SomePrivateClass) {
    // function implementation goes here
}
</pre></div>

<p>It&rsquo;s not valid to mark the definition of &lsquo;<samp>someFunction()</samp>&rsquo; with the
&lsquo;<samp>public</samp>&rsquo; or &lsquo;<samp>internal</samp>&rsquo; modifiers, or to use the default setting of
internal, because public or internal users of the function might not
have appropriate access to the private class used in the function&rsquo;s
return type.
</p>
<hr>
<span id="Enumeration-Types"></span><div class="header">
<p>
Next: <a href="#Nested-Types-2" accesskey="n" rel="next">Nested Types 2</a>, Previous: <a href="#Function-Types-1" accesskey="p" rel="prev">Function Types 1</a>, Up: <a href="#Custom-Types" accesskey="u" rel="up">Custom Types</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Enumeration-Types-1"></span><h4 class="subsection">31.4.3 Enumeration Types</h4>

<p>The individual cases of an enumeration automatically receive the same
access level as the enumeration they belong to. You can&rsquo;t specify a
different access level for individual enumeration cases.
</p>
<p>In the example below, the &lsquo;<samp>CompassPoint</samp>&rsquo; enumeration has an explicit
access level of public. The enumeration cases &lsquo;<samp>north</samp>&rsquo;, &lsquo;<samp>south</samp>&rsquo;, &lsquo;<samp>east</samp>&rsquo;,
and &lsquo;<samp>west</samp>&rsquo; therefore also have an access level of public:
</p>
<div class="example">
<pre class="example">public enum CompassPoint {
    case north
    case south
    case east
    case west
}
</pre></div>

<ol>
<li> Raw Values and Associated Values


<p>The types used for any raw values or associated values in an enumeration
definition must have an access level at least as high as the
enumeration&rsquo;s access level. You can&rsquo;t use a private type as the
raw-value type of an enumeration with an internal access level, for
example.
</p></li></ol>

<hr>
<span id="Nested-Types-2"></span><div class="header">
<p>
Previous: <a href="#Enumeration-Types" accesskey="p" rel="prev">Enumeration Types</a>, Up: <a href="#Custom-Types" accesskey="u" rel="up">Custom Types</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Nested-Types-5"></span><h4 class="subsection">31.4.4 Nested Types</h4>

<p>Nested types defined within a private type have an automatic access
level of private. Nested types defined within a file-private type have
an automatic access level of file private. Nested types defined within a
public type or an internal type have an automatic access level of
internal. If you want a nested type within a public type to be publicly
available, you must explicitly declare the nested type as public.
</p>
<hr>
<span id="Subclassing-1"></span><div class="header">
<p>
Next: <a href="#Constants-Variables-Properties-and-Subscripts" accesskey="n" rel="next">Constants Variables Properties and Subscripts</a>, Previous: <a href="#Custom-Types" accesskey="p" rel="prev">Custom Types</a>, Up: <a href="#Access-Control" accesskey="u" rel="up">Access Control</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Subclassing-3"></span><h3 class="section">31.5 Subclassing</h3>

<p>You can subclass any class that can be accessed in the current access
context. A subclass can&rsquo;t have a higher access level than its
superclass&mdash;for example, you can&rsquo;t write a public subclass of an
internal superclass.
</p>
<p>In addition, you can override any class member (method, property,
initializer, or subscript) that is visible in a certain access context.
</p>
<p>An override can make an inherited class member more accessible than its
superclass version. In the example below, class &lsquo;<samp>A</samp>&rsquo; is a public class
with a file-private method called &lsquo;<samp>someMethod()</samp>&rsquo;. Class &lsquo;<samp>B</samp>&rsquo; is a
subclass of &lsquo;<samp>A</samp>&rsquo;, with a reduced access level of “internal”. Nonetheless,
class &lsquo;<samp>B</samp>&rsquo; provides an override of &lsquo;<samp>someMethod()</samp>&rsquo; with an access level of
“internal”, which is <em>higher</em> than the original implementation of
&lsquo;<samp>someMethod()</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">public class A {
    fileprivate func someMethod() {}
}

internal class B: A {
    override internal func someMethod() {}
}
</pre></div>

<p>It&rsquo;s even valid for a subclass member to call a superclass member that
has lower access permissions than the subclass member, as long as the
call to the superclass&rsquo;s member takes place within an allowed access
level context (that is, within the same source file as the superclass
for a file-private member call, or within the same module as the
superclass for an internal member call):
</p>
<div class="example">
<pre class="example">public class A {
    fileprivate func someMethod() {}
}

internal class B: A {
    override internal func someMethod() {
        super.someMethod()
    }
}
</pre></div>

<p>Because superclass &lsquo;<samp>A</samp>&rsquo; and subclass &lsquo;<samp>B</samp>&rsquo; are defined in the same source
file, it&rsquo;s valid for the &lsquo;<samp>B</samp>&rsquo; implementation of &lsquo;<samp>someMethod()</samp>&rsquo; to call
&lsquo;<samp>super.someMethod()</samp>&rsquo;.
</p>
<hr>
<span id="Constants-Variables-Properties-and-Subscripts"></span><div class="header">
<p>
Next: <a href="#Initializers-2" accesskey="n" rel="next">Initializers 2</a>, Previous: <a href="#Subclassing-1" accesskey="p" rel="prev">Subclassing 1</a>, Up: <a href="#Access-Control" accesskey="u" rel="up">Access Control</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Constants_002c-Variables_002c-Properties_002c-and-Subscripts"></span><h3 class="section">31.6 Constants, Variables, Properties, and Subscripts</h3>

<p>A constant, variable, or property can&rsquo;t be more public than its type.
It&rsquo;s not valid to write a public property with a private type, for
example. Similarly, a subscript can&rsquo;t be more public than either its
index type or return type.
</p>
<p>If a constant, variable, property, or subscript makes use of a private
type, the constant, variable, property, or subscript must also be marked
as &lsquo;<samp>private</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">private var privateInstance = SomePrivateClass()
</pre></div>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Getters-and-Setters" accesskey="1">Getters and Setters</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Getters-and-Setters"></span><div class="header">
<p>
Up: <a href="#Constants-Variables-Properties-and-Subscripts" accesskey="u" rel="up">Constants Variables Properties and Subscripts</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Getters-and-Setters-1"></span><h4 class="subsection">31.6.1 Getters and Setters</h4>

<p>Getters and setters for constants, variables, properties, and subscripts
automatically receive the same access level as the constant, variable,
property, or subscript they belong to.
</p>
<p>You can give a setter a <em>lower</em> access level than its corresponding
getter, to restrict the read-write scope of that variable, property, or
subscript. You assign a lower access level by writing
&lsquo;<samp>fileprivate(set)</samp>&rsquo;, &lsquo;<samp>private(set)</samp>&rsquo;, or &lsquo;<samp>internal(set)</samp>&rsquo; before the &lsquo;<samp>var</samp>&rsquo;
or &lsquo;<samp>subscript</samp>&rsquo; introducer.
</p>
<p>Note
</p>
<p>This rule applies to stored properties as well as computed properties.
Even though you don&rsquo;t write an explicit getter and setter for a stored
property, Swift still synthesizes an implicit getter and setter for you
to provide access to the stored property&rsquo;s backing storage. Use
&lsquo;<samp>fileprivate(set)</samp>&rsquo;, &lsquo;<samp>private(set)</samp>&rsquo;, and &lsquo;<samp>internal(set)</samp>&rsquo; to change the
access level of this synthesized setter in exactly the same way as for
an explicit setter in a computed property.
</p>
<p>The example below defines a structure called &lsquo;<samp>TrackedString</samp>&rsquo;, which
keeps track of the number of times a string property is modified:
</p>
<div class="example">
<pre class="example">struct TrackedString {
    private(set) var numberOfEdits = 0
    var value: String = &quot;&quot; {
        didSet {
            numberOfEdits += 1
        }
    }
}
</pre></div>

<p>The &lsquo;<samp>TrackedString</samp>&rsquo; structure defines a stored string property called
&lsquo;<samp>value</samp>&rsquo;, with an initial value of &lsquo;<samp>&quot;&quot;</samp>&rsquo; (an empty string). The structure
also defines a stored integer property called &lsquo;<samp>numberOfEdits</samp>&rsquo;, which is
used to track the number of times that &lsquo;<samp>value</samp>&rsquo; is modified. This
modification tracking is implemented with a &lsquo;<samp>didSet</samp>&rsquo; property observer
on the &lsquo;<samp>value</samp>&rsquo; property, which increments &lsquo;<samp>numberOfEdits</samp>&rsquo; every time the
&lsquo;<samp>value</samp>&rsquo; property is set to a new value.
</p>
<p>The &lsquo;<samp>TrackedString</samp>&rsquo; structure and the &lsquo;<samp>value</samp>&rsquo; property don&rsquo;t provide an
explicit access-level modifier, and so they both receive the default
access level of internal. However, the access level for the
&lsquo;<samp>numberOfEdits</samp>&rsquo; property is marked with a &lsquo;<samp>private(set)</samp>&rsquo; modifier to
indicate that the property&rsquo;s getter still has the default access level
of internal, but the property is settable only from within code that&rsquo;s
part of the &lsquo;<samp>TrackedString</samp>&rsquo; structure. This enables &lsquo;<samp>TrackedString</samp>&rsquo; to
modify the &lsquo;<samp>numberOfEdits</samp>&rsquo; property internally, but to present the
property as a read-only property when it&rsquo;s used outside the structure&rsquo;s
definition.
</p>
<p>If you create a &lsquo;<samp>TrackedString</samp>&rsquo; instance and modify its string value a
few times, you can see the &lsquo;<samp>numberOfEdits</samp>&rsquo; property value update to
match the number of modifications:
</p>
<div class="example">
<pre class="example">var stringToEdit = TrackedString()
stringToEdit.value = &quot;This string will be tracked.&quot;
stringToEdit.value += &quot; This edit will increment numberOfEdits.&quot;
stringToEdit.value += &quot; So will this one.&quot;
print(&quot;The number of edits is \(stringToEdit.numberOfEdits)&quot;)
// Prints &quot;The number of edits is 3&quot;
</pre></div>

<p>Although you can query the current value of the &lsquo;<samp>numberOfEdits</samp>&rsquo; property
from within another source file, you can&rsquo;t <em>modify</em> the property from
another source file. This restriction protects the implementation
details of the &lsquo;<samp>TrackedString</samp>&rsquo; edit-tracking functionality, while still
providing convenient access to an aspect of that functionality.
</p>
<p>Note that you can assign an explicit access level for both a getter and
a setter if required. The example below shows a version of the
&lsquo;<samp>TrackedString</samp>&rsquo; structure in which the structure is defined with an
explicit access level of public. The structure&rsquo;s members (including the
&lsquo;<samp>numberOfEdits</samp>&rsquo; property) therefore have an internal access level by
default. You can make the structure&rsquo;s &lsquo;<samp>numberOfEdits</samp>&rsquo; property getter
public, and its property setter private, by combining the &lsquo;<samp>public</samp>&rsquo; and
&lsquo;<samp>private(set)</samp>&rsquo; access-level modifiers:
</p>
<div class="example">
<pre class="example">public struct TrackedString {
    public private(set) var numberOfEdits = 0
    public var value: String = &quot;&quot; {
        didSet {
            numberOfEdits += 1
        }
    }
    public init() {}
}
</pre></div>

<hr>
<span id="Initializers-2"></span><div class="header">
<p>
Next: <a href="#Protocols-1" accesskey="n" rel="next">Protocols 1</a>, Previous: <a href="#Constants-Variables-Properties-and-Subscripts" accesskey="p" rel="prev">Constants Variables Properties and Subscripts</a>, Up: <a href="#Access-Control" accesskey="u" rel="up">Access Control</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Initializers-5"></span><h3 class="section">31.7 Initializers</h3>

<span id="index-constructors"></span>

<p>Custom initializers can be assigned an access level less than or equal
to the type that they initialize. The only exception is for required
initializers (as defined in <a href="#Required-Initializers">Required
Initializers</a>). A required initializer must have the same access level
as the class it belongs to.
</p>
<p>As with function and method parameters, the types of an initializer&rsquo;s
parameters can&rsquo;t be more private than the initializer&rsquo;s own access
level.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Default-Initializers-1" accesskey="1">Default Initializers</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Default-Memberwise-Initializers-for-Structure-Types" accesskey="2">Default Memberwise Initializers for Structure Types</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Default-Initializers-1"></span><div class="header">
<p>
Next: <a href="#Default-Memberwise-Initializers-for-Structure-Types" accesskey="n" rel="next">Default Memberwise Initializers for Structure Types</a>, Up: <a href="#Initializers-2" accesskey="u" rel="up">Initializers 2</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Default-Initializers-3"></span><h4 class="subsection">31.7.1 Default Initializers</h4>

<p>As described in <a href="#Default-Initializers">Default Initializers</a>,
Swift automatically provides a <em>default initializer</em> without any
arguments for any structure or base class that provides default values
for all of its properties and doesn&rsquo;t provide at least one initializer
itself.
</p>
<p>A default initializer has the same access level as the type it
initializes, unless that type is defined as &lsquo;<samp>public</samp>&rsquo;. For a type that is
defined as &lsquo;<samp>public</samp>&rsquo;, the default initializer is considered internal. If
you want a public type to be initializable with a no-argument
initializer when used in another module, you must explicitly provide a
public no-argument initializer yourself as part of the type&rsquo;s
definition.
</p>
<hr>
<span id="Default-Memberwise-Initializers-for-Structure-Types"></span><div class="header">
<p>
Previous: <a href="#Default-Initializers-1" accesskey="p" rel="prev">Default Initializers 1</a>, Up: <a href="#Initializers-2" accesskey="u" rel="up">Initializers 2</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Default-Memberwise-Initializers-for-Structure-Types-1"></span><h4 class="subsection">31.7.2 Default Memberwise Initializers for Structure Types</h4>

<p>The default memberwise initializer for a structure type is considered
private if any of the structure&rsquo;s stored properties are private.
Likewise, if any of the structure&rsquo;s stored properties are file private,
the initializer is file private. Otherwise, the initializer has an
access level of internal.
</p>
<p>As with the default initializer above, if you want a public structure
type to be initializable with a memberwise initializer when used in
another module, you must provide a public memberwise initializer
yourself as part of the type&rsquo;s definition.
</p>
<hr>
<span id="Protocols-1"></span><div class="header">
<p>
Next: <a href="#Extensions-1" accesskey="n" rel="next">Extensions 1</a>, Previous: <a href="#Initializers-2" accesskey="p" rel="prev">Initializers 2</a>, Up: <a href="#Access-Control" accesskey="u" rel="up">Access Control</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Protocols-3"></span><h3 class="section">31.8 Protocols</h3>

<span id="index-interface_002c-protocol"></span>

<p>If you want to assign an explicit access level to a protocol type, do so
at the point that you define the protocol. This enables you to create
protocols that can only be adopted within a certain access context.
</p>
<p>The access level of each requirement within a protocol definition is
automatically set to the same access level as the protocol. You can&rsquo;t
set a protocol requirement to a different access level than the protocol
it supports. This ensures that all of the protocol&rsquo;s requirements will
be visible on any type that adopts the protocol.
</p>
<p>Note
</p>
<p>If you define a public protocol, the protocol&rsquo;s requirements require a
public access level for those requirements when they&rsquo;re implemented.
This behavior is different from other types, where a public type
definition implies an access level of internal for the type&rsquo;s members.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Protocol-Inheritance-1" accesskey="1">Protocol Inheritance</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Protocol-Conformance" accesskey="2">Protocol Conformance</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Protocol-Inheritance-1"></span><div class="header">
<p>
Next: <a href="#Protocol-Conformance" accesskey="n" rel="next">Protocol Conformance</a>, Up: <a href="#Protocols-1" accesskey="u" rel="up">Protocols 1</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Protocol-Inheritance-3"></span><h4 class="subsection">31.8.1 Protocol Inheritance</h4>

<p>If you define a new protocol that inherits from an existing protocol,
the new protocol can have at most the same access level as the protocol
it inherits from. You can&rsquo;t write a public protocol that inherits from
an internal protocol, for example.
</p>
<hr>
<span id="Protocol-Conformance"></span><div class="header">
<p>
Previous: <a href="#Protocol-Inheritance-1" accesskey="p" rel="prev">Protocol Inheritance 1</a>, Up: <a href="#Protocols-1" accesskey="u" rel="up">Protocols 1</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Protocol-Conformance-1"></span><h4 class="subsection">31.8.2 Protocol Conformance</h4>

<p>A type can conform to a protocol with a lower access level than the type
itself. For example, you can define a public type that can be used in
other modules, but whose conformance to an internal protocol can only be
used within the internal protocol&rsquo;s defining module.
</p>
<p>The context in which a type conforms to a particular protocol is the
minimum of the type&rsquo;s access level and the protocol&rsquo;s access level. If a
type is public, but a protocol it conforms to is internal, the type&rsquo;s
conformance to that protocol is also internal.
</p>
<p>When you write or extend a type to conform to a protocol, you must
ensure that the type&rsquo;s implementation of each protocol requirement has
at least the same access level as the type&rsquo;s conformance to that
protocol. For example, if a public type conforms to an internal
protocol, the type&rsquo;s implementation of each protocol requirement must be
at least “internal”.
</p>
<p>Note
</p>
<p>In Swift, as in Objective-C, protocol conformance is global&mdash;it isn&rsquo;t
possible for a type to conform to a protocol in two different ways
within the same program.
</p>
<hr>
<span id="Extensions-1"></span><div class="header">
<p>
Next: <a href="#Generics-2" accesskey="n" rel="next">Generics 2</a>, Previous: <a href="#Protocols-1" accesskey="p" rel="prev">Protocols 1</a>, Up: <a href="#Access-Control" accesskey="u" rel="up">Access Control</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Extensions-3"></span><h3 class="section">31.9 Extensions</h3>

<span id="index-categories"></span>

<p>You can extend a class, structure, or enumeration in any access context
in which the class, structure, or enumeration is available. Any type
members added in an extension have the same default access level as type
members declared in the original type being extended. If you extend a
public or internal type, any new type members you add have a default
access level of internal. If you extend a file-private type, any new
type members you add have a default access level of file private. If you
extend a private type, any new type members you add have a default
access level of private.
</p>
<p>Alternatively, you can mark an extension with an explicit access-level
modifier (for example, &lsquo;<samp>private extension</samp>&rsquo;) to set a new default access
level for all members defined within the extension. This new default can
still be overridden within the extension for individual type members.
</p>
<p>You can&rsquo;t provide an explicit access-level modifier for an extension if
you&rsquo;re using that extension to add protocol conformance. Instead, the
protocol&rsquo;s own access level is used to provide the default access level
for each protocol requirement implementation within the extension.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Private-Members-in-Extensions" accesskey="1">Private Members in Extensions</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Private-Members-in-Extensions"></span><div class="header">
<p>
Up: <a href="#Extensions-1" accesskey="u" rel="up">Extensions 1</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Private-Members-in-Extensions-1"></span><h4 class="subsection">31.9.1 Private Members in Extensions</h4>

<p>Extensions that are in the same file as the class, structure, or
enumeration that they extend behave as if the code in the extension had
been written as part of the original type&rsquo;s declaration. As a result,
you can:
</p>
<ul>
<li> Declare a private member in the original declaration, and access that
member from extensions in the same file.

</li><li> Declare a private member in one extension, and access that member from
another extension in the same file.

</li><li> Declare a private member in an extension, and access that member from
the original declaration in the same file.
</li></ul>

<p>This behavior means you can use extensions in the same way to organize
your code, whether or not your types have private entities. For example,
given the following simple protocol:
</p>
<div class="example">
<pre class="example">protocol SomeProtocol {
    func doSomething()
}
</pre></div>

<p>You can use an extension to add protocol conformance, like this:
</p>
<div class="example">
<pre class="example">struct SomeStruct {
    private var privateVariable = 12
}

extension SomeStruct: SomeProtocol {
    func doSomething() {
        print(privateVariable)
    }
}
</pre></div>

<hr>
<span id="Generics-2"></span><div class="header">
<p>
Next: <a href="#Type-Aliases-1" accesskey="n" rel="next">Type Aliases 1</a>, Previous: <a href="#Extensions-1" accesskey="p" rel="prev">Extensions 1</a>, Up: <a href="#Access-Control" accesskey="u" rel="up">Access Control</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Generics-5"></span><h3 class="section">31.10 Generics</h3>

<p>The access level for a generic type or generic function is the minimum
of the access level of the generic type or function itself and the
access level of any type constraints on its type parameters.
</p>
<hr>
<span id="Type-Aliases-1"></span><div class="header">
<p>
Previous: <a href="#Generics-2" accesskey="p" rel="prev">Generics 2</a>, Up: <a href="#Access-Control" accesskey="u" rel="up">Access Control</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Type-Aliases-3"></span><h3 class="section">31.11 Type Aliases</h3>

<span id="index-typedef"></span>

<p>Any type aliases you define are treated as distinct types for the
purposes of access control. A type alias can have an access level less
than or equal to the access level of the type it aliases. For example, a
private type alias can alias a private, file-private, internal, public,
or open type, but a public type alias can&rsquo;t alias an internal,
file-private, or private type.
</p>
<p>Note
</p>
<p>This rule also applies to type aliases for associated types used to
satisfy protocol conformances.
</p>
<hr>
<span id="Advanced-Operators"></span><div class="header">
<p>
Next: <a href="#Index" accesskey="n" rel="next">Index</a>, Previous: <a href="#Access-Control" accesskey="p" rel="prev">Access Control</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Advanced-Operators-1"></span><h2 class="chapter">32 Advanced Operators</h2>

<p>In addition to the operators described in <a href="#Basic-Operators">Basic
Operators</a>, Swift provides several advanced operators that perform more
complex value manipulation. These include all of the bitwise and bit
shifting operators you will be familiar with from C and Objective-C.
</p>
<p>Unlike arithmetic operators in C, arithmetic operators in Swift do not
overflow by default. Overflow behavior is trapped and reported as an
error. To opt in to overflow behavior, use Swift&rsquo;s second set of
arithmetic operators that overflow by default, such as the overflow
addition operator (&lsquo;<samp>&amp;+</samp>&rsquo;). All of these overflow operators begin with an
ampersand (&lsquo;<samp>&amp;</samp>&rsquo;).
</p>
<p>When you define your own structures, classes, and enumerations, it can
be useful to provide your own implementations of the standard Swift
operators for these custom types. Swift makes it easy to provide
tailored implementations of these operators and to determine exactly
what their behavior should be for each type you create.
</p>
<p>You&rsquo;re not limited to the predefined operators. Swift gives you the
freedom to define your own custom infix, prefix, postfix, and assignment
operators, with custom precedence and associativity values. These
operators can be used and adopted in your code like any of the
predefined operators, and you can even extend existing types to support
the custom operators you define.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Bitwise-Operators" accesskey="1">Bitwise Operators</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Overflow-Operators" accesskey="2">Overflow Operators</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Precedence-and-Associativity" accesskey="3">Precedence and Associativity</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Operator-Methods-1" accesskey="4">Operator Methods</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Custom-Operators" accesskey="5">Custom Operators</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Bitwise-Operators"></span><div class="header">
<p>
Next: <a href="#Overflow-Operators" accesskey="n" rel="next">Overflow Operators</a>, Up: <a href="#Advanced-Operators" accesskey="u" rel="up">Advanced Operators</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Bitwise-Operators-1"></span><h3 class="section">32.1 Bitwise Operators</h3>

<p><em>Bitwise operators</em> enable you to manipulate the individual raw data
bits within a data structure. They are often used in low-level
programming, such as graphics programming and device driver creation.
Bitwise operators can also be useful when you work with raw data from
external sources, such as encoding and decoding data for communication
over a custom protocol.
</p>
<p>Swift supports all of the bitwise operators found in C, as described
below.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Bitwise-NOT-Operator" accesskey="1">Bitwise NOT Operator</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Bitwise-AND-Operator" accesskey="2">Bitwise AND Operator</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Bitwise-OR-Operator" accesskey="3">Bitwise OR Operator</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Bitwise-XOR-Operator" accesskey="4">Bitwise XOR Operator</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Bitwise-Left-and-Right-Shift-Operators" accesskey="5">Bitwise Left and Right Shift Operators</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Bitwise-NOT-Operator"></span><div class="header">
<p>
Next: <a href="#Bitwise-AND-Operator" accesskey="n" rel="next">Bitwise AND Operator</a>, Up: <a href="#Bitwise-Operators" accesskey="u" rel="up">Bitwise Operators</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Bitwise-NOT-Operator-1"></span><h4 class="subsection">32.1.1 Bitwise NOT Operator</h4>

<p>The <em>bitwise NOT operator</em> (&lsquo;<samp>~</samp>&rsquo;) inverts all bits in a number:
</p>
<img src="images/bitwiseNOT_2x.png" alt="images/bitwiseNOT_2x">
<p>The bitwise NOT operator is a prefix operator, and appears immediately
before the value it operates on, without any white space:
</p>
<ol>
<li> let initialBits: UInt8 = 0b00001111
</li><li> let invertedBits = ~initialBits // equals 11110000
</li></ol>

<p>&lsquo;<samp>UInt8</samp>&rsquo; integers have eight bits and can store any value between &lsquo;<samp>0</samp>&rsquo; and
&lsquo;<samp>255</samp>&rsquo;. This example initializes a &lsquo;<samp>UInt8</samp>&rsquo; integer with the binary value
&lsquo;<samp>00001111</samp>&rsquo;, which has its first four bits set to &lsquo;<samp>0</samp>&rsquo;, and its second
four bits set to &lsquo;<samp>1</samp>&rsquo;. This is equivalent to a decimal value of &lsquo;<samp>15</samp>&rsquo;.
</p>
<p>The bitwise NOT operator is then used to create a new constant called
&lsquo;<samp>invertedBits</samp>&rsquo;, which is equal to &lsquo;<samp>initialBits</samp>&rsquo;, but with all of the
bits inverted. Zeros become ones, and ones become zeros. The value of
&lsquo;<samp>invertedBits</samp>&rsquo; is &lsquo;<samp>11110000</samp>&rsquo;, which is equal to an unsigned decimal
value of &lsquo;<samp>240</samp>&rsquo;.
</p>
<hr>
<span id="Bitwise-AND-Operator"></span><div class="header">
<p>
Next: <a href="#Bitwise-OR-Operator" accesskey="n" rel="next">Bitwise OR Operator</a>, Previous: <a href="#Bitwise-NOT-Operator" accesskey="p" rel="prev">Bitwise NOT Operator</a>, Up: <a href="#Bitwise-Operators" accesskey="u" rel="up">Bitwise Operators</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Bitwise-AND-Operator-1"></span><h4 class="subsection">32.1.2 Bitwise AND Operator</h4>

<p>The <em>bitwise AND operator</em> (&lsquo;<samp>&amp;</samp>&rsquo;) combines the bits of two numbers. It
returns a new number whose bits are set to &lsquo;<samp>1</samp>&rsquo; only if the bits were
equal to &lsquo;<samp>1</samp>&rsquo; in <em>both</em> input numbers:
</p>
<img src="images/bitwiseAND_2x.png" alt="images/bitwiseAND_2x">
<p>In the example below, the values of &lsquo;<samp>firstSixBits</samp>&rsquo; and &lsquo;<samp>lastSixBits</samp>&rsquo;
both have four middle bits equal to &lsquo;<samp>1</samp>&rsquo;. The bitwise AND operator
combines them to make the number &lsquo;<samp>00111100</samp>&rsquo;, which is equal to an
unsigned decimal value of &lsquo;<samp>60</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">let firstSixBits: UInt8 = 0b11111100
let lastSixBits: UInt8 = 0b00111111
let middleFourBits = firstSixBits &amp; lastSixBits // equals 00111100
</pre></div>

<hr>
<span id="Bitwise-OR-Operator"></span><div class="header">
<p>
Next: <a href="#Bitwise-XOR-Operator" accesskey="n" rel="next">Bitwise XOR Operator</a>, Previous: <a href="#Bitwise-AND-Operator" accesskey="p" rel="prev">Bitwise AND Operator</a>, Up: <a href="#Bitwise-Operators" accesskey="u" rel="up">Bitwise Operators</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Bitwise-OR-Operator-1"></span><h4 class="subsection">32.1.3 Bitwise OR Operator</h4>

<p>The <em>bitwise OR operator</em> (&lsquo;<samp>|</samp>&rsquo;) compares the bits of two numbers. The
operator returns a new number whose bits are set to &lsquo;<samp>1</samp>&rsquo; if the bits are
equal to &lsquo;<samp>1</samp>&rsquo; in <em>either</em> input number:
</p>
<img src="images/bitwiseOR_2x.png" alt="images/bitwiseOR_2x">
<p>In the example below, the values of &lsquo;<samp>someBits</samp>&rsquo; and &lsquo;<samp>moreBits</samp>&rsquo; have
different bits set to &lsquo;<samp>1</samp>&rsquo;. The bitwise OR operator combines them to make
the number &lsquo;<samp>11111110</samp>&rsquo;, which equals an unsigned decimal of &lsquo;<samp>254</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">let someBits: UInt8 = 0b10110010
let moreBits: UInt8 = 0b01011110
let combinedbits = someBits | moreBits // equals 11111110
</pre></div>

<hr>
<span id="Bitwise-XOR-Operator"></span><div class="header">
<p>
Next: <a href="#Bitwise-Left-and-Right-Shift-Operators" accesskey="n" rel="next">Bitwise Left and Right Shift Operators</a>, Previous: <a href="#Bitwise-OR-Operator" accesskey="p" rel="prev">Bitwise OR Operator</a>, Up: <a href="#Bitwise-Operators" accesskey="u" rel="up">Bitwise Operators</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Bitwise-XOR-Operator-1"></span><h4 class="subsection">32.1.4 Bitwise XOR Operator</h4>

<p>The <em>bitwise XOR operator</em>, or “exclusive OR operator” (&lsquo;<samp>^</samp>&rsquo;), compares
the bits of two numbers. The operator returns a new number whose bits
are set to &lsquo;<samp>1</samp>&rsquo; where the input bits are different and are set to &lsquo;<samp>0</samp>&rsquo;
where the input bits are the same:
</p>
<img src="images/bitwiseXOR_2x.png" alt="images/bitwiseXOR_2x">
<p>In the example below, the values of &lsquo;<samp>firstBits</samp>&rsquo; and &lsquo;<samp>otherBits</samp>&rsquo; each
have a bit set to &lsquo;<samp>1</samp>&rsquo; in a location that the other does not. The bitwise
XOR operator sets both of these bits to &lsquo;<samp>1</samp>&rsquo; in its output value. All of
the other bits in &lsquo;<samp>firstBits</samp>&rsquo; and &lsquo;<samp>otherBits</samp>&rsquo; match and are set to &lsquo;<samp>0</samp>&rsquo;
in the output value:
</p>
<div class="example">
<pre class="example">let firstBits: UInt8 = 0b00010100
let otherBits: UInt8 = 0b00000101
let outputBits = firstBits ^ otherBits // equals 00010001
</pre></div>

<hr>
<span id="Bitwise-Left-and-Right-Shift-Operators"></span><div class="header">
<p>
Previous: <a href="#Bitwise-XOR-Operator" accesskey="p" rel="prev">Bitwise XOR Operator</a>, Up: <a href="#Bitwise-Operators" accesskey="u" rel="up">Bitwise Operators</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Bitwise-Left-and-Right-Shift-Operators-1"></span><h4 class="subsection">32.1.5 Bitwise Left and Right Shift Operators</h4>

<p>The <em>bitwise left shift operator</em> (&lsquo;<samp>&lt;&lt;</samp>&rsquo;) and <em>bitwise right shift
operator</em> (&lsquo;<samp>&gt;&gt;</samp>&rsquo;) move all bits in a number to the left or the right by a
certain number of places, according to the rules defined below.
</p>
<p>Bitwise left and right shifts have the effect of multiplying or dividing
an integer by a factor of two. Shifting an integer&rsquo;s bits to the left by
one position doubles its value, whereas shifting it to the right by one
position halves its value.
</p>
<ol>
<li> Shifting Behavior for Unsigned Integers


<p>The bit-shifting behavior for unsigned integers is as follows:
</p>
<ol>
<li> Existing bits are moved to the left or right by the requested number
of places.

</li><li> Any bits that are moved beyond the bounds of the integer&rsquo;s storage
are discarded.

</li><li> Zeros are inserted in the spaces left behind after the original bits
are moved to the left or right.
</li></ol>

<p>This approach is known as a <em>logical shift</em>.
</p>
<p>The illustration below shows the results of &lsquo;<samp>11111111 &lt;&lt; 1</samp>&rsquo; (which is
&lsquo;<samp>11111111</samp>&rsquo; shifted to the left by &lsquo;<samp>1</samp>&rsquo; place), and &lsquo;<samp>11111111 &gt;&gt; 1</samp>&rsquo; (which
is &lsquo;<samp>11111111</samp>&rsquo; shifted to the right by &lsquo;<samp>1</samp>&rsquo; place). Blue numbers are
shifted, gray numbers are discarded, and orange zeros are inserted:
</p>
<img src="images/bitshiftUnsigned_2x.png" alt="images/bitshiftUnsigned_2x">
<p>Here&rsquo;s how bit shifting looks in Swift code:
</p>
<div class="example">
<pre class="example">let shiftBits: UInt8 = 4 // 00000100 in binary
shiftBits &lt;&lt; 1 // 00001000
shiftBits &lt;&lt; 2 // 00010000
shiftBits &lt;&lt; 5 // 10000000
shiftBits &lt;&lt; 6 // 00000000
shiftBits &gt;&gt; 2 // 00000001
</pre></div>

<p>You can use bit shifting to encode and decode values within other data
types:
</p>
<div class="example">
<pre class="example">let pink: UInt32 = 0xCC6699
let redComponent = (pink &amp; 0xFF0000) &gt;&gt; 16 // redComponent is 0xCC, or 204
let greenComponent = (pink &amp; 0x00FF00) &gt;&gt; 8 // greenComponent is 0x66, or 102
let blueComponent = pink &amp; 0x0000FF // blueComponent is 0x99, or 153
</pre></div>

<p>This example uses a &lsquo;<samp>UInt32</samp>&rsquo; constant called &lsquo;<samp>pink</samp>&rsquo; to store a Cascading
Style Sheets color value for the color pink. The CSS color value
&lsquo;<samp>#CC6699</samp>&rsquo; is written as &lsquo;<samp>0xCC6699</samp>&rsquo; in Swift&rsquo;s hexadecimal number
representation. This color is then decomposed into its red (&lsquo;<samp>CC</samp>&rsquo;), green
(&lsquo;<samp>66</samp>&rsquo;), and blue (&lsquo;<samp>99</samp>&rsquo;) components by the bitwise AND operator (&lsquo;<samp>&amp;</samp>&rsquo;) and
the bitwise right shift operator (&lsquo;<samp>&gt;&gt;</samp>&rsquo;).
</p>
<p>The red component is obtained by performing a bitwise AND between the
numbers &lsquo;<samp>0xCC6699</samp>&rsquo; and &lsquo;<samp>0xFF0000</samp>&rsquo;. The zeros in &lsquo;<samp>0xFF0000</samp>&rsquo; effectively
“mask” the second and third bytes of &lsquo;<samp>0xCC6699</samp>&rsquo;, causing the &lsquo;<samp>6699</samp>&rsquo; to
be ignored and leaving &lsquo;<samp>0xCC0000</samp>&rsquo; as the result.
</p>
<p>This number is then shifted 16 places to the right (&lsquo;<samp>&gt;&gt; 16</samp>&rsquo;). Each pair
of characters in a hexadecimal number uses 8 bits, so a move 16 places
to the right will convert &lsquo;<samp>0xCC0000</samp>&rsquo; into &lsquo;<samp>0x0000CC</samp>&rsquo;. This is the same
as &lsquo;<samp>0xCC</samp>&rsquo;, which has a decimal value of &lsquo;<samp>204</samp>&rsquo;.
</p>
<p>Similarly, the green component is obtained by performing a bitwise AND
between the numbers &lsquo;<samp>0xCC6699</samp>&rsquo; and &lsquo;<samp>0x00FF00</samp>&rsquo;, which gives an output
value of &lsquo;<samp>0x006600</samp>&rsquo;. This output value is then shifted eight places to
the right, giving a value of &lsquo;<samp>0x66</samp>&rsquo;, which has a decimal value of &lsquo;<samp>102</samp>&rsquo;.
</p>
<p>Finally, the blue component is obtained by performing a bitwise AND
between the numbers &lsquo;<samp>0xCC6699</samp>&rsquo; and &lsquo;<samp>0x0000FF</samp>&rsquo;, which gives an output
value of &lsquo;<samp>0x000099</samp>&rsquo;. There&rsquo;s no need to shift this to the right, as
&lsquo;<samp>0x000099</samp>&rsquo; already equals &lsquo;<samp>0x99</samp>&rsquo;, which has a decimal value of &lsquo;<samp>153</samp>&rsquo;.
</p>
</li><li> Shifting Behavior for Signed Integers


<p>The shifting behavior is more complex for signed integers than for
unsigned integers, because of the way signed integers are represented in
binary. (The examples below are based on 8-bit signed integers for
simplicity, but the same principles apply for signed integers of any
size.)
</p>
<p>Signed integers use their first bit (known as the <em>sign bit</em>) to
indicate whether the integer is positive or negative. A sign bit of &lsquo;<samp>0</samp>&rsquo;
means positive, and a sign bit of &lsquo;<samp>1</samp>&rsquo; means negative.
</p>
<p>The remaining bits (known as the <em>value bits</em>) store the actual value.
Positive numbers are stored in exactly the same way as for unsigned
integers, counting upwards from &lsquo;<samp>0</samp>&rsquo;. Here&rsquo;s how the bits inside an
&lsquo;<samp>Int8</samp>&rsquo; look for the number &lsquo;<samp>4</samp>&rsquo;:
</p>
<img src="images/bitshiftSignedFour_2x.png" alt="images/bitshiftSignedFour_2x">
<p>The sign bit is &lsquo;<samp>0</samp>&rsquo; (meaning “positive”), and the seven value bits are
just the number &lsquo;<samp>4</samp>&rsquo;, written in binary notation.
</p>
<p>Negative numbers, however, are stored differently. They are stored by
subtracting their absolute value from &lsquo;<samp>2</samp>&rsquo; to the power of &lsquo;<samp>n</samp>&rsquo;, where &lsquo;<samp>n</samp>&rsquo;
is the number of value bits. An eight-bit number has seven value bits,
so this means &lsquo;<samp>2</samp>&rsquo; to the power of &lsquo;<samp>7</samp>&rsquo;, or &lsquo;<samp>128</samp>&rsquo;.
</p>
<p>Here&rsquo;s how the bits inside an &lsquo;<samp>Int8</samp>&rsquo; look for the number &lsquo;<samp>-4</samp>&rsquo;:
</p>
<img src="images/bitshiftSignedMinusFour_2x.png" alt="images/bitshiftSignedMinusFour_2x">
<p>This time, the sign bit is &lsquo;<samp>1</samp>&rsquo; (meaning “negative”), and the seven value
bits have a binary value of &lsquo;<samp>124</samp>&rsquo; (which is &lsquo;<samp>128 - 4</samp>&rsquo;):
</p>
<img src="images/bitshiftSignedMinusFourValue_2x.png" alt="images/bitshiftSignedMinusFourValue_2x">
<p>This encoding for negative numbers is known as a <em>two&rsquo;s complement</em>
representation. It may seem an unusual way to represent negative
numbers, but it has several advantages.
</p>
<p>First, you can add &lsquo;<samp>-1</samp>&rsquo; to &lsquo;<samp>-4</samp>&rsquo;, simply by performing a standard binary
addition of all eight bits (including the sign bit), and discarding
anything that doesn&rsquo;t fit in the eight bits once you&rsquo;re done:
</p>
<img src="images/bitshiftSignedAddition_2x.png" alt="images/bitshiftSignedAddition_2x">
<p>Second, the two&rsquo;s complement representation also lets you shift the bits
of negative numbers to the left and right like positive numbers, and
still end up doubling them for every shift you make to the left, or
halving them for every shift you make to the right. To achieve this, an
extra rule is used when signed integers are shifted to the right: When
you shift signed integers to the right, apply the same rules as for
unsigned integers, but fill any empty bits on the left with the <em>sign
bit</em>, rather than with a zero.
</p>
<img src="images/bitshiftSigned_2x.png" alt="images/bitshiftSigned_2x">
<p>This action ensures that signed integers have the same sign after they
are shifted to the right, and is known as an <em>arithmetic shift</em>.
</p>
<p>Because of the special way that positive and negative numbers are
stored, shifting either of them to the right moves them closer to zero.
Keeping the sign bit the same during this shift means that negative
integers remain negative as their value moves closer to zero.
</p></li></ol>

<hr>
<span id="Overflow-Operators"></span><div class="header">
<p>
Next: <a href="#Precedence-and-Associativity" accesskey="n" rel="next">Precedence and Associativity</a>, Previous: <a href="#Bitwise-Operators" accesskey="p" rel="prev">Bitwise Operators</a>, Up: <a href="#Advanced-Operators" accesskey="u" rel="up">Advanced Operators</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Overflow-Operators-1"></span><h3 class="section">32.2 Overflow Operators</h3>

<p>If you try to insert a number into an integer constant or variable that
cannot hold that value, by default Swift reports an error rather than
allowing an invalid value to be created. This behavior gives extra
safety when you work with numbers that are too large or too small.
</p>
<p>For example, the &lsquo;<samp>Int16</samp>&rsquo; integer type can hold any signed integer
between &lsquo;<samp>-32768</samp>&rsquo; and &lsquo;<samp>32767</samp>&rsquo;. Trying to set an &lsquo;<samp>Int16</samp>&rsquo; constant or
variable to a number outside of this range causes an error:
</p>
<div class="example">
<pre class="example">var potentialOverflow = Int16.max
// potentialOverflow equals 32767, which is the maximum value an Int16 can hold
potentialOverflow += 1
// this causes an error
</pre></div>

<p>Providing error handling when values get too large or too small gives
you much more flexibility when coding for boundary value conditions.
</p>
<p>However, when you specifically want an overflow condition to truncate
the number of available bits, you can opt in to this behavior rather
than triggering an error. Swift provides three arithmetic <em>overflow
operators</em> that opt in to the overflow behavior for integer
calculations. These operators all begin with an ampersand (&lsquo;<samp>&amp;</samp>&rsquo;):
</p>
<ul>
<li> Overflow addition (&lsquo;<samp>&amp;+</samp>&rsquo;)

</li><li> Overflow subtraction (&lsquo;<samp>&amp;-</samp>&rsquo;)

</li><li> Overflow multiplication (&lsquo;<samp>&amp;*</samp>&rsquo;)
</li></ul>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Value-Overflow" accesskey="1">Value Overflow</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Value-Overflow"></span><div class="header">
<p>
Up: <a href="#Overflow-Operators" accesskey="u" rel="up">Overflow Operators</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Value-Overflow-1"></span><h4 class="subsection">32.2.1 Value Overflow</h4>

<p>Numbers can overflow in both the positive and negative direction.
</p>
<p>Here&rsquo;s an example of what happens when an unsigned integer is allowed to
overflow in the positive direction, using the overflow addition operator
(&lsquo;<samp>&amp;+</samp>&rsquo;):
</p>
<div class="example">
<pre class="example">var unsignedOverflow = UInt8.max
// unsignedOverflow equals 255, which is the maximum value a UInt8 can hold
unsignedOverflow = unsignedOverflow &amp;+ 1
// unsignedOverflow is now equal to 0
</pre></div>

<p>The variable &lsquo;<samp>unsignedOverflow</samp>&rsquo; is initialized with the maximum value a
&lsquo;<samp>UInt8</samp>&rsquo; can hold (&lsquo;<samp>255</samp>&rsquo;, or &lsquo;<samp>11111111</samp>&rsquo; in binary). It is then
incremented by &lsquo;<samp>1</samp>&rsquo; using the overflow addition operator (&lsquo;<samp>&amp;+</samp>&rsquo;). This
pushes its binary representation just over the size that a &lsquo;<samp>UInt8</samp>&rsquo; can
hold, causing it to overflow beyond its bounds, as shown in the diagram
below. The value that remains within the bounds of the &lsquo;<samp>UInt8</samp>&rsquo; after the
overflow addition is &lsquo;<samp>00000000</samp>&rsquo;, or zero.
</p>
<img src="images/overflowAddition_2x.png" alt="images/overflowAddition_2x">
<p>Something similar happens when an unsigned integer is allowed to
overflow in the negative direction. Here&rsquo;s an example using the overflow
subtraction operator (&lsquo;<samp>&amp;-</samp>&rsquo;):
</p>
<div class="example">
<pre class="example">var unsignedOverflow = UInt8.min
// unsignedOverflow equals 0, which is the minimum value a UInt8 can hold
unsignedOverflow = unsignedOverflow &amp;- 1
// unsignedOverflow is now equal to 255
</pre></div>

<p>The minimum value that a &lsquo;<samp>UInt8</samp>&rsquo; can hold is zero, or &lsquo;<samp>00000000</samp>&rsquo; in
binary. If you subtract &lsquo;<samp>1</samp>&rsquo; from &lsquo;<samp>00000000</samp>&rsquo; using the overflow
subtraction operator (&lsquo;<samp>&amp;-</samp>&rsquo;), the number will overflow and wrap around to
&lsquo;<samp>11111111</samp>&rsquo;, or &lsquo;<samp>255</samp>&rsquo; in decimal.
</p>
<img src="images/overflowUnsignedSubtraction_2x.png" alt="images/overflowUnsignedSubtraction_2x">
<p>Overflow also occurs for signed integers. All addition and subtraction
for signed integers is performed in bitwise fashion, with the sign bit
included as part of the numbers being added or subtracted, as described
in <a href="#Bitwise-Left-and-Right-Shift-Operators">Bitwise Left and Right Shift
Operators</a>.
</p>
<div class="example">
<pre class="example">var signedOverflow = Int8.min
// signedOverflow equals -128, which is the minimum value an Int8 can hold
signedOverflow = signedOverflow &amp;- 1
// signedOverflow is now equal to 127
</pre></div>

<p>The minimum value that an &lsquo;<samp>Int8</samp>&rsquo; can hold is &lsquo;<samp>-128</samp>&rsquo;, or &lsquo;<samp>10000000</samp>&rsquo; in
binary. Subtracting &lsquo;<samp>1</samp>&rsquo; from this binary number with the overflow
operator gives a binary value of &lsquo;<samp>01111111</samp>&rsquo;, which toggles the sign bit
and gives positive &lsquo;<samp>127</samp>&rsquo;, the maximum positive value that an &lsquo;<samp>Int8</samp>&rsquo; can
hold.
</p>
<img src="images/overflowSignedSubtraction_2x.png" alt="images/overflowSignedSubtraction_2x">
<p>For both signed and unsigned integers, overflow in the positive
direction wraps around from the maximum valid integer value back to the
minimum, and overflow in the negative direction wraps around from the
minimum value to the maximum.
</p>
<hr>
<span id="Precedence-and-Associativity"></span><div class="header">
<p>
Next: <a href="#Operator-Methods-1" accesskey="n" rel="next">Operator Methods 1</a>, Previous: <a href="#Overflow-Operators" accesskey="p" rel="prev">Overflow Operators</a>, Up: <a href="#Advanced-Operators" accesskey="u" rel="up">Advanced Operators</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Precedence-and-Associativity-1"></span><h3 class="section">32.3 Precedence and Associativity</h3>

<p>Operator <em>precedence</em> gives some operators higher priority than others;
these operators are applied first.
</p>
<p>Operator <em>associativity</em> defines how operators of the same precedence
are grouped together&mdash;either grouped from the left, or grouped from the
right. Think of it as meaning “they associate with the expression to
their left,” or “they associate with the expression to their right.”
</p>
<p>It is important to consider each operator&rsquo;s precedence and associativity
when working out the order in which a compound expression will be
calculated. For example, operator precedence explains why the following
expression equals &lsquo;<samp>17</samp>&rsquo;.
</p>
<div class="example">
<pre class="example">2 + 3 % 4 * 5
// this equals 17
</pre></div>

<p>If you read strictly from left to right, you might expect the expression
to be calculated as follows:
</p>
<ul>
<li> &lsquo;<samp>2</samp>&rsquo; plus &lsquo;<samp>3</samp>&rsquo; equals &lsquo;<samp>5</samp>&rsquo;

</li><li> &lsquo;<samp>5</samp>&rsquo; remainder &lsquo;<samp>4</samp>&rsquo; equals &lsquo;<samp>1</samp>&rsquo;

</li><li> &lsquo;<samp>1</samp>&rsquo; times &lsquo;<samp>5</samp>&rsquo; equals &lsquo;<samp>5</samp>&rsquo;
</li></ul>

<p>However, the actual answer is &lsquo;<samp>17</samp>&rsquo;, not &lsquo;<samp>5</samp>&rsquo;. Higher-precedence operators
are evaluated before lower-precedence ones. In Swift, as in C, the
remainder operator (&lsquo;<samp>%</samp>&rsquo;) and the multiplication operator (&lsquo;<samp>*</samp>&rsquo;) have a
higher precedence than the addition operator (&lsquo;<samp>+</samp>&rsquo;). As a result, they
are both evaluated before the addition is considered.
</p>
<p>However, remainder and multiplication have the <em>same</em> precedence as each
other. To work out the exact evaluation order to use, you also need to
consider their associativity. Remainder and multiplication both
associate with the expression to their left. Think of this as adding
implicit parentheses around these parts of the expression, starting from
their left:
</p>
<div class="example">
<pre class="example">2 + ((3 % 4) * 5)
</pre></div>

<p>&lsquo;<samp>(3 % 4)</samp>&rsquo; is &lsquo;<samp>3</samp>&rsquo;, so this is equivalent to:
</p>
<div class="example">
<pre class="example">2 + (3 * 5)
</pre></div>

<p>&lsquo;<samp>(3 * 5)</samp>&rsquo; is &lsquo;<samp>15</samp>&rsquo;, so this is equivalent to:
</p>
<div class="example">
<pre class="example">2 + 15
</pre></div>

<p>This calculation yields the final answer of &lsquo;<samp>17</samp>&rsquo;.
</p>
<p>For information about the operators provided by the Swift standard
library, including a complete list of the operator precedence groups and
associativity settings, see
<a href="https://developer.apple.com/documentation/swift/operator_declarations">Operator
Declarations</a>
[<a href="https://developer.apple.com/documentation/swift/operator_declarations">https://developer.apple.com/documentation/swift/operator_declarations</a>].
</p>
<p>Note
</p>
<p>Swift&rsquo;s operator precedences and associativity rules are simpler and
more predictable than those found in C and Objective-C. However, this
means that they are not exactly the same as in C-based languages. Be
careful to ensure that operator interactions still behave in the way you
intend when porting existing code to Swift.
</p>
<hr>
<span id="Operator-Methods-1"></span><div class="header">
<p>
Next: <a href="#Custom-Operators" accesskey="n" rel="next">Custom Operators</a>, Previous: <a href="#Precedence-and-Associativity" accesskey="p" rel="prev">Precedence and Associativity</a>, Up: <a href="#Advanced-Operators" accesskey="u" rel="up">Advanced Operators</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Operator-Methods-3"></span><h3 class="section">32.4 Operator Methods</h3>

<p>Classes and structures can provide their own implementations of existing
operators. This is known as <em>overloading</em> the existing operators.
</p>
<p>The example below shows how to implement the arithmetic addition
operator (&lsquo;<samp>+</samp>&rsquo;) for a custom structure. The arithmetic addition operator
is a <em>binary operator</em> because it operates on two targets and is said to
be <em>infix</em> because it appears in between those two targets.
</p>
<p>The example defines a &lsquo;<samp>Vector2D</samp>&rsquo; structure for a two-dimensional
position vector &lsquo;<samp>(x, y)</samp>&rsquo;, followed by a definition of an <em>operator
method</em> to add together instances of the &lsquo;<samp>Vector2D</samp>&rsquo; structure:
</p>
<div class="example">
<pre class="example">struct Vector2D {
    var x = 0.0, y = 0.0
}

extension Vector2D {
    static func + (left: Vector2D, right: Vector2D) -&gt; Vector2D {
        return Vector2D(x: left.x + right.x, y: left.y + right.y)
    }
}
</pre></div>

<p>The operator method is defined as a type method on &lsquo;<samp>Vector2D</samp>&rsquo;, with a
method name that matches the operator to be overloaded (&lsquo;<samp>+</samp>&rsquo;). Because
addition isn&rsquo;t part of the essential behavior for a vector, the type
method is defined in an extension of &lsquo;<samp>Vector2D</samp>&rsquo; rather than in the main
structure declaration of &lsquo;<samp>Vector2D</samp>&rsquo;. Because the arithmetic addition
operator is a binary operator, this operator method takes two input
parameters of type &lsquo;<samp>Vector2D</samp>&rsquo; and returns a single output value, also of
type &lsquo;<samp>Vector2D</samp>&rsquo;.
</p>
<span id="index-left"></span>
<span id="index-right"></span>

<p>In this implementation, the input parameters are named &lsquo;<samp>left</samp>&rsquo; and
&lsquo;<samp>right</samp>&rsquo; to represent the &lsquo;<samp>Vector2D</samp>&rsquo; instances that will be on the left
side and right side of the &lsquo;<samp>+</samp>&rsquo; operator. The method returns a new
&lsquo;<samp>Vector2D</samp>&rsquo; instance, whose &lsquo;<samp>x</samp>&rsquo; and &lsquo;<samp>y</samp>&rsquo; properties are initialized with
the sum of the &lsquo;<samp>x</samp>&rsquo; and &lsquo;<samp>y</samp>&rsquo; properties from the two &lsquo;<samp>Vector2D</samp>&rsquo; instances
that are added together.
</p>
<p>The type method can be used as an infix operator between existing
&lsquo;<samp>Vector2D</samp>&rsquo; instances:
</p>
<div class="example">
<pre class="example">let vector = Vector2D(x: 3.0, y: 1.0)
let anotherVector = Vector2D(x: 2.0, y: 4.0)
let combinedVector = vector + anotherVector
// combinedVector is a Vector2D instance with values of (5.0, 5.0)
</pre></div>

<p>This example adds together the vectors &lsquo;<samp>(3.0, 1.0)</samp>&rsquo; and &lsquo;<samp>(2.0, 4.0)</samp>&rsquo; to
make the vector &lsquo;<samp>(5.0, 5.0)</samp>&rsquo;, as illustrated below.
</p>
<img src="images/vectorAddition_2x.png" alt="images/vectorAddition_2x">

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Prefix-and-Postfix-Operators" accesskey="1">Prefix and Postfix Operators</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Compound-Assignment-Operators-1" accesskey="2">Compound Assignment Operators</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top">&bull; <a href="#Equivalence-Operators" accesskey="3">Equivalence Operators</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Prefix-and-Postfix-Operators"></span><div class="header">
<p>
Next: <a href="#Compound-Assignment-Operators-1" accesskey="n" rel="next">Compound Assignment Operators 1</a>, Up: <a href="#Operator-Methods-1" accesskey="u" rel="up">Operator Methods 1</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Prefix-and-Postfix-Operators-1"></span><h4 class="subsection">32.4.1 Prefix and Postfix Operators</h4>

<p>The example shown above demonstrates a custom implementation of a binary
infix operator. Classes and structures can also provide implementations
of the standard <em>unary operators</em>. Unary operators operate on a single
target. They are <em>prefix</em> if they precede their target (such as &lsquo;<samp>-a</samp>&rsquo;)
and <em>postfix</em> operators if they follow their target (such as &lsquo;<samp>b!</samp>&rsquo;).
</p>
<p>You implement a prefix or postfix unary operator by writing the &lsquo;<samp>prefix</samp>&rsquo;
or &lsquo;<samp>postfix</samp>&rsquo; modifier before the &lsquo;<samp>func</samp>&rsquo; keyword when declaring the
operator method:
</p>
<div class="example">
<pre class="example">extension Vector2D {
    static prefix func - (vector: Vector2D) -&gt; Vector2D {
        return Vector2D(x: -vector.x, y: -vector.y)
    }
}
</pre></div>

<p>The example above implements the unary minus operator (&lsquo;<samp>-a</samp>&rsquo;) for
&lsquo;<samp>Vector2D</samp>&rsquo; instances. The unary minus operator is a prefix operator, and
so this method has to be qualified with the &lsquo;<samp>prefix</samp>&rsquo; modifier.
</p>
<p>For simple numeric values, the unary minus operator converts positive
numbers into their negative equivalent and vice versa. The corresponding
implementation for &lsquo;<samp>Vector2D</samp>&rsquo; instances performs this operation on both
the &lsquo;<samp>x</samp>&rsquo; and &lsquo;<samp>y</samp>&rsquo; properties:
</p>
<div class="example">
<pre class="example">let positive = Vector2D(x: 3.0, y: 4.0)
let negative = -positive
// negative is a Vector2D instance with values of (-3.0, -4.0)
let alsoPositive = -negative
// alsoPositive is a Vector2D instance with values of (3.0, 4.0)
</pre></div>

<hr>
<span id="Compound-Assignment-Operators-1"></span><div class="header">
<p>
Next: <a href="#Equivalence-Operators" accesskey="n" rel="next">Equivalence Operators</a>, Previous: <a href="#Prefix-and-Postfix-Operators" accesskey="p" rel="prev">Prefix and Postfix Operators</a>, Up: <a href="#Operator-Methods-1" accesskey="u" rel="up">Operator Methods 1</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Compound-Assignment-Operators-3"></span><h4 class="subsection">32.4.2 Compound Assignment Operators</h4>

<p><em>Compound assignment operators</em> combine assignment (&lsquo;<samp>=</samp>&rsquo;) with another
operation. For example, the addition assignment operator (&lsquo;<samp>+=</samp>&rsquo;) combines
addition and assignment into a single operation. You mark a compound
assignment operator&rsquo;s left input parameter type as &lsquo;<samp>inout</samp>&rsquo;, because the
parameter&rsquo;s value will be modified directly from within the operator
method.
</p>
<p>The example below implements an addition assignment operator method for
&lsquo;<samp>Vector2D</samp>&rsquo; instances:
</p>
<div class="example">
<pre class="example">extension Vector2D {
    static func += (left: inout Vector2D, right: Vector2D) {
        left = left + right
    }
}
</pre></div>

<p>Because an addition operator was defined earlier, you don&rsquo;t need to
reimplement the addition process here. Instead, the addition assignment
operator method takes advantage of the existing addition operator
method, and uses it to set the left value to be the left value plus the
right value:
</p>
<div class="example">
<pre class="example">var original = Vector2D(x: 1.0, y: 2.0)
let vectorToAdd = Vector2D(x: 3.0, y: 4.0)
original += vectorToAdd
// original now has values of (4.0, 6.0)
</pre></div>

<p>Note
</p>
<p>It isn&rsquo;t possible to overload the default assignment operator (&lsquo;<samp>=</samp>&rsquo;).
Only the compound assignment operators can be overloaded. Similarly, the
ternary conditional operator (&lsquo;<samp>a ? b : c</samp>&rsquo;) can&rsquo;t be overloaded.
</p>
<hr>
<span id="Equivalence-Operators"></span><div class="header">
<p>
Previous: <a href="#Compound-Assignment-Operators-1" accesskey="p" rel="prev">Compound Assignment Operators 1</a>, Up: <a href="#Operator-Methods-1" accesskey="u" rel="up">Operator Methods 1</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Equivalence-Operators-1"></span><h4 class="subsection">32.4.3 Equivalence Operators</h4>

<p>By default, custom classes and structures don&rsquo;t have an implementation
of the <em>equivalence operators</em>, known as the <em>equal to</em> operator (&lsquo;<samp>==</samp>&rsquo;)
and <em>not equal to</em> operator (&lsquo;<samp>!=</samp>&rsquo;). You usually implement the &lsquo;<samp>==</samp>&rsquo;
operator, and use the standard library&rsquo;s default implementation of the
&lsquo;<samp>!=</samp>&rsquo; operator that negates the result of the &lsquo;<samp>==</samp>&rsquo; operator. There are
two ways to implement the &lsquo;<samp>==</samp>&rsquo; operator: You can implement it yourself,
or for many types, you can ask Swift to synthesize an implementation for
you. In both cases, you add conformance to the standard library&rsquo;s
&lsquo;<samp>Equatable</samp>&rsquo; protocol.
</p>
<p>You provide an implementation of the &lsquo;<samp>==</samp>&rsquo; operator in the same way as
you implement other infix operators:
</p>
<div class="example">
<pre class="example">extension Vector2D: Equatable {
    static func == (left: Vector2D, right: Vector2D) -&gt; Bool {
        return (left.x == right.x) &amp;&amp; (left.y == right.y)
    }
}
</pre></div>

<p>The example above implements an &lsquo;<samp>==</samp>&rsquo; operator to check whether two
&lsquo;<samp>Vector2D</samp>&rsquo; instances have equivalent values. In the context of
&lsquo;<samp>Vector2D</samp>&rsquo;, it makes sense to consider “equal” as meaning “both
instances have the same &lsquo;<samp>x</samp>&rsquo; values and &lsquo;<samp>y</samp>&rsquo; values”, and so this is the
logic used by the operator implementation.
</p>
<p>You can now use this operator to check whether two &lsquo;<samp>Vector2D</samp>&rsquo; instances
are equivalent:
</p>
<div class="example">
<pre class="example">let twoThree = Vector2D(x: 2.0, y: 3.0)
let anotherTwoThree = Vector2D(x: 2.0, y: 3.0)
if twoThree == anotherTwoThree {
    print(&quot;These two vectors are equivalent.&quot;)
}
// Prints &quot;These two vectors are equivalent.&quot;
</pre></div>

<p>In many simple cases, you can ask Swift to provide synthesized
implementations of the equivalence operators for you. Swift provides
synthesized implementations for the following kinds of custom types:
</p>
<ul>
<li> Structures that have only stored properties that conform to the
&lsquo;<samp>Equatable</samp>&rsquo; protocol

</li><li> Enumerations that have only associated types that conform to the
&lsquo;<samp>Equatable</samp>&rsquo; protocol

</li><li> Enumerations that have no associated types
</li></ul>

<p>To receive a synthesized implementation of &lsquo;<samp>==</samp>&rsquo;, declare &lsquo;<samp>Equatable</samp>&rsquo;
conformance in the file that contains the original declaration, without
implementing an &lsquo;<samp>==</samp>&rsquo; operator yourself.
</p>
<p>The example below defines a &lsquo;<samp>Vector3D</samp>&rsquo; structure for a three-dimensional
position vector &lsquo;<samp>(x, y, z)</samp>&rsquo;, similar to the &lsquo;<samp>Vector2D</samp>&rsquo; structure.
Because the &lsquo;<samp>x</samp>&rsquo;, &lsquo;<samp>y</samp>&rsquo;, and &lsquo;<samp>z</samp>&rsquo; properties are all of an &lsquo;<samp>Equatable</samp>&rsquo; type,
&lsquo;<samp>Vector3D</samp>&rsquo; receives synthesized implementations of the equivalence
operators.
</p>
<div class="example">
<pre class="example">struct Vector3D: Equatable {
    var x = 0.0, y = 0.0, z = 0.0
}

let twoThreeFour = Vector3D(x: 2.0, y: 3.0, z: 4.0)
let anotherTwoThreeFour = Vector3D(x: 2.0, y: 3.0, z: 4.0)
if twoThreeFour == anotherTwoThreeFour {
    print(&quot;These two vectors are also equivalent.&quot;)
}
// Prints &quot;These two vectors are also equivalent.&quot;
</pre></div>

<hr>
<span id="Custom-Operators"></span><div class="header">
<p>
Previous: <a href="#Operator-Methods-1" accesskey="p" rel="prev">Operator Methods 1</a>, Up: <a href="#Advanced-Operators" accesskey="u" rel="up">Advanced Operators</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Custom-Operators-1"></span><h3 class="section">32.5 Custom Operators</h3>

<p>You can declare and implement your own <em>custom operators</em> in addition to
the standard operators provided by Swift. For a list of characters that
can be used to define custom operators, see Operators.
</p>
<span id="index-prefix"></span>
<span id="index-infix"></span>
<span id="index-postfix"></span>

<p>New operators are declared at a global level using the &lsquo;<samp>operator</samp>&rsquo;
keyword, and are marked with the &lsquo;<samp>prefix</samp>&rsquo;, &lsquo;<samp>infix</samp>&rsquo; or &lsquo;<samp>postfix</samp>&rsquo;
modifiers:
</p>
<ol>
<li> prefix operator +
</li></ol>

<p>The example above defines a new prefix operator called &lsquo;<samp>+++</samp>&rsquo;. This
operator does not have an existing meaning in Swift, and so it is given
its own custom meaning below in the specific context of working with
&lsquo;<samp>Vector2D</samp>&rsquo; instances. For the purposes of this example, &lsquo;<samp>+++</samp>&rsquo; is treated
as a new “prefix doubling” operator. It doubles the &lsquo;<samp>x</samp>&rsquo; and &lsquo;<samp>y</samp>&rsquo; values
of a &lsquo;<samp>Vector2D</samp>&rsquo; instance, by adding the vector to itself with the
addition assignment operator defined earlier. To implement the &lsquo;<samp>+++</samp>&rsquo;
operator, you add a type method called &lsquo;<samp>+++</samp>&rsquo; to &lsquo;<samp>Vector2D</samp>&rsquo; as follows:
</p>
<div class="example">
<pre class="example">extension Vector2D {
    static prefix func +++ (vector: inout Vector2D) -&gt; Vector2D {
        vector += vector
        return vector
    }
}

var toBeDoubled = Vector2D(x: 1.0, y: 4.0)
let afterDoubling = +++toBeDoubled
// toBeDoubled now has values of (2.0, 8.0)
// afterDoubling also has values of (2.0, 8.0)
</pre></div>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top">&bull; <a href="#Precedence-for-Custom-Infix-Operators" accesskey="1">Precedence for Custom Infix Operators</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr>
<span id="Precedence-for-Custom-Infix-Operators"></span><div class="header">
<p>
Up: <a href="#Custom-Operators" accesskey="u" rel="up">Custom Operators</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Precedence-for-Custom-Infix-Operators-1"></span><h4 class="subsection">32.5.1 Precedence for Custom Infix Operators</h4>

<p>Custom infix operators each belong to a precedence group. A precedence
group specifies an operator&rsquo;s precedence relative to other infix
operators, as well as the operator&rsquo;s associativity. See
<a href="#Precedence-and-Associativity">Precedence and Associativity</a> for an
explanation of how these characteristics affect an infix operator&rsquo;s
interaction with other infix operators.
</p>
<p>A custom infix operator that is not explicitly placed into a precedence
group is given a default precedence group with a precedence immediately
higher than the precedence of the ternary conditional operator.
</p>
<p>The following example defines a new custom infix operator called &lsquo;<samp>+-</samp>&rsquo;,
which belongs to the precedence group &lsquo;<samp>AdditionPrecedence</samp>&rsquo;:
</p>
<div class="example">
<pre class="example">infix operator +-: AdditionPrecedence
extension Vector2D {
    static func +- (left: Vector2D, right: Vector2D) -&gt; Vector2D {
        return Vector2D(x: left.x + right.x, y: left.y - right.y)
    }
}
let firstVector = Vector2D(x: 1.0, y: 2.0)
let secondVector = Vector2D(x: 3.0, y: 4.0)
let plusMinusVector = firstVector +- secondVector
// plusMinusVector is a Vector2D instance with values of (4.0, -2.0)
</pre></div>

<p>This operator adds together the &lsquo;<samp>x</samp>&rsquo; values of two vectors, and subtracts
the &lsquo;<samp>y</samp>&rsquo; value of the second vector from the first. Because it is in
essence an “additive” operator, it has been given the same precedence
group as additive infix operators such as &lsquo;<samp>+</samp>&rsquo; and &lsquo;<samp>-</samp>&rsquo;. For information
about the operators provided by the Swift standard library, including a
complete list of the operator precedence groups and associativity
settings, see
<a href="https://developer.apple.com/documentation/swift/operator_declarations">Operator
Declarations</a>
[<a href="https://developer.apple.com/documentation/swift/operator_declarations">https://developer.apple.com/documentation/swift/operator_declarations</a>].
For more information about precedence groups and to see the syntax for
defining your own operators and precedence groups, see Operator Declaration.
</p>
<p>Note
</p>
<p>You do not specify a precedence when defining a prefix or postfix
operator. However, if you apply both a prefix and a postfix operator to
the same operand, the postfix operator is applied first.
</p>
<hr>
<span id="Index"></span><div class="header">
<p>
Previous: <a href="#Advanced-Operators" accesskey="p" rel="prev">Advanced Operators</a>, Up: <a href="#Top" accesskey="u" rel="up">Top</a> &nbsp; [<a href="#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="#Index" title="Index" rel="index">Index</a>]</p>
</div>
<span id="Index-1"></span><h2 class="unnumbered">Index</h2>

<table><tr><th valign="top">Jump to: &nbsp; </th><td><a class="summary-letter" href="#Index_cp_symbol-1"><b>#</b></a>
 &nbsp; 
<a class="summary-letter" href="#Index_cp_symbol-2"><b>@</b></a>
 &nbsp; 
<a class="summary-letter" href="#Index_cp_symbol-3"><b>_</b></a>
 &nbsp; 
<br>
<a class="summary-letter" href="#Index_cp_letter-A"><b>A</b></a>
 &nbsp; 
<a class="summary-letter" href="#Index_cp_letter-B"><b>B</b></a>
 &nbsp; 
<a class="summary-letter" href="#Index_cp_letter-C"><b>C</b></a>
 &nbsp; 
<a class="summary-letter" href="#Index_cp_letter-D"><b>D</b></a>
 &nbsp; 
<a class="summary-letter" href="#Index_cp_letter-E"><b>E</b></a>
 &nbsp; 
<a class="summary-letter" href="#Index_cp_letter-F"><b>F</b></a>
 &nbsp; 
<a class="summary-letter" href="#Index_cp_letter-G"><b>G</b></a>
 &nbsp; 
<a class="summary-letter" href="#Index_cp_letter-I"><b>I</b></a>
 &nbsp; 
<a class="summary-letter" href="#Index_cp_letter-L"><b>L</b></a>
 &nbsp; 
<a class="summary-letter" href="#Index_cp_letter-M"><b>M</b></a>
 &nbsp; 
<a class="summary-letter" href="#Index_cp_letter-N"><b>N</b></a>
 &nbsp; 
<a class="summary-letter" href="#Index_cp_letter-O"><b>O</b></a>
 &nbsp; 
<a class="summary-letter" href="#Index_cp_letter-P"><b>P</b></a>
 &nbsp; 
<a class="summary-letter" href="#Index_cp_letter-R"><b>R</b></a>
 &nbsp; 
<a class="summary-letter" href="#Index_cp_letter-S"><b>S</b></a>
 &nbsp; 
<a class="summary-letter" href="#Index_cp_letter-T"><b>T</b></a>
 &nbsp; 
<a class="summary-letter" href="#Index_cp_letter-U"><b>U</b></a>
 &nbsp; 
<a class="summary-letter" href="#Index_cp_letter-V"><b>V</b></a>
 &nbsp; 
<a class="summary-letter" href="#Index_cp_letter-W"><b>W</b></a>
 &nbsp; 
</td></tr></table>
<table class="index-cp" border="0">
<tr><td></td><th align="left">Index Entry</th><td>&nbsp;</td><th align="left"> Section</th></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Index_cp_symbol-1">#</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0023"><code>#</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#String-Interpolation">String Interpolation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0023available"><code>#available</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Checking-API-Availability">Checking API Availability</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Index_cp_symbol-2">@</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0040autoclosure"><code>@autoclosure</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Autoclosures">Autoclosures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_0040escaping"><code>@escaping</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Escaping-Closures">Escaping Closures</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Index_cp_symbol-3">_</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-_005f"><code>_</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Functions-and-Closures">Functions and Closures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_005f-1"><code>_</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Switch">Switch</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-_005f-2"><code>_</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Omitting-Argument-Labels">Omitting Argument Labels</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Index_cp_letter-A">A</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-Any"><code>Any</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Type-Casting-for-Any-and-AnyObject">Type Casting for Any and AnyObject</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-AnyObject"><code>AnyObject</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Type-Casting-for-Any-and-AnyObject">Type Casting for Any and AnyObject</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-as"><code>as</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Downcasting">Downcasting</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-associatedtype"><code>associatedtype</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Associated-Types">Associated Types</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Index_cp_letter-B">B</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-break"><code>break</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Break">Break</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-break-retain-cycle">break retain cycle</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Resolving-Strong-Reference-Cycles-Between-Class-Instances">Resolving Strong Reference Cycles Between Class Instances</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-break-retain-cycle-in-closures">break retain cycle in closures</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Resolving-Strong-Reference-Cycles-for-Closures">Resolving Strong Reference Cycles for Closures</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Index_cp_letter-C">C</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-case"><code>case</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Switch">Switch</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-catch"><code>catch</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Handling-Errors-Using-Do_002dCatch">Handling Errors Using Do-Catch</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-categories">categories</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Extensions-1">Extensions 1</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-character">character</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Strings-and-Characters">Strings and Characters</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-class"><code>class</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Objects-and-Classes">Objects and Classes</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-class-1"><code>class</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Definition-Syntax">Definition Syntax</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-class-2"><code>class</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Type-Property-Syntax">Type Property Syntax</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-closures-as-last-argument-in-a-function">closures as last argument in a function</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Trailing-Closures">Trailing Closures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-closures-created-automatically-to-wrap-expression-arguments">closures created automatically to wrap expression arguments</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Autoclosures">Autoclosures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-construct-string-from-constants_002c-variables">construct string from constants, variables</a>:</td><td>&nbsp;</td><td valign="top"><a href="#String-Interpolation">String Interpolation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-constructors">constructors</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Initializers-2">Initializers 2</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-continue"><code>continue</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Continue">Continue</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-convenience"><code>convenience</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Designated-Initializers-and-Convenience-Initializers">Designated Initializers and Convenience Initializers</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Index_cp_letter-D">D</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-default"><code>default</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Switch">Switch</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-defer"><code>defer</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Specifying-Cleanup-Actions">Specifying Cleanup Actions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-define-a-closure-inline">define a closure inline</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Closure-Expressions">Closure Expressions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-deinit"><code>deinit</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Deinitialization">Deinitialization</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-didSet"><code>didSet</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Property-Observers">Property Observers</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-do"><code>do</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Handling-Errors-Using-Do_002dCatch">Handling Errors Using Do-Catch</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Index_cp_letter-E">E</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-early-return">early return</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Early-Exit">Early Exit</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-else"><code>else</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#If">If</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-empty-string_002c-create">empty string, create</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Initializing-an-Empty-String">Initializing an Empty String</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-enum"><code>enum</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Enumerations-and-Structures">Enumerations and Structures</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-exception">exception</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Error-Handling-1">Error Handling 1</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-extension"><code>extension</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Protocols-and-Extensions">Protocols and Extensions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-extension-1"><code>extension</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Extensions">Extensions</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Index_cp_letter-F">F</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-fallthrough"><code>fallthrough</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Fallthrough">Fallthrough</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fileprivate"><code>fileprivate</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Access-Levels">Access Levels</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-fileprivate-1"><code>fileprivate</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Access-Control-Syntax">Access Control Syntax</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-final"><code>final</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Preventing-Overrides">Preventing Overrides</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-for"><code>for</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#For_002dIn-Loops">For-In Loops</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-func"><code>func</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Defining-and-Calling-Functions">Defining and Calling Functions</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Index_cp_letter-G">G</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-get"><code>get</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Computed-Properties-1">Computed Properties 1</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-goto">goto</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Labeled-Statements">Labeled Statements</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-guard"><code>guard</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Early-Exit">Early Exit</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Index_cp_letter-I">I</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-if"><code>if</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#If">If</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-ignore-special-characters-in-strings">ignore special characters in strings</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Extended-String-Delimiters">Extended String Delimiters</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-import"><code>import</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Modules-and-Source-Files">Modules and Source Files</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-in"><code>in</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#For_002dIn-Loops">For-In Loops</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-indirect"><code>indirect</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Recursive-Enumerations">Recursive Enumerations</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-infix"><code>infix</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Custom-Operators">Custom Operators</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-init"><code>init</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Initializers">Initializers</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-inout"><code>inout</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#In_002dOut-Parameters">In-Out Parameters</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-interface_002c-protocol">interface, protocol</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Protocols-1">Protocols 1</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-internal"><code>internal</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Access-Levels">Access Levels</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-internal-1"><code>internal</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Access-Control-Syntax">Access Control Syntax</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-is"><code>is</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Checking-Type">Checking Type</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-iterate-characters-in-a-string">iterate characters in a string</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Working-with-Characters">Working with Characters</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Index_cp_letter-L">L</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-lazy"><code>lazy</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Lazy-Stored-Properties">Lazy Stored Properties</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-left"><code>left</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Operator-Methods-1">Operator Methods 1</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-let"><code>let</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Constants-and-Variables">Constants and Variables</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Index_cp_letter-M">M</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-mutating"><code>mutating</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Protocols-and-Extensions">Protocols and Extensions</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Index_cp_letter-N">N</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-no-need-to-break-in-switch-statements">no need to break in switch statements</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Fallthrough">Fallthrough</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-no-need-to-return-from-a-closure-with-a-single-expression">no need to return from a closure with a single expression</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Implicit-Returns-from-Single_002dExpression-Closures">Implicit Returns from Single-Expression Closures</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Index_cp_letter-O">O</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-open"><code>open</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Access-Levels">Access Levels</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-override"><code>override</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Overriding">Overriding</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Index_cp_letter-P">P</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-postfix"><code>postfix</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Custom-Operators">Custom Operators</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-precondition"><code>precondition</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Assertions-and-Preconditions">Assertions and Preconditions</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-prefix"><code>prefix</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Custom-Operators">Custom Operators</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-private"><code>private</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Access-Control-Syntax">Access Control Syntax</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-protocol"><code>protocol</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Protocols">Protocols</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-public"><code>public</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Access-Levels">Access Levels</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-public-1"><code>public</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Access-Control-Syntax">Access Control Syntax</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Index_cp_letter-R">R</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-repeat"><code>repeat</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Repeat_002dWhile">Repeat-While</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-required"><code>required</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Required-Initializers">Required Initializers</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-return"><code>return</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Function-Parameters-and-Return-Values">Function Parameters and Return Values</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-right"><code>right</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Operator-Methods-1">Operator Methods 1</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Index_cp_letter-S">S</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-self"><code>self</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#The-self-Property">The self Property</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-some"><code>some</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Returning-an-Opaque-Type">Returning an Opaque Type</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-static"><code>static</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Type-Property-Syntax">Type Property Syntax</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-string">string</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Strings-and-Characters">Strings and Characters</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-struct"><code>struct</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Definition-Syntax">Definition Syntax</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-subscript"><code>subscript</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Subscripts">Subscripts</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-super"><code>super</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Accessing-Superclass-Methods-Properties-and-Subscripts">Accessing Superclass Methods Properties and Subscripts</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-switch"><code>switch</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Switch">Switch</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-syntactic-sugar-to-declare-a-dictionary">syntactic sugar to declare a dictionary</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Dictionary-Type-Shorthand-Syntax">Dictionary Type Shorthand Syntax</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-syntactic-sugar-to-declare-an-array">syntactic sugar to declare an array</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Array-Type-Shorthand-Syntax">Array Type Shorthand Syntax</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Index_cp_letter-T">T</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-throw"><code>throw</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Representing-and-Throwing-Errors">Representing and Throwing Errors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-throws"><code>throws</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Error-Handling-1">Error Handling 1</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-transfer-control-from-one-piece-of-code-to-another">transfer control from one piece of code to another</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Control-Transfer-Statements">Control Transfer Statements</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-try"><code>try</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Handling-Errors">Handling Errors</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-try_0021"><code>try!</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Disabling-Error-Propagation">Disabling Error Propagation</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-try_003f"><code>try?</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Converting-Errors-to-Optional-Values">Converting Errors to Optional Values</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-typealias"><code>typealias</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Type-Aliases">Type Aliases</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-typedef">typedef</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Type-Aliases-1">Type Aliases 1</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Index_cp_letter-U">U</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-Unicode-in-string-literals">Unicode in string literals</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Special-Characters-in-String-Literals">Special Characters in String Literals</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-unowned"><code>unowned</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Unowned-References">Unowned References</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Index_cp_letter-V">V</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-var"><code>var</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Constants-and-Variables">Constants and Variables</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
<tr><th id="Index_cp_letter-W">W</th><td></td><td></td></tr>
<tr><td></td><td valign="top"><a href="#index-way-to-refer-to-a-closure-argument">way to refer to a closure argument</a>:</td><td>&nbsp;</td><td valign="top"><a href="#Shorthand-Argument-Names">Shorthand Argument Names</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-weak"><code>weak</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Weak-References">Weak References</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-where"><code>where</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Extensions-with-a-Generic-Where-Clause">Extensions with a Generic Where Clause</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-while"><code>while</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#While">While</a></td></tr>
<tr><td></td><td valign="top"><a href="#index-willSet"><code>willSet</code></a>:</td><td>&nbsp;</td><td valign="top"><a href="#Property-Observers">Property Observers</a></td></tr>
<tr><td colspan="4"> <hr></td></tr>
</table>
<table><tr><th valign="top">Jump to: &nbsp; </th><td><a class="summary-letter" href="#Index_cp_symbol-1"><b>#</b></a>
 &nbsp; 
<a class="summary-letter" href="#Index_cp_symbol-2"><b>@</b></a>
 &nbsp; 
<a class="summary-letter" href="#Index_cp_symbol-3"><b>_</b></a>
 &nbsp; 
<br>
<a class="summary-letter" href="#Index_cp_letter-A"><b>A</b></a>
 &nbsp; 
<a class="summary-letter" href="#Index_cp_letter-B"><b>B</b></a>
 &nbsp; 
<a class="summary-letter" href="#Index_cp_letter-C"><b>C</b></a>
 &nbsp; 
<a class="summary-letter" href="#Index_cp_letter-D"><b>D</b></a>
 &nbsp; 
<a class="summary-letter" href="#Index_cp_letter-E"><b>E</b></a>
 &nbsp; 
<a class="summary-letter" href="#Index_cp_letter-F"><b>F</b></a>
 &nbsp; 
<a class="summary-letter" href="#Index_cp_letter-G"><b>G</b></a>
 &nbsp; 
<a class="summary-letter" href="#Index_cp_letter-I"><b>I</b></a>
 &nbsp; 
<a class="summary-letter" href="#Index_cp_letter-L"><b>L</b></a>
 &nbsp; 
<a class="summary-letter" href="#Index_cp_letter-M"><b>M</b></a>
 &nbsp; 
<a class="summary-letter" href="#Index_cp_letter-N"><b>N</b></a>
 &nbsp; 
<a class="summary-letter" href="#Index_cp_letter-O"><b>O</b></a>
 &nbsp; 
<a class="summary-letter" href="#Index_cp_letter-P"><b>P</b></a>
 &nbsp; 
<a class="summary-letter" href="#Index_cp_letter-R"><b>R</b></a>
 &nbsp; 
<a class="summary-letter" href="#Index_cp_letter-S"><b>S</b></a>
 &nbsp; 
<a class="summary-letter" href="#Index_cp_letter-T"><b>T</b></a>
 &nbsp; 
<a class="summary-letter" href="#Index_cp_letter-U"><b>U</b></a>
 &nbsp; 
<a class="summary-letter" href="#Index_cp_letter-V"><b>V</b></a>
 &nbsp; 
<a class="summary-letter" href="#Index_cp_letter-W"><b>W</b></a>
 &nbsp; 
</td></tr></table>

<hr>



</body>
</html>
